import { Component } from '@angular/core';
import { Validators } from '@angular/forms';
import { AppConstants } from '../@core/constants/app-constants';
import { RBACINFO } from '../@core/urls/rbac-url.config';
import * as i0 from "@angular/core";
import * as i1 from "@angular/forms";
import * as i2 from "../@core/service/alert.service";
import * as i3 from "../@core/service/microstrategy.service";
import * as i4 from "../@core/service/rbac.service";
import * as i5 from "../@core/service/data-store.service";
import * as i6 from "@angular/common";
import * as i7 from "primeng/tabmenu";
import * as i8 from "primeng/api";
import * as i9 from "primeng/tooltip";
import * as i10 from "primeng/tree";
import * as i11 from "primeng/dropdown";
import * as i12 from "primeng/card";
import * as i13 from "primeng/accordion";
import * as i14 from "primeng/inputtext";
import * as i15 from "primeng/multiselect";
import * as i16 from "../@core/directives/permission.directive";
import * as i17 from "../@core/directives/show-field.directives";
import * as i18 from "../@shared/alert/alert.component";
export class RolesComponent {
    formBuilder;
    alertService;
    mstrService;
    rolesService;
    _storeservice;
    permissionService;
    roleId;
    deleteactive_user = false;
    deleteactive_buttonok = false;
    roleList = [];
    filteredRoleList = [];
    isDisabled;
    selectedPermissionsGroup = [];
    userroles = [];
    isDisabledOther;
    deletedId;
    modelRoleName = '';
    roleForm;
    formSubmit;
    permissions = [];
    filterPermissions = [];
    landingPage = [];
    policyGroupList;
    permissionAllow;
    orgId;
    reportDashboardList;
    duplicatereportDashboardList;
    environment;
    RBACORG = new RBACINFO();
    orgSubs;
    modalContent;
    items = [];
    activeItem;
    firstTab;
    mainMenuList = [];
    reArrangedList = [];
    dublicateLandingPage = [];
    menuList = [];
    subMenuList = [];
    parent = [];
    childMenuList = [];
    showChildren = false;
    parentMenulist = [];
    selectedFile;
    httpService;
    validationErrors = {};
    inputValidationMethod;
    policyGroupsLength;
    enableButton;
    checkedRolesArr = [];
    buildTree = (parentId) => (item) => {
        const children = this.menuList.filter((child) => child.parentid === item.id);
        return {
            ...item,
            ...(children.length > 0 && { children: children.map(this.buildTree(item.id)) }),
        };
    };
    originalPermissions = [];
    nestedData() {
        this.mainMenuList = this.menuList.filter((item) => !item.parentid).map(this.buildTree(null));
    }
    constructor(injector, formBuilder, alertService, mstrService, rolesService, _storeservice, permissionService) {
        this.formBuilder = formBuilder;
        this.alertService = alertService;
        this.mstrService = mstrService;
        this.rolesService = rolesService;
        this._storeservice = _storeservice;
        this.permissionService = permissionService;
        this.formSubmit = false;
        this.orgSubs = this._storeservice.currentStore.subscribe((res) => {
            this.inputValidationMethod = res['INPUTVALIDATIONMETHOD'];
            if (res['RBACORG'] && res['RBACORG'] !== '') {
                this.formSubmit = false;
                this.permissionAllow = false;
                this.RBACORG = res['RBACORG'];
                this.environment = this.RBACORG['environment'];
                this.orgId = parseInt(this.RBACORG['orgID']);
                this.httpService = res['HTTPSERVICE'];
            }
        });
    }
    ngOnInit() {
        this.initializeform();
        this.getReportDashboard();
        this.getRoleList();
        this.getPolicyGroupList();
        this.getLandingPage();
        this.getTabs();
        this.roleForm.valueChanges.subscribe(() => {
            this.enableButton = this.isAnyFormControlWithValue();
        });
    }
    isAnyFormControlWithValue() {
        const formValue = this.roleForm.value;
        const avoidProperties = ['parentid'];
        for (const key in formValue) {
            if (formValue.hasOwnProperty(key) && !avoidProperties.includes(key) && formValue[key]) {
                return true;
            }
        }
        return false;
    }
    ngOnDestroy() {
        this.orgSubs.unsubscribe();
    }
    initializeform() {
        this.roleForm = this.formBuilder.group({
            name: ['', Validators.required],
            defaultpageid: ['', Validators.required],
            parentid: [2],
            policyGroupId: [{ value: '', disabled: false }, Validators.required],
            dossierid: []
        });
    }
    get formValidate() {
        return this.roleForm.controls;
    }
    onInput(event, fieldtype, label, required) {
        const error = this.inputValidationMethod(event, fieldtype, label, required);
        if (error && typeof error === 'string') {
            this.validationErrors[label] = error;
        }
        else {
            delete this.validationErrors[label];
        }
    }
    getLandingPage() {
        this.rolesService.getLandingPage('1').subscribe((res) => {
            if (res) {
                this.landingPage = res['data'].filter((x) => x.route.charAt(0) === '/');
            }
            this.dublicateLandingPage = [...this.landingPage];
        }, (error) => console.log(error));
    }
    getRoleList(_key) {
        this.rolesService.getAllUserRole(this.orgId).subscribe((res) => {
            this.roleList = res['data'].filter((a) => a.name !== 'Super admin');
            this.filteredRoleList = this.roleList;
        }, (err) => console.log(err));
    }
    getPolicyGroupList(_managementGroupId) {
        this.rolesService.getOrgPolicyGroupList(this.orgId).subscribe((res) => {
            this.policyGroupList = res['data'];
        }, (err) => console.log(err));
    }
    clearSearch(event) {
        const inputElement = document.querySelector('.form-control');
        if (inputElement) {
            inputElement.value = '';
            this.filteredRoleList = this.roleList;
        }
    }
    onClickAddRole() {
        this.enableButton = false;
        this.roleForm.reset();
        this.formSubmit = false;
        this.initializeform();
        console.log("on Click Add Role");
        this.roleForm.valueChanges.subscribe(() => {
            this.enableButton = this.isAnyFormControlWithValue();
            console.log('Enable button : ', this.enableButton);
        });
        console.log("on Click Add Role - step 2");
        const policyGroupControl = this.roleForm.get('policyGroupId');
        console.log("policyGroupId control before enable:", policyGroupControl.disabled);
        console.log("policyGroupId control before enable - step 2:", policyGroupControl.enabled);
        // Add a timeout to force re-evaluation
        setTimeout(() => {
            policyGroupControl.enable();
            console.log("policyGroupId control after enable:", policyGroupControl.disabled);
            console.log("policyGroupId control after enable - step 1 :", policyGroupControl.enabled);
        }, 0);
        policyGroupControl.enable();
        this.permissionAllow = false;
        this.permissions = [];
        this.filterPermissions = [];
        this.roleId = 0;
        this.firstTab = true;
        this.validationErrors = {};
        this.policyGroupsLength = 0;
    }
    searchRole(event) {
        const value = event.target.value.toLowerCase();
        this.filteredRoleList = this.roleList.filter(a => a?.name?.toLowerCase().startsWith(value));
    }
    clearPermission(event) {
        const inputElement = document.querySelector('.clearbox');
        if (inputElement) {
            inputElement.value = '';
        }
        this.permissions = this.originalPermissions;
    }
    searchRolePermission(event) {
        const value = event.target.value.toLowerCase();
        this.permissions = this.originalPermissions.filter(a => a?.description?.toLowerCase().startsWith(value));
    }
    getTabs() {
        this.items = [
            {
                label: 'Permissions',
                icon: '',
                command: event => {
                    this.activateMenu(event);
                }
            },
            {
                label: 'Menu Ordering',
                icon: '',
                command: event => {
                    this.activateMenu(event);
                }
            }
        ];
        this.activeItem = this.items[0];
        this.firstTab = true;
    }
    getRoleInfo(roleid) {
        this.formSubmit = false;
        this.validationErrors = {};
        this.clearPermission();
        this.dublicateLandingPage = this.landingPage;
        this.roleId = roleid;
        if (roleid) {
            this.isDisabled = true;
            this.getTabs();
            this.rolesService.getRoleById(roleid).subscribe((res) => {
                this.permissionAllow = true;
                this.roleInformation(res);
                this.selectPolicyGroup();
            });
        }
        else {
            this.roleForm.reset();
            this.permissions = [];
            this.isDisabled = false;
            this.isDisabledOther = false;
            this.roleForm.enable();
            this.policyGroupsLength = 0;
        }
    }
    roleInformation(res) {
        this.roleForm.patchValue({
            name: res.data.name,
            defaultpageid: res.data.defaultpageid,
            parentid: res.data.parentid,
            policyGroupId: res?.data?.policyGroups
                .filter((item) => item)
                .map((item) => {
                return item['id'];
            }) || [],
            dossierid: JSON.parse(res.data.dossierid)?.id
        });
        this.permissions = [...res?.data?.permissions];
        this.filterPermissions = this.permissions;
        this.permissions = this.permissions
            .map(f => {
            return Object.assign({ isFormBuilder: false }, f);
        })
            .map(g => {
            if (g.key === 'FORM') {
                g.isFormBuilder = true;
            }
            else {
                g.isFormBuilder = false;
            }
            return g;
        });
        this.selectedPermissionsGroup = [];
        if (res.data.permissions && res.data.permissions.length) {
            res.data.permissions.forEach((ele) => {
                this.getSelectedPermisions(ele);
            });
        }
        this.originalPermissions = this.permissions;
        this.isDisabledOther = !this.hasAccess;
        const isAdmin = this.userroles.find(({ name }) => name === 'Admin');
        if (isAdmin) {
            this.roleForm.enable();
            this.isDisabledOther = false;
        }
        // else if (!this.hasAccess || res.isreadonly) {
        //   this.roleForm.controls['name'].disable();
        // }
        else {
            // this.roleForm.enable();
        }
    }
    get hasAccess() {
        return this.userroles.find(({ id, name }) => id === this.roleId || name === 'Admin');
    }
    isPrivilage(permission) {
        if (permission && permission?.permissions && permission?.permissions?.length > 0) {
            return true;
        }
        else {
            return false;
        }
    }
    selectAllPage(index, event) {
        event.stopPropagation();
        this.permissions[index].checked = event.target.checked;
        this.setSelectedPermisions(event.target.checked, this.permissions[index].id, this.permissions[index].checked, this.permissions[index].checkedwrite);
        this.checkedRolesArr = this.permissions.filter((item) => item.checked === true);
        this.permissions[index].permissions.forEach((page) => {
            page.checked = event.target.checked;
            page.checkedwrite = event.target.checked;
            this.setSelectedPermisions(event.target.checked, page.id, page.checked, page.checkedwrite);
            page.permissions.forEach((privilege) => {
                privilege.checked = event.target.checked;
                privilege.checkedwrite = event.target.checked;
                this.setSelectedPermisions(event.target.checked, privilege.id, privilege.checked, privilege.checkedwrite);
            });
        });
    }
    getSelectedPermisions(item) {
        this.setSelectedPermisions(item.checked, item.id, item.checked, item.checkedwrite);
        if (item.permissions && item.permissions.length) {
            item.permissions.forEach((page) => {
                this.setSelectedPermisions(page.checked, page.id, page.checked, page.checkedwrite);
                if (page && page.permissions?.length) {
                    page.permissions.forEach((privilege) => {
                        this.setSelectedPermisions(privilege.checked, privilege.id, privilege.checked, privilege.checkedwrite);
                    });
                }
            });
        }
    }
    selectAllPrivilage(pageIndex, permissionIndex, event) {
        event.stopPropagation();
        if (event.target.checked) {
            this.permissions[pageIndex].checked = event.target.checked;
        }
        if (event.target.value === 'read' || event.target.value === 'on') {
            this.permissions[pageIndex].permissions[permissionIndex].checked = event.target.checked;
        }
        if (event.target.value === 'write') {
            this.permissions[pageIndex].permissions[permissionIndex].checkedwrite = event.target.checked;
        }
        this.setSelectedPermisions(event.target.checked, this.permissions[pageIndex].permissions[permissionIndex].id, this.permissions[pageIndex].permissions[permissionIndex].checked, this.permissions[pageIndex].permissions[permissionIndex].checkedwrite);
        if (event.target.value === 'read' || event.target.value === 'on') {
            if (event.target.checked || !event.target.checked) {
                this.permissions[pageIndex].permissions[permissionIndex].permissions.forEach((page) => {
                    page.checked = event.target.checked;
                    this.setSelectedPermisions(event.target.checked, page.id, page.checked, page.checkedwrite);
                });
            }
        }
        else if (event.target.value === 'write') {
            if (event.target.checked) {
                this.permissions[pageIndex].permissions[permissionIndex].permissions.forEach((page) => {
                    page.checkedwrite = event.target.checked;
                    this.setSelectedPermisions(event.target.checked, page.id, page.checked, page.checkedwrite);
                });
            }
        }
        this.getPageChecked(pageIndex);
    }
    selectPage(pageIndex, permissionIndex, event) {
        event.stopPropagation();
        if (event.target.value === 'write') {
            this.permissions[pageIndex].permissions[permissionIndex].checkedwrite = event.target.checked;
        }
        if (event.target.value === 'read') {
            this.permissions[pageIndex].permissions[permissionIndex].checked = event.target.checked;
        }
        this.setSelectedPermisions(event.target.checked, this.permissions[pageIndex].permissions[permissionIndex].id, this.permissions[pageIndex].permissions[permissionIndex].checked, this.permissions[pageIndex].permissions[permissionIndex].checkedwrite);
        this.getPageChecked(pageIndex);
    }
    selectPrivilege(pageIndex, permissionIndex, privilegeIndex, event) {
        event.stopPropagation();
        if (event.target.value === 'write') {
            this.permissions[pageIndex].permissions[permissionIndex].permissions[privilegeIndex].checkedwrite =
                event.target.checked;
        }
        if (event.target.value === 'read' || event.target.value === 'on') {
            this.permissions[pageIndex].permissions[permissionIndex].permissions[privilegeIndex].checked =
                event.target.checked;
        }
        this.setSelectedPermisions(event.target.checked, this.permissions[pageIndex].permissions[permissionIndex].permissions[privilegeIndex].id, this.permissions[pageIndex].permissions[permissionIndex].permissions[privilegeIndex].checked, this.permissions[pageIndex].permissions[permissionIndex].permissions[privilegeIndex].checkedwrite);
        this.getPrivilageChecked(pageIndex, permissionIndex);
        this.getPageChecked(pageIndex);
    }
    getPageChecked(pageIndex) {
        if (this.permissions[pageIndex].checked !== this.getChecked(this.permissions[pageIndex].permissions) &&
            this.permissions[pageIndex].checkedwrite !== this.getCheckedWrite(this.permissions[pageIndex].permissions)) {
            this.permissions[pageIndex].checked = this.getChecked(this.permissions[pageIndex].permissions);
            this.setSelectedPermisions(this.permissions[pageIndex].checked, this.permissions[pageIndex].id, this.permissions[pageIndex].checked, this.permissions[pageIndex].checkedwrite);
        }
    }
    getPrivilageChecked(pageIndex, permissionIndex) {
        if (this.permissions[pageIndex].permissions[permissionIndex].checked !==
            this.getChecked(this.permissions[pageIndex].permissions[permissionIndex].permissions)) {
            this.permissions[pageIndex].permissions[permissionIndex].checked = this.getChecked(this.permissions[pageIndex].permissions[permissionIndex].permissions);
            this.setSelectedPermisions(this.permissions[pageIndex].permissions[permissionIndex].checked, this.permissions[pageIndex].permissions[permissionIndex].id, this.permissions[pageIndex].permissions[permissionIndex].checked, this.permissions[pageIndex].permissions[permissionIndex].checkedwrite);
        }
        else if (this.permissions[pageIndex].permissions[permissionIndex].checkedwrite !==
            this.getCheckedWrite(this.permissions[pageIndex].permissions[permissionIndex].permissions)) {
            this.permissions[pageIndex].permissions[permissionIndex].checkedwrite = this.getCheckedWrite(this.permissions[pageIndex].permissions[permissionIndex].permissions);
            this.setSelectedPermisions(this.permissions[pageIndex].permissions[permissionIndex].checked, this.permissions[pageIndex].permissions[permissionIndex].id, this.permissions[pageIndex].permissions[permissionIndex].checked, this.permissions[pageIndex].permissions[permissionIndex].checkedwrite);
        }
        if (this.permissions[pageIndex].checked !==
            this.getChecked(this.permissions[pageIndex].permissions)) {
            this.permissions[pageIndex].checked = this.getChecked(this.permissions[pageIndex].permissions);
            this.setSelectedPermisions(this.permissions[pageIndex].checked, this.permissions[pageIndex].id, this.permissions[pageIndex].checked, this.permissions[pageIndex].checkedwrite);
        }
        else if (this.permissions[pageIndex].checkedwrite !==
            this.getCheckedWrite(this.permissions[pageIndex].permissions)) {
            this.permissions[pageIndex].checkedwrite = this.getCheckedWrite(this.permissions[pageIndex].permissions);
            this.setSelectedPermisions(this.permissions[pageIndex].checked, this.permissions[pageIndex].id, this.permissions[pageIndex].checked, this.permissions[pageIndex].checkedwrite);
        }
    }
    selectAllAccess(value) {
        if (value === false) {
            this.checkedRolesArr = [];
        }
        this.permissions.forEach((page) => {
            page.checked = value;
            this.setSelectedPermisions(value, page.id, page.checked, page.checkedwrite);
            if (page && page.permissions) {
                page.permissions.forEach((permission) => {
                    permission.checked = value;
                    this.setSelectedPermisions(value, permission.id, permission.checked, permission.checkedwrite);
                    if (permission && permission.permissions?.length) {
                        permission.permissions.forEach((privilege) => {
                            privilege.checked = value;
                            privilege.checkedwrite = value;
                            this.setSelectedPermisions(value, privilege.id, privilege.checked, privilege.checkedwrite);
                        });
                    }
                });
            }
        });
    }
    addNewRole(id) {
        this.permissions = [];
        this.formSubmit = false;
        this.permissionAllow = false;
        this.rolesService.getPermissionRoleById(id).subscribe((res) => {
            this.permissionAllow = true;
            this.permissions = res['data'];
        }, (err) => console.log(err));
    }
    setSelectedPermisions(_selected, id, allow, write) {
        const index = this.selectedPermissionsGroup.findIndex(res => res.id === id);
        if (index === -1 && allow) {
            this.selectedPermissionsGroup.push({ id, allow, write });
        }
        else if (!allow && !write && index !== -1) {
            this.selectedPermissionsGroup.splice(index, 1);
        }
        else if (index !== -1) {
            this.selectedPermissionsGroup = this.selectedPermissionsGroup.map(i => {
                if (i.id === id) {
                    i.write = write;
                    i.allow = allow;
                }
                return i;
            });
        }
    }
    resetReportDashboardList() {
        this.reportDashboardList = this.duplicatereportDashboardList;
    }
    addRole() {
        this.formSubmit = true;
        let data = this.roleForm.getRawValue();
        if (this.roleForm.valid) {
            const dossierConfig = this.reportDashboardList?.filter((dossier) => dossier.id === data.dossierid)?.map((a) => ({
                id: a.id,
                projectId: a.projectId
            }))[0];
            data.priority = this.environment.priority;
            data.applicationid = this.environment.applicationid;
            data.parentid = 2;
            data.permissions = this.selectedPermissionsGroup;
            data.dossierid = JSON.stringify(dossierConfig);
            data = Object.assign({ organizationid: this.orgId }, data);
            if (this.roleId) {
                data.id = Number(this.roleId);
                this.rolesService.updateRole(this.roleId, data).subscribe(() => {
                    this.getRoleList();
                    this.mapPolicyGroupToRole(this.roleId, data.policyGroupId);
                    this.alertService.success('Role updated successfully');
                }, (err) => this.alertService.error(err.error.message));
            }
            else {
                data.id = 0;
                data.priority = this.environment.priority;
                this.rolesService.createRole(data).subscribe((res) => {
                    this.cancel();
                    if (data.policyGroupId) {
                        this.mapPolicyGroupToRole(res['data'], data.policyGroupId, 'add');
                    }
                    this.alertService.success('Role saved successfully');
                    this.getRoleList();
                }, (err) => this.alertService.error(err.error.message));
            }
        }
    }
    mapPolicyGroupToRole(id, data, action) {
        if (action === 'add') {
            this.rolesService.createPolicyGroupForRole(id, data).subscribe(() => console.log('policy group mapped to role successfully'), (_err) => this.alertService.error(AppConstants.errorMessage));
        }
        else {
            this.rolesService.updatePolicyGroupForRole(id, data).subscribe(() => console.log('policy group mapped to role successfully'), (_err) => this.alertService.error(AppConstants.errorMessage));
        }
    }
    getReturnValue(array = [], type) {
        return type === 'id'
            ? array.map(({ id }) => id)
            : array.map(id => {
                return { id };
            });
    }
    getChecked(item) {
        return item.filter(({ checked }) => checked).length > 0;
    }
    getCheckedWrite(item) {
        return item.filter(({ checkedwrite }) => checkedwrite).length > 0;
    }
    cancel() {
        this.roleForm.reset();
        this.roleForm.enable();
        this.permissions = [];
        this.formSubmit = false;
        this.permissionAllow = false;
        this.roleId = 0;
        this.validationErrors = {};
        this.filteredRoleList = this.roleList;
        this.policyGroupsLength = 0;
    }
    delete(event, id, item) {
        if (item?.active_user !== null) {
            this.deleteactive_user = false;
            this.deleteactive_buttonok = false;
            // Perform action when active_user is not null
            console.log('Deleting Role with active user');
            this.modalContent = 'This Role is currently associated with active users. De-link users from this Role, to proceed with deleting.';
        }
        else {
            // Perform action when active_user is null
            console.log('Deleting Role');
            this.modalContent = 'Are you sure you want to delete the Role?';
            this.deleteactive_user = true;
            this.deleteactive_buttonok = true;
        }
        event.stopPropagation();
        this.deletedId = id;
        $('#Deleteuser').modal('show');
    }
    deleteRole() {
        this.rolesService.deleteRole(this.deletedId).subscribe(() => {
            this.cancel();
            this.alertService.success('Role deleted successfully');
            $('#Deleteuser').modal('hide');
            this.getRoleList();
        }, (_err) => this.alertService.error('Failed to delete Role'));
    }
    async getReportDashboard() {
        this.reportDashboardList = await this.mstrService.getLibraryDetails();
        this.duplicatereportDashboardList = await this.mstrService.getLibraryDetails();
    }
    // roleValidation(): any {
    //   if (!this.roleForm.value.dossierid) {
    //     this.alertService.warn('Please fill all required fields');
    //     return false;
    //   }
    //   return true;
    // }
    onModelRole(value) {
        this.modelRoleName = value;
    }
    searchLandingPageList(event) {
        const value = event.target.value.toLowerCase();
        this.dublicateLandingPage = this.landingPage.filter((a) => a?.name?.toLowerCase().startsWith(value));
    }
    resetLandingPageList() {
        this.dublicateLandingPage = this.landingPage;
    }
    activateMenu(event) {
        if (event.item.label == 'Permissions') {
            this.firstTab = true;
            this.clearPermission();
        }
        else {
            this.firstTab = false;
            this.getPageInformation();
        }
    }
    getPageInformation() {
        this.permissionService.getAllPages(this.roleId).subscribe((res) => {
            this.menuList = res?.data;
            res.data.map((item, index) => {
                item.label = item.name;
            });
            this.nestedData();
            console.log(this.mainMenuList);
            // document.querySelector('#result').innerHTML = this.buildNavigation(this.menuList);
            // res.data.map((item, index) => {
            //   if (item.parentid == null) {
            //     let obj = {
            //       key : 1,
            //       id: item.id,
            //       parentid: item.parentid,
            //       label: item.name,
            //       data: 'Documents Folder',
            //       icon: 'pi pi-fw pi-inbox',
            //       children: []
            //     }
            //     this.mainMenuList.push(obj)
            //   }
            // });
            // this.mainMenuList.map((menu, index1) => {
            //   this.menuList.map((list, index) => {
            //     if (list?.parentid == menu?.id) {
            //       let obj = {
            //         key : 2,
            //         id: list.id,
            //         parentid: list.parentid,
            //         label: list.name,
            //         data: 'Documents Folder',
            //         icon: 'pi pi-fw pi-inbox',
            //         children: []
            //       }
            //       this.mainMenuList[index1].children.push(obj);
            //     }
            //   })
            // })
            // this.mainMenuList.map((menu, index1) => {
            //   menu.children.map((subitem, subindex) => {
            //     this.menuList.map((list, index) => {
            //       if(list.parentid == subitem.id)
            //       {
            //         let obj = {
            //             key : 3,
            //             id: list.id,
            //             parentid: list.parentid,
            //             label: list.name,
            //             data: 'Documents Folder',
            //             icon: 'pi pi-fw pi-inbox',
            //           }
            //           subitem.children.push(obj);
            //       }
            //     })
            //   })
            // })
        });
    }
    updateMenuOrder() {
        this.mainMenuList.forEach((element, index) => {
            let data = {
                'menuorder': index + 1,
                'id': element.rolepermissionid,
                'roleid': this.roleId
            };
            this.reArrangedList.push(data);
            if (element?.children?.length > 0) {
                element?.children?.forEach((childelement, childindex) => {
                    let childdata = {
                        'menuorder': childindex + 1,
                        'id': childelement.rolepermissionid,
                        'roleid': this.roleId
                    };
                    this.reArrangedList.push(childdata);
                    if (childelement?.children?.length > 0) {
                        childelement?.children?.forEach((childrenelement, childrenindex) => {
                            let childrendata = {
                                'menuorder': childrenindex + 1,
                                'id': childrenelement.rolepermissionid,
                                'roleid': this.roleId
                            };
                            this.reArrangedList.push(childrendata);
                        });
                    }
                });
            }
        });
        console.log('this.rearrangelist', this.reArrangedList);
        this.permissionService.updateMenuOrder({ pages: this.reArrangedList }).subscribe((res) => {
            // this.alertService.success('Updated Successfully!');
            // this.Service.sendUpdate('Updated Successfully');
            // this.getPageInformation();
            // for role details update
            this.addRole();
            const userRole = sessionStorage.getItem('role_id');
            if (Number(userRole) === this.roleId) {
                window.location.reload();
            }
        });
    }
    nodeDrop(event) {
        if (event.originalEvent.target.childNodes.length === 0) {
            if (event.dragNode.parentid == event.dropNode.parentid) {
                event.accept();
            }
            else {
                this.alertService.error('Not Allowed to Drop');
            }
            console.log('this.mainMenuList', this.mainMenuList);
        }
        else {
            this.alertService.error('Not Allowed to Drop');
        }
    }
    selectPolicyGroup() {
        this.policyGroupsLength = this.roleForm.value.policyGroupId.length;
    }
    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: RolesComponent, deps: [{ token: i0.Injector }, { token: i1.FormBuilder }, { token: i2.AlertService }, { token: i3.MicrostrategyService }, { token: i4.RbacService }, { token: i5.DataStoreService }, { token: i4.RbacService }], target: i0.ɵɵFactoryTarget.Component });
    static ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.12", type: RolesComponent, selector: "roles", ngImport: i0, template: "<app-alert></app-alert>\r\n<div class=\"permission\">\r\n  <div class=\"row\" [formGroup]=\"roleForm\">\r\n    <div class=\"col-lg-4 col-md-6 col-12\">\r\n      <div class=\"clearfix\"></div>\r\n      <div class=\"tab-content py-2 px-2 px-sm-0\">\r\n        <div class=\"tab-pane fade show active\">\r\n          <div class=\"form-group bgiconsearch d-flex align-items-center\"> <!-- Modified line -->\r\n            <span class=\"p-input-icon-right w-100\">\r\n              <i class=\"pi pi-times-circle\" (click)=\"clearSearch($event)\"></i>\r\n              <input class=\"form-control\" fieldKey=\"SETTINGS_ROL_SEARCH_BY_NAME\" placeholder=\"Search by Role name\"\r\n                type=\"text\" (keyup)=\"searchRole($event)\" />\r\n            </span>\r\n            <button type=\"button\" class=\"btn btn-primary btncommon ml-2\" fieldKey=\"SETTINGS_ROL_ADD_NEW\"\r\n              (click)=\"onClickAddRole()\">Add</button>\r\n          </div>\r\n          <div class=\"clearfix\"></div>\r\n          <div class=\"useracess\">\r\n            <div class=\"d-flex align-items-center justify-content-center h-100 w-100 ng-star-inserted\"\r\n              *ngIf=\"!filteredRoleList.length\">\r\n              <p>No Record Found</p>\r\n            </div>\r\n            <ng-container *ngFor=\"let item of filteredRoleList\">\r\n              <div class=\"row userdata align-items-center\" (click)=\"getRoleInfo(item.id)\"\r\n                [ngClass]=\"{ active: +item.id === roleId }\">\r\n                <div class=\"col-md-10 col-sm-10 col-10 overflow_txt\">\r\n                  <span class=\"nameuser\">{{ item.name }}</span> <br />\r\n                </div>\r\n                <div class=\"col-md-2 text-right\">\r\n                  <span class=\"right-icons\">\r\n                    <em class=\"fa fa-trash text-primary\" *showField=\"'SETTINGS_ROL_DELETE'\"\r\n                      (click)=\"delete($event, item.id, item)\" aria-hidden=\"true\"></em>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-lg-8 col-md-6 col-12 roles-right group-role mt-2\">\r\n      <p-card class=\"rbac-card\" [style]=\"{ width: '100%', 'margin-bottom': '2em' }\">\r\n        <div class=\"strip_head toggleleft\">\r\n          <span class=\"report_head font-weight-bold\">Role Details</span>\r\n        </div>\r\n        <div class=\"p-fluid p-formgrid row\">\r\n          <div class=\"p-field col-lg-4 col-md-12 col-12\">\r\n            <label for=\"rolesName\" class=\"referral-form-labels\">Role Name\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <input id=\"rolesName\" type=\"text\" fieldKey=\"SETTINGS_ROL_ROLE_NAME\" formControlName=\"name\"\r\n              placeholder=\"Enter Role Name\" aria-describedby=\"rolesName\" [(ngModel)]=\"modelRoleName\"\r\n              (ngModelChange)=\"onModelRole($event)\" (input)=\"onInput($event, 'name', 'Role Name', true)\" pInputText />\r\n            <div *ngIf=\"validationErrors['Role Name']\" class=\"p-error block mt-1\">{{validationErrors['Role Name']}}\r\n            </div>\r\n            <div *ngIf=\"!validationErrors['Role Name'] && formValidate['name'].errors && formSubmit\">\r\n              <div *ngIf=\"formValidate['name'].invalid\" class=\"p-error block mt-1\">Role Name is required </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"p-field col-lg-4 col-md-12 col-12\">\r\n            <label aria-labelledby=\"landingPage\" for=\"landingPage\" class=\"referral-form-labels\">Landing Page Menu\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <p-dropdown name=\"landingPage\" [options]=\"dublicateLandingPage\" placeholder=\"Select Landing Page Menu\"\r\n              formControlName=\"defaultpageid\" defaultLabel=\"Select Landing Page Menu\" (onHide)=\"resetLandingPageList()\"\r\n              [resetFilterOnHide]=\"true\" [filter]=\"true\" filterBy=\"name\" (keyup)=\"searchLandingPageList($event)\"\r\n              [showClear]=\"true\" fieldKey=\"SETTINGS_ROL_LANDING_PAGE\" optionLabel=\"name\" optionValue=\"id\"\r\n              inputId=\"landingPage\">\r\n              <ng-template let-item pTemplate=\"selectedItem\">\r\n                <div pTooltip=\"{{item?.name}}\" tooltipPosition=\"top\" class=\"text-truncate\"> {{ item?.name }}</div>\r\n              </ng-template>\r\n              <ng-template let-object pTemplate=\"item\">\r\n                {{ object.name }}\r\n              </ng-template>\r\n            </p-dropdown>\r\n            <div *ngIf=\"formValidate['defaultpageid'].errors && formSubmit\">\r\n              <div *ngIf=\"formValidate['defaultpageid'].invalid\" class=\"p-error block mt-1\">Landing Page Menu is\r\n                required\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"p-field col-lg-4 col-md-12 col-12\">\r\n            <label aria-labelledby=\"dossierId\" for=\"dossierId\" class=\"referral-form-labels\">Report Dashboard</label>\r\n            <p-dropdown [options]=\"reportDashboardList\" optionLabel=\"name\" id=\"dossierid\" [resetFilterOnHide]=\"true\"\r\n              [filter]=\"true\" [showClear]=\"true\" optionValue=\"id\" placeholder=\"Select ID\" formControlName=\"dossierid\">\r\n              <ng-template let-item pTemplate=\"selectedItem\">\r\n                <div pTooltip=\"{{item?.name}}\" tooltipPosition=\"top\" class=\"text-truncate\"> {{ item?.name }}</div>\r\n              </ng-template>\r\n              <ng-template let-object pTemplate=\"item\">\r\n                {{ object.name }}\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <!-- <div class=\"p-field col-lg-4 col-md-12 col-12\"></div>\r\n            <div class=\"p-field col-lg-4 col-md-12 col-12\">\r\n              <button\r\n                class=\"pull-right mb-2 btn btn-primary btncommon report_button\"\r\n                fieldKey=\"SETTINGS_ROL_CONFIGURE_PERMISSION\"\r\n                (click)=\"addNewRole('1')\">\r\n                Configure Permission\r\n              </button>\r\n            </div> -->\r\n        </div>\r\n        <div class=\"p-fluid p-formgrid row\">\r\n          <div class=\"p-field col-md-12 col-12\">\r\n            <p-accordion class=\"w-full policygroup-accordion\" iconPos=\"endVal\">\r\n              <p-accordionTab>\r\n                <ng-template pTemplate=\"header\">\r\n                  <span class=\"flex align-items-center head-text gap-2 w-full\">\r\n                    <span class=\"font-bold\">\r\n                      <label aria-labelledby=\"policyGroupList\" for=\"policyGroupList\"\r\n                        class=\"mb-0 referral-form-labels\">Policy\r\n                        Groups\r\n                        <span class=\"requiredfield text-danger\">*</span>\r\n                        <span *ngIf=\"policyGroupsLength > 0\" class=\"pg-count ml-2\">{{policyGroupsLength}}</span>\r\n                      </label>\r\n                    </span>\r\n                  </span>\r\n                </ng-template>\r\n\r\n                <p-multiSelect name=\"policyGroupList\" [options]=\"policyGroupList\" formControlName=\"policyGroupId\"\r\n                  defaultLabel=\"Select Policy Groups\" optionLabel=\"policygroupname\" optionValue=\"id\"\r\n                  (onHide)=\"resetReportDashboardList()\" [resetFilterOnHide]=\"true\" inputId=\"policyGroupList\"\r\n                  ariaFilterLabel=\"null\" fieldKey=\"SETTINGS_ROL_POLICY_GROUP\" display=\"chip\"\r\n                  styleClass=\"policygroup-v2 w-100\" (onChange)=\"selectPolicyGroup()\">\r\n                </p-multiSelect>\r\n              </p-accordionTab>\r\n            </p-accordion>\r\n            <div *ngIf=\"formValidate['policyGroupId'].errors && formSubmit\">\r\n              <div *ngIf=\"formValidate['policyGroupId'].invalid\" class=\"p-error block mt-1\">Policy Group is required\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <div class=\"mt-2\" *ngIf=\"permissionAllow\">\r\n          <button class=\"pull-right mb-2 mr-2 btn btn-primary btncommon\" fieldKey=\"SETTINGS_ROL_SELECT_ALL\"\r\n            (click)=\"selectAllAccess(true)\">\r\n            Select All\r\n          </button>\r\n          <button fieldKey=\"SETTINGS_ROL_RESET\" class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\"\r\n            (click)=\"selectAllAccess(false)\" [disabled]=\"checkedRolesArr.length === 0\">\r\n            Reset\r\n          </button>\r\n          <!-- <br /> -->\r\n        </div>\r\n        <div class=\"strip_head toggleleft adjusttop\" *ngIf=\"permissionAllow\">\r\n          <!-- <span class=\"report_head font-weight-bold\">Permissions</span> -->\r\n          <p-tabMenu [model]=\"items\" [activeItem]=\"activeItem\"></p-tabMenu>\r\n        </div>\r\n\r\n        <div *ngIf=\"firstTab\">\r\n          <div class=\"clearfix\"></div>\r\n          <div class=\"mt-2 mb-3\">\r\n            <div *ngIf=\"permissionAllow\">\r\n              <div class=\"permission-filter\">\r\n                <input class=\"form-control clearbox\" placeholder=\"Search by Permissions name\" type=\"text\"\r\n                  (keyup)=\"searchRolePermission($event)\" />\r\n                <i class=\"pi pi-times-circle\" (click)=\"clearPermission($event)\"></i>\r\n              </div>\r\n              <div class=\"d-flex align-items-center justify-content-center h-100 w-100 ng-star-inserted\"\r\n                *ngIf=\"!filterPermissions.length\">\r\n                <p>No Record Found</p>\r\n              </div>\r\n            </div>\r\n            <p-accordion class=\"w-100\">\r\n              <p-accordionTab class=\"w-100\" *ngFor=\"let page of permissions; let i = index\">\r\n                <ng-template pTemplate=\"header\">\r\n                  {{ page.description }}\r\n                </ng-template>\r\n                <ng-template pTemplate=\"content\">\r\n                  <div class=\"heading_analysis datamargin\">\r\n                    <div class=\"g-checkbox pl-1\">\r\n                      <input type=\"checkbox\" class=\"styled-checkbox\" id=\"custom{{ i }}\"\r\n                        (change)=\"selectAllPage(i, $event)\" [checked]=\"page?.checked\" />\r\n                      <label for=\"custom{{ i }}\" class=\"heading_role\">{{ page.description }}</label>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <ul class=\"marginul_list ecms_rolescroll\">\r\n                    <ng-container *ngFor=\"let permission of page?.permissions; let j = index\">\r\n                      <ng-container *ngIf=\"isPrivilage(permission); else permissionOnly\">\r\n                        <li>\r\n                          <div class=\"inner_childaccess d-flex mt-0 py-1\">\r\n                            <div class=\"d-inline-flex align-items-center\">\r\n                              <label class=\"g-checkbox pl-1 mb-0\">\r\n                                <input type=\"checkbox\" [checked]=\"permission?.checked\"\r\n                                  (change)=\"selectAllPrivilage(i, j, $event)\" id=\"description{{ j }}\" />\r\n                                <span class=\"checkmark\"></span>\r\n                              </label>\r\n                              <label for=\"description{{ j }}\" class=\"heading_role mb-0\">{{\r\n                                permission.description\r\n                                }}</label>\r\n                            </div>\r\n                          </div>\r\n                        </li>\r\n                        <li class=\"ml-1\" *ngFor=\"let privilege of permission?.permissions; let k = index\">\r\n                          <div class=\"d-flex\">\r\n                            <div class=\"custom-control custom-switch\">\r\n                              <input type=\"checkbox\" [checked]=\"privilege?.checked\" class=\"custom-control-input\"\r\n                                id=\"customSwitchesroless{{ i }}{{ j }}{{ k }}\"\r\n                                (click)=\"selectPrivilege(i, j, k, $event)\" />\r\n                              <label class=\"custom-control-label\" for=\"customSwitchesroless{{ i }}{{ j }}{{ k }}\">{{\r\n                                privilege.description\r\n                                }}</label>\r\n                            </div>\r\n                          </div>\r\n                        </li>\r\n                      </ng-container>\r\n                      <ng-template #permissionOnly>\r\n                        <li>\r\n                          <div class=\"custom-control custom-switch\">\r\n                            <input type=\"checkbox\" [checked]=\"permission?.checked\" class=\"custom-control-input\"\r\n                              (click)=\"selectPage(i, j, $event)\" id=\"customSwitchesroles{{ i }}{{ j }}\" />\r\n                            <label class=\"custom-control-label\" for=\"customSwitchesroles{{ i }}{{ j }}\">{{\r\n                              permission.description }}\r\n                            </label>\r\n                          </div>\r\n                        </li>\r\n                      </ng-template>\r\n                    </ng-container>\r\n                  </ul>\r\n                </ng-template>\r\n              </p-accordionTab>\r\n            </p-accordion>\r\n            <div class=\"col-md-12 box d-none\" *ngFor=\"let page of permissions; let i = index\">\r\n              <div class=\"heading_analysis datamargin\">\r\n                <div class=\"Customcheckbox\">\r\n                  <input type=\"checkbox\" class=\"styled-checkbox\" id=\"custom{{ i }}\" (change)=\"selectAllPage(i, $event)\"\r\n                    [checked]=\"page?.checked\" />\r\n                  <label for=\"custom{{ i }}\" class=\"heading_role\">{{ page.description }}</label>\r\n                </div>\r\n              </div>\r\n\r\n              <ul class=\"marginul_list ecms_rolescroll\">\r\n                <ng-container *ngFor=\"let permission of page?.permissions; let j = index\">\r\n                  <ng-container *ngIf=\"isPrivilage(permission); else permissionOnly\">\r\n                    <li>\r\n                      <div class=\"inner_childaccess\">\r\n                        <label class=\"Customcheckbox\">\r\n                          <input type=\"checkbox\" [checked]=\"permission?.checked\"\r\n                            (change)=\"selectAllPrivilage(i, j, $event)\" />\r\n                          <span class=\"checkmark\"></span>\r\n                        </label>\r\n                        <span class=\"heading_role\">{{ permission.description }}</span>\r\n                      </div>\r\n                    </li>\r\n                    <li *ngFor=\"let privilege of permission?.permissions; let k = index\">\r\n                      <div class=\"custom-control custom-switch\">\r\n                        <input type=\"checkbox\" [checked]=\"privilege?.checked\" class=\"custom-control-input\"\r\n                          id=\"customSwitchesroless{{ i }}{{ j }}{{ k }}\" (click)=\"selectPrivilege(i, j, k, $event)\" />\r\n                        <label class=\"custom-control-label\" for=\"customSwitchesroless{{ i }}{{ j }}{{ k }}\">{{\r\n                          privilege.description\r\n                          }}</label>\r\n                      </div>\r\n                    </li>\r\n                  </ng-container>\r\n                  <ng-template #permissionOnly>\r\n                    <li>\r\n                      <div class=\"custom-control custom-switch\">\r\n                        <input type=\"checkbox\" [checked]=\"permission?.checked\" class=\"custom-control-input\"\r\n                          (click)=\"selectPage(i, j, $event)\" id=\"customSwitchesroles{{ i }}{{ j }}\" />\r\n                        <label class=\"custom-control-label\" for=\"customSwitchesroles{{ i }}{{ j }}\">{{\r\n                          permission.description }}\r\n                        </label>\r\n                      </div>\r\n                    </li>\r\n                  </ng-template>\r\n                </ng-container>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <button class=\"pull-right btn btn-primary btncommon\" fieldKey=\"SETTINGS_ROL_ADD_ROLE\" (click)=\"addRole()\">\r\n              {{ roleId ? 'Update' : 'Add' }} Role\r\n            </button>\r\n            <button class=\"pull-right mr-2 btn bg-white text-primary btncancel\" fieldKey=\"SETTINGS_ROL_CANCEL\"\r\n              (click)=\"cancel()\" [disabled]=\"!enableButton\">\r\n              Clear\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div *ngIf=\"!firstTab\">\r\n\r\n          <div class=\"card flex justify-content-center mt-4\">\r\n            <p-tree [value]=\"mainMenuList\" [draggableNodes]=\"true\" [droppableNodes]=\"true\" draggableScope=\"self\"\r\n              droppableScope=\"self\" class=\"w-full md:w-30rem\" selectionMode=\"single\" [(selection)]=\"selectedFile\"\r\n              [validateDrop]=\"true\" (onNodeDrop)=\"nodeDrop($event)\"></p-tree>\r\n          </div>\r\n\r\n          <div class=\"mt-2\">\r\n            <button class=\"pull-right mb-2 btn btn-primary btncommon\" fieldKey=\"SETTINGS_ROL_ADD_ROLE\"\r\n              (click)=\"updateMenuOrder()\">\r\n              Submit\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <br />\r\n      </p-card>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"modal\" id=\"Deleteuser\" tabindex=\"-1\" role=\"dialog\">\r\n  <div class=\"modal-dialog\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-body\">\r\n        <p>{{ modalContent }}</p>\r\n        <div class=\"clearfix\"></div>\r\n        <div class=\"mt-2\">\r\n          <button class=\"pull-right mb-2 btn btn-primary btncommon delete\" data-dismiss=\"modal\" (click)=\"deleteRole()\"\r\n            *ngIf=\"deleteactive_user\">\r\n            Delete\r\n          </button>\r\n\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\"\r\n            *ngIf=\"deleteactive_buttonok\">\r\n            Cancel\r\n          </button>\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\"\r\n            *ngIf=\"!deleteactive_buttonok\">\r\n            OK\r\n          </button>\r\n        </div>\r\n\r\n        <div class=\"clearfix\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n", styles: [".head-div{padding-top:9px;padding-left:7px}.bgiconsearch{margin-bottom:5px;padding-bottom:0;font-size:var(--font-13)}.useracess{border-radius:2px;padding:5px 0;max-height:calc(100vh - 227px);overflow-y:auto}.userempty{max-width:none;border-radius:50%;height:35px;width:35px}.row.userdata{margin:0;border-bottom:solid 1px var(--table-border);padding:5px 0;cursor:pointer}.overflow_txt{overflow:hidden;text-overflow:ellipsis}span.nameuser{font-size:var(--font-16);color:var(--label-text);font-weight:400}.userid,span.emailuser{font-size:var(--font-15);color:#838383}.heading_analysis{padding-bottom:0;border-bottom:1px solid var(--table-border)}.Customcheckbox{position:relative;padding-top:0;padding-left:10px}.heading_role{padding-left:10px;font-size:var(--font-14);position:relative}.marginul_list{padding:0;margin:0}.marginul_list li{list-style:none;padding-top:5px}.marginul_list li label{color:var(--text-dark);text-transform:capitalize}.marginul_list.ecms_rolescroll{max-height:250px;overflow:auto;margin-bottom:20px}.ecms_rolescroll::-webkit-scrollbar{width:.5em;height:.5em}.ecms_rolescroll::-webkit-scrollbar-track{box-shadow:inset 0 0 6px #0000004d;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.ecms_rolescroll::-webkit-scrollbar-thumb{background-color:#a9a9a9;outline:1px solid slategrey}.inner_childaccess{margin-top:9px;margin-left:3px;border-bottom:1px solid var(--table-border)}.Customcheckbox input{display:inline-block}.Customcheckbox:hover input~.checkmark{border:solid 2px #2196f3}.Customcheckbox input~.checkmark{display:none}.Customcheckbox input:checked~.checkmark{display:none;border:solid 2px #1db766;background-color:#1db766}.Customcheckbox input:checked~.checkmark:after{display:block}.Customcheckbox .checkmark:after{left:6px;top:2px;width:5px;height:10px;border:solid #ffffff;border-width:0 2px 2px 0;transform:rotate(45deg)}.custom-control-input:checked~.custom-control-label:before{color:#fff;border:#1db766!important;background:#1db766!important}.custom-control.custom-switch.toggleleft .custom-control-label{padding-top:3px;font-size:var(--font-13)}.custom-switch .custom-control-label:after{top:calc(.25rem + 3px)}.toggle .custom-control-input:checked~.custom-control-label:before{color:#fff;border:#1db766!important;background:#1db766!important}.toggle .custom-control-input~.custom-control-label:before{color:#fff;border:#8c8c8c;background:#8c8c8c}.toggle .custom-control-label:after{background-color:#fff}.custom-switch .custom-control-label:before{left:-2.25rem;width:1.75rem;pointer-events:all;border-radius:.5rem}.custom-control-label:before{position:absolute;top:.25rem;left:-1.5rem;display:block;width:1rem;height:18px;pointer-events:none;content:\"\";background-color:#fff;border:1px solid #adb5bd}.custom-control-input{position:absolute;z-index:-1;opacity:0}.custom-control-label{position:relative;margin-bottom:0;vertical-align:top}.custom-control input[type=checkbox]+label:before{content:\"\"}.custom-switch{padding-left:3.25rem}.toggleleft{font-size:var(--font-13);font-weight:600;display:block;margin-top:-12px;padding-bottom:13px}.report_button{margin-top:27px}.head-div .heading{font-weight:600}.right-icons .fa{margin-top:3px;display:inline-block;z-index:9}.right-icons .fa-trash{font-size:18px}:host ::ng-deep .p-accordion .p-accordion-tab .p-accordion-header .p-accordion-header-link{background:var(--bg-light);color:var(--text-dark);border-color:var(--table-border)}:host ::ng-deep .p-accordion .p-accordion-tab .p-accordion-header:not(.p-highlight):not(.p-disabled):hover .p-accordion-header-link{background:var(--primary);color:var(--hover-text);border-color:var(--table-border)}:host ::ng-deep .p-accordion .p-accordion-tab .p-accordion-content{background:var(--bg-light);color:var(--text-dark);border-color:var(--table-border)}:host ::ng-deep .p-accordion .p-accordion-header:not(.p-disabled).p-highlight:hover .p-accordion-header-link{background:var(--primary);color:var(--hover-text);border-color:var(--table-border)}.adjusttop{margin-top:60px;margin-bottom:-24px}:host ::ng-deep .p-tree .p-treenode-droppoint.p-treenode-droppoint-active{border:1px solid #89c8f7;height:30px;background:none!important}.permission-filter{margin:20px 0 10px;position:relative}.permission-filter i{position:absolute;right:8px;top:50%;cursor:pointer;margin-top:-.5rem;color:#6c757d}:host ::ng-deep .policygroup-v2 .p-multiselect-token-label{width:100%}:host ::ng-deep .policygroup-accordion .policygroup-v2.p-multiselect .p-multiselect-panel{top:auto!important}\n"], dependencies: [{ kind: "directive", type: i6.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i6.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i6.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i1.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i1.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i1.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { kind: "directive", type: i1.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { kind: "directive", type: i1.FormControlName, selector: "[formControlName]", inputs: ["formControlName", "disabled", "ngModel"], outputs: ["ngModelChange"] }, { kind: "component", type: i7.TabMenu, selector: "p-tabMenu", inputs: ["model", "activeItem", "scrollable", "popup", "style", "styleClass", "ariaLabel", "ariaLabelledBy"], outputs: ["activeItemChange"] }, { kind: "directive", type: i8.PrimeTemplate, selector: "[pTemplate]", inputs: ["type", "pTemplate"] }, { kind: "directive", type: i9.Tooltip, selector: "[pTooltip]", inputs: ["tooltipPosition", "tooltipEvent", "appendTo", "positionStyle", "tooltipStyleClass", "tooltipZIndex", "escape", "showDelay", "hideDelay", "life", "positionTop", "positionLeft", "autoHide", "fitContent", "hideOnEscape", "pTooltip", "tooltipDisabled", "tooltipOptions"] }, { kind: "component", type: i10.Tree, selector: "p-tree", inputs: ["value", "selectionMode", "selection", "style", "styleClass", "contextMenu", "layout", "draggableScope", "droppableScope", "draggableNodes", "droppableNodes", "metaKeySelection", "propagateSelectionUp", "propagateSelectionDown", "loading", "loadingIcon", "emptyMessage", "ariaLabel", "togglerAriaLabel", "ariaLabelledBy", "validateDrop", "filter", "filterBy", "filterMode", "filterPlaceholder", "filteredNodes", "filterLocale", "scrollHeight", "lazy", "virtualScroll", "virtualScrollItemSize", "virtualScrollOptions", "indentation", "_templateMap", "trackBy", "virtualNodeHeight"], outputs: ["selectionChange", "onNodeSelect", "onNodeUnselect", "onNodeExpand", "onNodeCollapse", "onNodeContextMenuSelect", "onNodeDrop", "onLazyLoad", "onScroll", "onScrollIndexChange", "onFilter"] }, { kind: "component", type: i11.Dropdown, selector: "p-dropdown", inputs: ["id", "scrollHeight", "filter", "name", "style", "panelStyle", "styleClass", "panelStyleClass", "readonly", "required", "editable", "appendTo", "tabindex", "placeholder", "filterPlaceholder", "filterLocale", "inputId", "dataKey", "filterBy", "filterFields", "autofocus", "resetFilterOnHide", "dropdownIcon", "optionLabel", "optionValue", "optionDisabled", "optionGroupLabel", "optionGroupChildren", "autoDisplayFirst", "group", "showClear", "emptyFilterMessage", "emptyMessage", "lazy", "virtualScroll", "virtualScrollItemSize", "virtualScrollOptions", "overlayOptions", "ariaFilterLabel", "ariaLabel", "ariaLabelledBy", "filterMatchMode", "maxlength", "tooltip", "tooltipPosition", "tooltipPositionStyle", "tooltipStyleClass", "focusOnHover", "selectOnFocus", "autoOptionFocus", "autofocusFilter", "disabled", "itemSize", "autoZIndex", "baseZIndex", "showTransitionOptions", "hideTransitionOptions", "filterValue", "options"], outputs: ["onChange", "onFilter", "onFocus", "onBlur", "onClick", "onShow", "onHide", "onClear", "onLazyLoad"] }, { kind: "component", type: i12.Card, selector: "p-card", inputs: ["header", "subheader", "style", "styleClass"] }, { kind: "component", type: i13.Accordion, selector: "p-accordion", inputs: ["multiple", "style", "styleClass", "expandIcon", "collapseIcon", "activeIndex", "selectOnFocus", "headerAriaLevel"], outputs: ["onClose", "onOpen", "activeIndexChange"] }, { kind: "component", type: i13.AccordionTab, selector: "p-accordionTab", inputs: ["id", "header", "headerStyle", "tabStyle", "contentStyle", "tabStyleClass", "headerStyleClass", "contentStyleClass", "disabled", "cache", "transitionOptions", "iconPos", "selected", "headerAriaLevel"], outputs: ["selectedChange"] }, { kind: "directive", type: i14.InputText, selector: "[pInputText]" }, { kind: "component", type: i15.MultiSelect, selector: "p-multiSelect", inputs: ["id", "ariaLabel", "style", "styleClass", "panelStyle", "panelStyleClass", "inputId", "disabled", "readonly", "group", "filter", "filterPlaceHolder", "filterLocale", "overlayVisible", "tabindex", "appendTo", "dataKey", "name", "ariaLabelledBy", "displaySelectedLabel", "maxSelectedLabels", "selectionLimit", "selectedItemsLabel", "showToggleAll", "emptyFilterMessage", "emptyMessage", "resetFilterOnHide", "dropdownIcon", "optionLabel", "optionValue", "optionDisabled", "optionGroupLabel", "optionGroupChildren", "showHeader", "filterBy", "scrollHeight", "lazy", "virtualScroll", "virtualScrollItemSize", "virtualScrollOptions", "overlayOptions", "ariaFilterLabel", "filterMatchMode", "tooltip", "tooltipPosition", "tooltipPositionStyle", "tooltipStyleClass", "autofocusFilter", "display", "autocomplete", "showClear", "autoZIndex", "baseZIndex", "showTransitionOptions", "hideTransitionOptions", "defaultLabel", "placeholder", "options", "filterValue", "itemSize", "selectAll", "focusOnHover", "filterFields", "selectOnFocus", "autoOptionFocus"], outputs: ["onChange", "onFilter", "onFocus", "onBlur", "onClick", "onClear", "onPanelShow", "onPanelHide", "onLazyLoad", "onRemove", "onSelectAllChange"] }, { kind: "directive", type: i16.PermissionDirective, selector: "[fieldKey]", inputs: ["fieldKey"] }, { kind: "directive", type: i17.ShowFieldDirective, selector: "[showField]", inputs: ["showField"] }, { kind: "component", type: i18.AlertComponent, selector: "app-alert" }] });
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: RolesComponent, decorators: [{
            type: Component,
            args: [{ selector: 'roles', template: "<app-alert></app-alert>\r\n<div class=\"permission\">\r\n  <div class=\"row\" [formGroup]=\"roleForm\">\r\n    <div class=\"col-lg-4 col-md-6 col-12\">\r\n      <div class=\"clearfix\"></div>\r\n      <div class=\"tab-content py-2 px-2 px-sm-0\">\r\n        <div class=\"tab-pane fade show active\">\r\n          <div class=\"form-group bgiconsearch d-flex align-items-center\"> <!-- Modified line -->\r\n            <span class=\"p-input-icon-right w-100\">\r\n              <i class=\"pi pi-times-circle\" (click)=\"clearSearch($event)\"></i>\r\n              <input class=\"form-control\" fieldKey=\"SETTINGS_ROL_SEARCH_BY_NAME\" placeholder=\"Search by Role name\"\r\n                type=\"text\" (keyup)=\"searchRole($event)\" />\r\n            </span>\r\n            <button type=\"button\" class=\"btn btn-primary btncommon ml-2\" fieldKey=\"SETTINGS_ROL_ADD_NEW\"\r\n              (click)=\"onClickAddRole()\">Add</button>\r\n          </div>\r\n          <div class=\"clearfix\"></div>\r\n          <div class=\"useracess\">\r\n            <div class=\"d-flex align-items-center justify-content-center h-100 w-100 ng-star-inserted\"\r\n              *ngIf=\"!filteredRoleList.length\">\r\n              <p>No Record Found</p>\r\n            </div>\r\n            <ng-container *ngFor=\"let item of filteredRoleList\">\r\n              <div class=\"row userdata align-items-center\" (click)=\"getRoleInfo(item.id)\"\r\n                [ngClass]=\"{ active: +item.id === roleId }\">\r\n                <div class=\"col-md-10 col-sm-10 col-10 overflow_txt\">\r\n                  <span class=\"nameuser\">{{ item.name }}</span> <br />\r\n                </div>\r\n                <div class=\"col-md-2 text-right\">\r\n                  <span class=\"right-icons\">\r\n                    <em class=\"fa fa-trash text-primary\" *showField=\"'SETTINGS_ROL_DELETE'\"\r\n                      (click)=\"delete($event, item.id, item)\" aria-hidden=\"true\"></em>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </ng-container>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col-lg-8 col-md-6 col-12 roles-right group-role mt-2\">\r\n      <p-card class=\"rbac-card\" [style]=\"{ width: '100%', 'margin-bottom': '2em' }\">\r\n        <div class=\"strip_head toggleleft\">\r\n          <span class=\"report_head font-weight-bold\">Role Details</span>\r\n        </div>\r\n        <div class=\"p-fluid p-formgrid row\">\r\n          <div class=\"p-field col-lg-4 col-md-12 col-12\">\r\n            <label for=\"rolesName\" class=\"referral-form-labels\">Role Name\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <input id=\"rolesName\" type=\"text\" fieldKey=\"SETTINGS_ROL_ROLE_NAME\" formControlName=\"name\"\r\n              placeholder=\"Enter Role Name\" aria-describedby=\"rolesName\" [(ngModel)]=\"modelRoleName\"\r\n              (ngModelChange)=\"onModelRole($event)\" (input)=\"onInput($event, 'name', 'Role Name', true)\" pInputText />\r\n            <div *ngIf=\"validationErrors['Role Name']\" class=\"p-error block mt-1\">{{validationErrors['Role Name']}}\r\n            </div>\r\n            <div *ngIf=\"!validationErrors['Role Name'] && formValidate['name'].errors && formSubmit\">\r\n              <div *ngIf=\"formValidate['name'].invalid\" class=\"p-error block mt-1\">Role Name is required </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"p-field col-lg-4 col-md-12 col-12\">\r\n            <label aria-labelledby=\"landingPage\" for=\"landingPage\" class=\"referral-form-labels\">Landing Page Menu\r\n              <span class=\"requiredfield text-danger\">*</span>\r\n            </label>\r\n            <p-dropdown name=\"landingPage\" [options]=\"dublicateLandingPage\" placeholder=\"Select Landing Page Menu\"\r\n              formControlName=\"defaultpageid\" defaultLabel=\"Select Landing Page Menu\" (onHide)=\"resetLandingPageList()\"\r\n              [resetFilterOnHide]=\"true\" [filter]=\"true\" filterBy=\"name\" (keyup)=\"searchLandingPageList($event)\"\r\n              [showClear]=\"true\" fieldKey=\"SETTINGS_ROL_LANDING_PAGE\" optionLabel=\"name\" optionValue=\"id\"\r\n              inputId=\"landingPage\">\r\n              <ng-template let-item pTemplate=\"selectedItem\">\r\n                <div pTooltip=\"{{item?.name}}\" tooltipPosition=\"top\" class=\"text-truncate\"> {{ item?.name }}</div>\r\n              </ng-template>\r\n              <ng-template let-object pTemplate=\"item\">\r\n                {{ object.name }}\r\n              </ng-template>\r\n            </p-dropdown>\r\n            <div *ngIf=\"formValidate['defaultpageid'].errors && formSubmit\">\r\n              <div *ngIf=\"formValidate['defaultpageid'].invalid\" class=\"p-error block mt-1\">Landing Page Menu is\r\n                required\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"p-field col-lg-4 col-md-12 col-12\">\r\n            <label aria-labelledby=\"dossierId\" for=\"dossierId\" class=\"referral-form-labels\">Report Dashboard</label>\r\n            <p-dropdown [options]=\"reportDashboardList\" optionLabel=\"name\" id=\"dossierid\" [resetFilterOnHide]=\"true\"\r\n              [filter]=\"true\" [showClear]=\"true\" optionValue=\"id\" placeholder=\"Select ID\" formControlName=\"dossierid\">\r\n              <ng-template let-item pTemplate=\"selectedItem\">\r\n                <div pTooltip=\"{{item?.name}}\" tooltipPosition=\"top\" class=\"text-truncate\"> {{ item?.name }}</div>\r\n              </ng-template>\r\n              <ng-template let-object pTemplate=\"item\">\r\n                {{ object.name }}\r\n              </ng-template>\r\n            </p-dropdown>\r\n          </div>\r\n          <!-- <div class=\"p-field col-lg-4 col-md-12 col-12\"></div>\r\n            <div class=\"p-field col-lg-4 col-md-12 col-12\">\r\n              <button\r\n                class=\"pull-right mb-2 btn btn-primary btncommon report_button\"\r\n                fieldKey=\"SETTINGS_ROL_CONFIGURE_PERMISSION\"\r\n                (click)=\"addNewRole('1')\">\r\n                Configure Permission\r\n              </button>\r\n            </div> -->\r\n        </div>\r\n        <div class=\"p-fluid p-formgrid row\">\r\n          <div class=\"p-field col-md-12 col-12\">\r\n            <p-accordion class=\"w-full policygroup-accordion\" iconPos=\"endVal\">\r\n              <p-accordionTab>\r\n                <ng-template pTemplate=\"header\">\r\n                  <span class=\"flex align-items-center head-text gap-2 w-full\">\r\n                    <span class=\"font-bold\">\r\n                      <label aria-labelledby=\"policyGroupList\" for=\"policyGroupList\"\r\n                        class=\"mb-0 referral-form-labels\">Policy\r\n                        Groups\r\n                        <span class=\"requiredfield text-danger\">*</span>\r\n                        <span *ngIf=\"policyGroupsLength > 0\" class=\"pg-count ml-2\">{{policyGroupsLength}}</span>\r\n                      </label>\r\n                    </span>\r\n                  </span>\r\n                </ng-template>\r\n\r\n                <p-multiSelect name=\"policyGroupList\" [options]=\"policyGroupList\" formControlName=\"policyGroupId\"\r\n                  defaultLabel=\"Select Policy Groups\" optionLabel=\"policygroupname\" optionValue=\"id\"\r\n                  (onHide)=\"resetReportDashboardList()\" [resetFilterOnHide]=\"true\" inputId=\"policyGroupList\"\r\n                  ariaFilterLabel=\"null\" fieldKey=\"SETTINGS_ROL_POLICY_GROUP\" display=\"chip\"\r\n                  styleClass=\"policygroup-v2 w-100\" (onChange)=\"selectPolicyGroup()\">\r\n                </p-multiSelect>\r\n              </p-accordionTab>\r\n            </p-accordion>\r\n            <div *ngIf=\"formValidate['policyGroupId'].errors && formSubmit\">\r\n              <div *ngIf=\"formValidate['policyGroupId'].invalid\" class=\"p-error block mt-1\">Policy Group is required\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <div class=\"mt-2\" *ngIf=\"permissionAllow\">\r\n          <button class=\"pull-right mb-2 mr-2 btn btn-primary btncommon\" fieldKey=\"SETTINGS_ROL_SELECT_ALL\"\r\n            (click)=\"selectAllAccess(true)\">\r\n            Select All\r\n          </button>\r\n          <button fieldKey=\"SETTINGS_ROL_RESET\" class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\"\r\n            (click)=\"selectAllAccess(false)\" [disabled]=\"checkedRolesArr.length === 0\">\r\n            Reset\r\n          </button>\r\n          <!-- <br /> -->\r\n        </div>\r\n        <div class=\"strip_head toggleleft adjusttop\" *ngIf=\"permissionAllow\">\r\n          <!-- <span class=\"report_head font-weight-bold\">Permissions</span> -->\r\n          <p-tabMenu [model]=\"items\" [activeItem]=\"activeItem\"></p-tabMenu>\r\n        </div>\r\n\r\n        <div *ngIf=\"firstTab\">\r\n          <div class=\"clearfix\"></div>\r\n          <div class=\"mt-2 mb-3\">\r\n            <div *ngIf=\"permissionAllow\">\r\n              <div class=\"permission-filter\">\r\n                <input class=\"form-control clearbox\" placeholder=\"Search by Permissions name\" type=\"text\"\r\n                  (keyup)=\"searchRolePermission($event)\" />\r\n                <i class=\"pi pi-times-circle\" (click)=\"clearPermission($event)\"></i>\r\n              </div>\r\n              <div class=\"d-flex align-items-center justify-content-center h-100 w-100 ng-star-inserted\"\r\n                *ngIf=\"!filterPermissions.length\">\r\n                <p>No Record Found</p>\r\n              </div>\r\n            </div>\r\n            <p-accordion class=\"w-100\">\r\n              <p-accordionTab class=\"w-100\" *ngFor=\"let page of permissions; let i = index\">\r\n                <ng-template pTemplate=\"header\">\r\n                  {{ page.description }}\r\n                </ng-template>\r\n                <ng-template pTemplate=\"content\">\r\n                  <div class=\"heading_analysis datamargin\">\r\n                    <div class=\"g-checkbox pl-1\">\r\n                      <input type=\"checkbox\" class=\"styled-checkbox\" id=\"custom{{ i }}\"\r\n                        (change)=\"selectAllPage(i, $event)\" [checked]=\"page?.checked\" />\r\n                      <label for=\"custom{{ i }}\" class=\"heading_role\">{{ page.description }}</label>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <ul class=\"marginul_list ecms_rolescroll\">\r\n                    <ng-container *ngFor=\"let permission of page?.permissions; let j = index\">\r\n                      <ng-container *ngIf=\"isPrivilage(permission); else permissionOnly\">\r\n                        <li>\r\n                          <div class=\"inner_childaccess d-flex mt-0 py-1\">\r\n                            <div class=\"d-inline-flex align-items-center\">\r\n                              <label class=\"g-checkbox pl-1 mb-0\">\r\n                                <input type=\"checkbox\" [checked]=\"permission?.checked\"\r\n                                  (change)=\"selectAllPrivilage(i, j, $event)\" id=\"description{{ j }}\" />\r\n                                <span class=\"checkmark\"></span>\r\n                              </label>\r\n                              <label for=\"description{{ j }}\" class=\"heading_role mb-0\">{{\r\n                                permission.description\r\n                                }}</label>\r\n                            </div>\r\n                          </div>\r\n                        </li>\r\n                        <li class=\"ml-1\" *ngFor=\"let privilege of permission?.permissions; let k = index\">\r\n                          <div class=\"d-flex\">\r\n                            <div class=\"custom-control custom-switch\">\r\n                              <input type=\"checkbox\" [checked]=\"privilege?.checked\" class=\"custom-control-input\"\r\n                                id=\"customSwitchesroless{{ i }}{{ j }}{{ k }}\"\r\n                                (click)=\"selectPrivilege(i, j, k, $event)\" />\r\n                              <label class=\"custom-control-label\" for=\"customSwitchesroless{{ i }}{{ j }}{{ k }}\">{{\r\n                                privilege.description\r\n                                }}</label>\r\n                            </div>\r\n                          </div>\r\n                        </li>\r\n                      </ng-container>\r\n                      <ng-template #permissionOnly>\r\n                        <li>\r\n                          <div class=\"custom-control custom-switch\">\r\n                            <input type=\"checkbox\" [checked]=\"permission?.checked\" class=\"custom-control-input\"\r\n                              (click)=\"selectPage(i, j, $event)\" id=\"customSwitchesroles{{ i }}{{ j }}\" />\r\n                            <label class=\"custom-control-label\" for=\"customSwitchesroles{{ i }}{{ j }}\">{{\r\n                              permission.description }}\r\n                            </label>\r\n                          </div>\r\n                        </li>\r\n                      </ng-template>\r\n                    </ng-container>\r\n                  </ul>\r\n                </ng-template>\r\n              </p-accordionTab>\r\n            </p-accordion>\r\n            <div class=\"col-md-12 box d-none\" *ngFor=\"let page of permissions; let i = index\">\r\n              <div class=\"heading_analysis datamargin\">\r\n                <div class=\"Customcheckbox\">\r\n                  <input type=\"checkbox\" class=\"styled-checkbox\" id=\"custom{{ i }}\" (change)=\"selectAllPage(i, $event)\"\r\n                    [checked]=\"page?.checked\" />\r\n                  <label for=\"custom{{ i }}\" class=\"heading_role\">{{ page.description }}</label>\r\n                </div>\r\n              </div>\r\n\r\n              <ul class=\"marginul_list ecms_rolescroll\">\r\n                <ng-container *ngFor=\"let permission of page?.permissions; let j = index\">\r\n                  <ng-container *ngIf=\"isPrivilage(permission); else permissionOnly\">\r\n                    <li>\r\n                      <div class=\"inner_childaccess\">\r\n                        <label class=\"Customcheckbox\">\r\n                          <input type=\"checkbox\" [checked]=\"permission?.checked\"\r\n                            (change)=\"selectAllPrivilage(i, j, $event)\" />\r\n                          <span class=\"checkmark\"></span>\r\n                        </label>\r\n                        <span class=\"heading_role\">{{ permission.description }}</span>\r\n                      </div>\r\n                    </li>\r\n                    <li *ngFor=\"let privilege of permission?.permissions; let k = index\">\r\n                      <div class=\"custom-control custom-switch\">\r\n                        <input type=\"checkbox\" [checked]=\"privilege?.checked\" class=\"custom-control-input\"\r\n                          id=\"customSwitchesroless{{ i }}{{ j }}{{ k }}\" (click)=\"selectPrivilege(i, j, k, $event)\" />\r\n                        <label class=\"custom-control-label\" for=\"customSwitchesroless{{ i }}{{ j }}{{ k }}\">{{\r\n                          privilege.description\r\n                          }}</label>\r\n                      </div>\r\n                    </li>\r\n                  </ng-container>\r\n                  <ng-template #permissionOnly>\r\n                    <li>\r\n                      <div class=\"custom-control custom-switch\">\r\n                        <input type=\"checkbox\" [checked]=\"permission?.checked\" class=\"custom-control-input\"\r\n                          (click)=\"selectPage(i, j, $event)\" id=\"customSwitchesroles{{ i }}{{ j }}\" />\r\n                        <label class=\"custom-control-label\" for=\"customSwitchesroles{{ i }}{{ j }}\">{{\r\n                          permission.description }}\r\n                        </label>\r\n                      </div>\r\n                    </li>\r\n                  </ng-template>\r\n                </ng-container>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <button class=\"pull-right btn btn-primary btncommon\" fieldKey=\"SETTINGS_ROL_ADD_ROLE\" (click)=\"addRole()\">\r\n              {{ roleId ? 'Update' : 'Add' }} Role\r\n            </button>\r\n            <button class=\"pull-right mr-2 btn bg-white text-primary btncancel\" fieldKey=\"SETTINGS_ROL_CANCEL\"\r\n              (click)=\"cancel()\" [disabled]=\"!enableButton\">\r\n              Clear\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div *ngIf=\"!firstTab\">\r\n\r\n          <div class=\"card flex justify-content-center mt-4\">\r\n            <p-tree [value]=\"mainMenuList\" [draggableNodes]=\"true\" [droppableNodes]=\"true\" draggableScope=\"self\"\r\n              droppableScope=\"self\" class=\"w-full md:w-30rem\" selectionMode=\"single\" [(selection)]=\"selectedFile\"\r\n              [validateDrop]=\"true\" (onNodeDrop)=\"nodeDrop($event)\"></p-tree>\r\n          </div>\r\n\r\n          <div class=\"mt-2\">\r\n            <button class=\"pull-right mb-2 btn btn-primary btncommon\" fieldKey=\"SETTINGS_ROL_ADD_ROLE\"\r\n              (click)=\"updateMenuOrder()\">\r\n              Submit\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <br />\r\n      </p-card>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"modal\" id=\"Deleteuser\" tabindex=\"-1\" role=\"dialog\">\r\n  <div class=\"modal-dialog\" role=\"document\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-body\">\r\n        <p>{{ modalContent }}</p>\r\n        <div class=\"clearfix\"></div>\r\n        <div class=\"mt-2\">\r\n          <button class=\"pull-right mb-2 btn btn-primary btncommon delete\" data-dismiss=\"modal\" (click)=\"deleteRole()\"\r\n            *ngIf=\"deleteactive_user\">\r\n            Delete\r\n          </button>\r\n\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\"\r\n            *ngIf=\"deleteactive_buttonok\">\r\n            Cancel\r\n          </button>\r\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\"\r\n            *ngIf=\"!deleteactive_buttonok\">\r\n            OK\r\n          </button>\r\n        </div>\r\n\r\n        <div class=\"clearfix\"></div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n", styles: [".head-div{padding-top:9px;padding-left:7px}.bgiconsearch{margin-bottom:5px;padding-bottom:0;font-size:var(--font-13)}.useracess{border-radius:2px;padding:5px 0;max-height:calc(100vh - 227px);overflow-y:auto}.userempty{max-width:none;border-radius:50%;height:35px;width:35px}.row.userdata{margin:0;border-bottom:solid 1px var(--table-border);padding:5px 0;cursor:pointer}.overflow_txt{overflow:hidden;text-overflow:ellipsis}span.nameuser{font-size:var(--font-16);color:var(--label-text);font-weight:400}.userid,span.emailuser{font-size:var(--font-15);color:#838383}.heading_analysis{padding-bottom:0;border-bottom:1px solid var(--table-border)}.Customcheckbox{position:relative;padding-top:0;padding-left:10px}.heading_role{padding-left:10px;font-size:var(--font-14);position:relative}.marginul_list{padding:0;margin:0}.marginul_list li{list-style:none;padding-top:5px}.marginul_list li label{color:var(--text-dark);text-transform:capitalize}.marginul_list.ecms_rolescroll{max-height:250px;overflow:auto;margin-bottom:20px}.ecms_rolescroll::-webkit-scrollbar{width:.5em;height:.5em}.ecms_rolescroll::-webkit-scrollbar-track{box-shadow:inset 0 0 6px #0000004d;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.ecms_rolescroll::-webkit-scrollbar-thumb{background-color:#a9a9a9;outline:1px solid slategrey}.inner_childaccess{margin-top:9px;margin-left:3px;border-bottom:1px solid var(--table-border)}.Customcheckbox input{display:inline-block}.Customcheckbox:hover input~.checkmark{border:solid 2px #2196f3}.Customcheckbox input~.checkmark{display:none}.Customcheckbox input:checked~.checkmark{display:none;border:solid 2px #1db766;background-color:#1db766}.Customcheckbox input:checked~.checkmark:after{display:block}.Customcheckbox .checkmark:after{left:6px;top:2px;width:5px;height:10px;border:solid #ffffff;border-width:0 2px 2px 0;transform:rotate(45deg)}.custom-control-input:checked~.custom-control-label:before{color:#fff;border:#1db766!important;background:#1db766!important}.custom-control.custom-switch.toggleleft .custom-control-label{padding-top:3px;font-size:var(--font-13)}.custom-switch .custom-control-label:after{top:calc(.25rem + 3px)}.toggle .custom-control-input:checked~.custom-control-label:before{color:#fff;border:#1db766!important;background:#1db766!important}.toggle .custom-control-input~.custom-control-label:before{color:#fff;border:#8c8c8c;background:#8c8c8c}.toggle .custom-control-label:after{background-color:#fff}.custom-switch .custom-control-label:before{left:-2.25rem;width:1.75rem;pointer-events:all;border-radius:.5rem}.custom-control-label:before{position:absolute;top:.25rem;left:-1.5rem;display:block;width:1rem;height:18px;pointer-events:none;content:\"\";background-color:#fff;border:1px solid #adb5bd}.custom-control-input{position:absolute;z-index:-1;opacity:0}.custom-control-label{position:relative;margin-bottom:0;vertical-align:top}.custom-control input[type=checkbox]+label:before{content:\"\"}.custom-switch{padding-left:3.25rem}.toggleleft{font-size:var(--font-13);font-weight:600;display:block;margin-top:-12px;padding-bottom:13px}.report_button{margin-top:27px}.head-div .heading{font-weight:600}.right-icons .fa{margin-top:3px;display:inline-block;z-index:9}.right-icons .fa-trash{font-size:18px}:host ::ng-deep .p-accordion .p-accordion-tab .p-accordion-header .p-accordion-header-link{background:var(--bg-light);color:var(--text-dark);border-color:var(--table-border)}:host ::ng-deep .p-accordion .p-accordion-tab .p-accordion-header:not(.p-highlight):not(.p-disabled):hover .p-accordion-header-link{background:var(--primary);color:var(--hover-text);border-color:var(--table-border)}:host ::ng-deep .p-accordion .p-accordion-tab .p-accordion-content{background:var(--bg-light);color:var(--text-dark);border-color:var(--table-border)}:host ::ng-deep .p-accordion .p-accordion-header:not(.p-disabled).p-highlight:hover .p-accordion-header-link{background:var(--primary);color:var(--hover-text);border-color:var(--table-border)}.adjusttop{margin-top:60px;margin-bottom:-24px}:host ::ng-deep .p-tree .p-treenode-droppoint.p-treenode-droppoint-active{border:1px solid #89c8f7;height:30px;background:none!important}.permission-filter{margin:20px 0 10px;position:relative}.permission-filter i{position:absolute;right:8px;top:50%;cursor:pointer;margin-top:-.5rem;color:#6c757d}:host ::ng-deep .policygroup-v2 .p-multiselect-token-label{width:100%}:host ::ng-deep .policygroup-accordion .policygroup-v2.p-multiselect .p-multiselect-panel{top:auto!important}\n"] }]
        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i1.FormBuilder }, { type: i2.AlertService }, { type: i3.MicrostrategyService }, { type: i4.RbacService }, { type: i5.DataStoreService }, { type: i4.RbacService }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm9sZXMuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGljcy1jb3JlL3JiYWMtcm9sZXMvc3JjL2xpYi9waWNzLXJiYWMtcm9sZXMvcm9sZXMvcm9sZXMuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGljcy1jb3JlL3JiYWMtcm9sZXMvc3JjL2xpYi9waWNzLXJiYWMtcm9sZXMvcm9sZXMvcm9sZXMuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBb0IsTUFBTSxlQUFlLENBQUM7QUFDNUQsT0FBTyxFQUEwQixVQUFVLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUlwRSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sa0NBQWtDLENBQUM7QUFNaEUsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLCtCQUErQixDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVF6RCxNQUFNLE9BQU8sY0FBYztJQThEZjtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFsRVYsTUFBTSxDQUFVO0lBQ2hCLGlCQUFpQixHQUFZLEtBQUssQ0FBQztJQUNuQyxxQkFBcUIsR0FBWSxLQUFLLENBQUM7SUFDdkMsUUFBUSxHQUFnQixFQUFFLENBQUM7SUFDM0IsZ0JBQWdCLEdBQWdCLEVBQUUsQ0FBQztJQUNuQyxVQUFVLENBQVc7SUFDckIsd0JBQXdCLEdBQXFELEVBQUUsQ0FBQztJQUNoRixTQUFTLEdBQWtCLEVBQUUsQ0FBQztJQUM5QixlQUFlLENBQVc7SUFDMUIsU0FBUyxDQUFVO0lBQ25CLGFBQWEsR0FBVyxFQUFFLENBQUM7SUFDM0IsUUFBUSxDQUFhO0lBQ3JCLFVBQVUsQ0FBVztJQUNyQixXQUFXLEdBQWUsRUFBRSxDQUFDO0lBQzdCLGlCQUFpQixHQUFVLEVBQUUsQ0FBQztJQUM5QixXQUFXLEdBQXVC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ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgSW5qZWN0b3IsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBGb3JtQnVpbGRlciwgRm9ybUdyb3VwLCBWYWxpZGF0b3JzIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xyXG5pbXBvcnQgeyBNZW51SXRlbSB9IGZyb20gJ3ByaW1lbmcvYXBpL21lbnVpdGVtJztcclxuaW1wb3J0IHsgVHJlZU5vZGUgfSBmcm9tICdwcmltZW5nL2FwaS90cmVlbm9kZSc7XHJcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xyXG5pbXBvcnQgeyBBcHBDb25zdGFudHMgfSBmcm9tICcuLi9AY29yZS9jb25zdGFudHMvYXBwLWNvbnN0YW50cyc7XHJcbmltcG9ydCB7IExhbmRpbmdQYWdlTW9kZWwsIFJvbGVNb2RlbCwgVXNlclJvbGVEdG8gfSBmcm9tICcuLi9AY29yZS9kYXRhbW9kZWwvcmJhY0RhdGFNb2RlbCc7XHJcbmltcG9ydCB7IEFsZXJ0U2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL3NlcnZpY2UvYWxlcnQuc2VydmljZSc7XHJcbmltcG9ydCB7IERhdGFTdG9yZVNlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL2RhdGEtc3RvcmUuc2VydmljZSc7XHJcbmltcG9ydCB7IE1pY3Jvc3RyYXRlZ3lTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9taWNyb3N0cmF0ZWd5LnNlcnZpY2UnO1xyXG5pbXBvcnQgeyBSYmFjU2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL3NlcnZpY2UvcmJhYy5zZXJ2aWNlJztcclxuaW1wb3J0IHsgUkJBQ0lORk8gfSBmcm9tICcuLi9AY29yZS91cmxzL3JiYWMtdXJsLmNvbmZpZyc7XHJcbmltcG9ydCB7IGZpbHRlciB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcclxuZGVjbGFyZSBjb25zdCAkOiBhbnk7XHJcbkBDb21wb25lbnQoe1xyXG4gIHNlbGVjdG9yOiAncm9sZXMnLFxyXG4gIHRlbXBsYXRlVXJsOiAnLi9yb2xlcy5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vcm9sZXMuY29tcG9uZW50LnNjc3MnXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgUm9sZXNDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xyXG4gIHJvbGVJZCE6IG51bWJlcjtcclxuICBkZWxldGVhY3RpdmVfdXNlcjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIGRlbGV0ZWFjdGl2ZV9idXR0b25vazogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIHJvbGVMaXN0OiBSb2xlTW9kZWxbXSA9IFtdO1xyXG4gIGZpbHRlcmVkUm9sZUxpc3Q6IFJvbGVNb2RlbFtdID0gW107XHJcbiAgaXNEaXNhYmxlZCE6IGJvb2xlYW47XHJcbiAgc2VsZWN0ZWRQZXJtaXNzaW9uc0dyb3VwOiB7IGlkOiBudW1iZXI7IGFsbG93OiBib29sZWFuOyB3cml0ZTogYm9vbGVhbiB9W10gPSBbXTtcclxuICB1c2Vycm9sZXM6IFVzZXJSb2xlRHRvW10gPSBbXTtcclxuICBpc0Rpc2FibGVkT3RoZXIhOiBib29sZWFuO1xyXG4gIGRlbGV0ZWRJZCE6IHN0cmluZztcclxuICBtb2RlbFJvbGVOYW1lOiBzdHJpbmcgPSAnJztcclxuICByb2xlRm9ybSE6IEZvcm1Hcm91cDtcclxuICBmb3JtU3VibWl0ITogYm9vbGVhbjtcclxuICBwZXJtaXNzaW9uczogQXJyYXk8YW55PiA9IFtdO1xyXG4gIGZpbHRlclBlcm1pc3Npb25zOiBhbnlbXSA9IFtdO1xyXG4gIGxhbmRpbmdQYWdlOiBMYW5kaW5nUGFnZU1vZGVsW10gPSBbXTtcclxuICBwb2xpY3lHcm91cExpc3Q6IGFueTtcclxuICBwZXJtaXNzaW9uQWxsb3chOiBib29sZWFuO1xyXG4gIG9yZ0lkOiBhbnk7XHJcbiAgcmVwb3J0RGFzaGJvYXJkTGlzdDogYW55O1xyXG4gIGR1cGxpY2F0ZXJlcG9ydERhc2hib2FyZExpc3Q6IGFueTtcclxuICBlbnZpcm9ubWVudDogYW55O1xyXG4gIFJCQUNPUkc6IFJCQUNJTkZPID0gbmV3IFJCQUNJTkZPKCk7XHJcbiAgb3JnU3VicyE6IFN1YnNjcmlwdGlvbjtcclxuICBtb2RhbENvbnRlbnQ6IHN0cmluZztcclxuICBpdGVtczogTWVudUl0ZW1bXSA9IFtdO1xyXG4gIGFjdGl2ZUl0ZW0hOiBNZW51SXRlbTtcclxuICBmaXJzdFRhYiE6IGJvb2xlYW47XHJcbiAgbWFpbk1lbnVMaXN0OiBhbnkgPSBbXTtcclxuICByZUFycmFuZ2VkTGlzdDogYW55ID0gW107XHJcbiAgZHVibGljYXRlTGFuZGluZ1BhZ2U6IGFueVtdID0gW107XHJcbiAgbWVudUxpc3Q6IGFueSA9IFtdO1xyXG4gIHN1Yk1lbnVMaXN0OiBhbnkgPSBbXTtcclxuICBwYXJlbnQ6IGFueSA9IFtdO1xyXG4gIGNoaWxkTWVudUxpc3Q6IGFueSA9IFtdO1xyXG4gIHNob3dDaGlsZHJlbjogYm9vbGVhbiA9IGZhbHNlO1xyXG4gIHBhcmVudE1lbnVsaXN0OiBUcmVlTm9kZVtdID0gW107XHJcbiAgc2VsZWN0ZWRGaWxlOiBUcmVlTm9kZTxhbnk+IHwgVHJlZU5vZGU8YW55PltdO1xyXG4gIGh0dHBTZXJ2aWNlOiBhbnk7XHJcbiAgdmFsaWRhdGlvbkVycm9yczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHt9O1xyXG4gIGlucHV0VmFsaWRhdGlvbk1ldGhvZDogYW55O1xyXG4gIHBvbGljeUdyb3Vwc0xlbmd0aDogYW55O1xyXG4gIGVuYWJsZUJ1dHRvbjogYm9vbGVhbjtcclxuICBjaGVja2VkUm9sZXNBcnI6IGFueSA9IFtdO1xyXG5cclxuICBidWlsZFRyZWUgPSAocGFyZW50SWQpID0+IChpdGVtKSA9PiB7XHJcbiAgICBjb25zdCBjaGlsZHJlbiA9IHRoaXMubWVudUxpc3QuZmlsdGVyKChjaGlsZCkgPT4gY2hpbGQucGFyZW50aWQgPT09IGl0ZW0uaWQpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLi4uaXRlbSxcclxuICAgICAgLi4uKGNoaWxkcmVuLmxlbmd0aCA+IDAgJiYgeyBjaGlsZHJlbjogY2hpbGRyZW4ubWFwKHRoaXMuYnVpbGRUcmVlKGl0ZW0uaWQpKSB9KSxcclxuICAgIH07XHJcbiAgfTtcclxuICBvcmlnaW5hbFBlcm1pc3Npb25zOiBBcnJheTxhbnk+ID0gW107XHJcblxyXG5cclxuICBuZXN0ZWREYXRhKCkge1xyXG4gICAgdGhpcy5tYWluTWVudUxpc3QgPSB0aGlzLm1lbnVMaXN0LmZpbHRlcigoaXRlbSkgPT4gIWl0ZW0ucGFyZW50aWQpLm1hcCh0aGlzLmJ1aWxkVHJlZShudWxsKSlcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgaW5qZWN0b3I6IEluamVjdG9yLFxyXG4gICAgcHJpdmF0ZSBmb3JtQnVpbGRlcjogRm9ybUJ1aWxkZXIsXHJcbiAgICBwcml2YXRlIGFsZXJ0U2VydmljZTogQWxlcnRTZXJ2aWNlLFxyXG4gICAgcHJpdmF0ZSBtc3RyU2VydmljZTogTWljcm9zdHJhdGVneVNlcnZpY2UsXHJcbiAgICBwcml2YXRlIHJvbGVzU2VydmljZTogUmJhY1NlcnZpY2UsXHJcbiAgICBwcml2YXRlIF9zdG9yZXNlcnZpY2U6IERhdGFTdG9yZVNlcnZpY2UsXHJcbiAgICBwcml2YXRlIHBlcm1pc3Npb25TZXJ2aWNlOiBSYmFjU2VydmljZVxyXG4gICkge1xyXG4gICAgdGhpcy5mb3JtU3VibWl0ID0gZmFsc2U7XHJcbiAgICB0aGlzLm9yZ1N1YnMgPSB0aGlzLl9zdG9yZXNlcnZpY2UuY3VycmVudFN0b3JlLnN1YnNjcmliZSgocmVzOiBhbnkpID0+IHtcclxuICAgICAgdGhpcy5pbnB1dFZhbGlkYXRpb25NZXRob2QgPSByZXNbJ0lOUFVUVkFMSURBVElPTk1FVEhPRCddXHJcbiAgICAgIGlmIChyZXNbJ1JCQUNPUkcnXSAmJiByZXNbJ1JCQUNPUkcnXSAhPT0gJycpIHtcclxuICAgICAgICB0aGlzLmZvcm1TdWJtaXQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnBlcm1pc3Npb25BbGxvdyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuUkJBQ09SRyA9IHJlc1snUkJBQ09SRyddO1xyXG4gICAgICAgIHRoaXMuZW52aXJvbm1lbnQgPSB0aGlzLlJCQUNPUkdbJ2Vudmlyb25tZW50J107XHJcbiAgICAgICAgdGhpcy5vcmdJZCA9IHBhcnNlSW50KHRoaXMuUkJBQ09SR1snb3JnSUQnXSk7XHJcbiAgICAgICAgdGhpcy5odHRwU2VydmljZSA9IHJlc1snSFRUUFNFUlZJQ0UnXVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCk6IHZvaWQge1xyXG4gICAgdGhpcy5pbml0aWFsaXplZm9ybSgpO1xyXG4gICAgdGhpcy5nZXRSZXBvcnREYXNoYm9hcmQoKTtcclxuICAgIHRoaXMuZ2V0Um9sZUxpc3QoKTtcclxuICAgIHRoaXMuZ2V0UG9saWN5R3JvdXBMaXN0KCk7XHJcbiAgICB0aGlzLmdldExhbmRpbmdQYWdlKCk7XHJcbiAgICB0aGlzLmdldFRhYnMoKTtcclxuXHJcbiAgICB0aGlzLnJvbGVGb3JtLnZhbHVlQ2hhbmdlcy5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICB0aGlzLmVuYWJsZUJ1dHRvbiA9IHRoaXMuaXNBbnlGb3JtQ29udHJvbFdpdGhWYWx1ZSgpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBpc0FueUZvcm1Db250cm9sV2l0aFZhbHVlKCk6IGJvb2xlYW4ge1xyXG4gICAgY29uc3QgZm9ybVZhbHVlID0gdGhpcy5yb2xlRm9ybS52YWx1ZTtcclxuICAgIGNvbnN0IGF2b2lkUHJvcGVydGllcyA9IFsncGFyZW50aWQnXTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBmb3JtVmFsdWUpIHtcclxuICAgICAgaWYgKGZvcm1WYWx1ZS5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICFhdm9pZFByb3BlcnRpZXMuaW5jbHVkZXMoa2V5KSAmJiBmb3JtVmFsdWVba2V5XSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcclxuICAgIHRoaXMub3JnU3Vicy51bnN1YnNjcmliZSgpO1xyXG4gIH1cclxuICBpbml0aWFsaXplZm9ybSgpIHtcclxuICAgIHRoaXMucm9sZUZvcm0gPSB0aGlzLmZvcm1CdWlsZGVyLmdyb3VwKHtcclxuICAgICAgbmFtZTogWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcclxuICAgICAgZGVmYXVsdHBhZ2VpZDogWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcclxuICAgICAgcGFyZW50aWQ6IFsyXSxcclxuICAgICAgcG9saWN5R3JvdXBJZDogW3sgdmFsdWU6ICcnLCBkaXNhYmxlZDogZmFsc2UgfSwgVmFsaWRhdG9ycy5yZXF1aXJlZF0sXHJcbiAgICAgIGRvc3NpZXJpZDogW11cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgXHJcblxyXG4gIGdldCBmb3JtVmFsaWRhdGUoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5yb2xlRm9ybS5jb250cm9scztcclxuICB9XHJcblxyXG4gIG9uSW5wdXQoZXZlbnQ6IEV2ZW50LCBmaWVsZHR5cGU6IGFueSwgbGFiZWw6IGFueSwgcmVxdWlyZWQ6IGJvb2xlYW4pIHtcclxuICAgIGNvbnN0IGVycm9yID0gdGhpcy5pbnB1dFZhbGlkYXRpb25NZXRob2QoZXZlbnQsIGZpZWxkdHlwZSwgbGFiZWwsIHJlcXVpcmVkKTtcclxuICAgIGlmIChlcnJvciAmJiB0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHRoaXMudmFsaWRhdGlvbkVycm9yc1tsYWJlbF0gPSBlcnJvcjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRlbGV0ZSB0aGlzLnZhbGlkYXRpb25FcnJvcnNbbGFiZWxdO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0TGFuZGluZ1BhZ2UoKSB7XHJcbiAgICB0aGlzLnJvbGVzU2VydmljZS5nZXRMYW5kaW5nUGFnZSgnMScpLnN1YnNjcmliZShcclxuICAgICAgKHJlczogYW55KSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcykge1xyXG4gICAgICAgICAgdGhpcy5sYW5kaW5nUGFnZSA9IHJlc1snZGF0YSddLmZpbHRlcigoeDogYW55KSA9PiB4LnJvdXRlLmNoYXJBdCgwKSA9PT0gJy8nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kdWJsaWNhdGVMYW5kaW5nUGFnZSA9IFsuLi50aGlzLmxhbmRpbmdQYWdlXTtcclxuICAgICAgfSxcclxuICAgICAgKGVycm9yOiBhbnkpID0+IGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGdldFJvbGVMaXN0KF9rZXk/OiBzdHJpbmcpIHtcclxuICAgIHRoaXMucm9sZXNTZXJ2aWNlLmdldEFsbFVzZXJSb2xlKHRoaXMub3JnSWQpLnN1YnNjcmliZShcclxuICAgICAgKHJlczogYW55KSA9PiB7XHJcbiAgICAgICAgdGhpcy5yb2xlTGlzdCA9IHJlc1snZGF0YSddLmZpbHRlcigoYTogYW55KSA9PiBhLm5hbWUgIT09ICdTdXBlciBhZG1pbicpO1xyXG4gICAgICAgIHRoaXMuZmlsdGVyZWRSb2xlTGlzdCA9IHRoaXMucm9sZUxpc3Q7XHJcbiAgICAgIH0sXHJcbiAgICAgIChlcnI6IGFueSkgPT4gY29uc29sZS5sb2coZXJyKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGdldFBvbGljeUdyb3VwTGlzdChfbWFuYWdlbWVudEdyb3VwSWQ/OiBudW1iZXIpIHtcclxuICAgIHRoaXMucm9sZXNTZXJ2aWNlLmdldE9yZ1BvbGljeUdyb3VwTGlzdCh0aGlzLm9yZ0lkKS5zdWJzY3JpYmUoXHJcbiAgICAgIChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAgIHRoaXMucG9saWN5R3JvdXBMaXN0ID0gcmVzWydkYXRhJ107XHJcbiAgICAgIH0sXHJcbiAgICAgIChlcnI6IGFueSkgPT4gY29uc29sZS5sb2coZXJyKVxyXG4gICAgKTtcclxuICB9XHJcbiAgY2xlYXJTZWFyY2goZXZlbnQ6IEV2ZW50KSB7XHJcbiAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybS1jb250cm9sJykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgIGlmIChpbnB1dEVsZW1lbnQpIHtcclxuICAgICAgaW5wdXRFbGVtZW50LnZhbHVlID0gJyc7XHJcbiAgICAgIHRoaXMuZmlsdGVyZWRSb2xlTGlzdCA9IHRoaXMucm9sZUxpc3Q7XHJcbiAgICB9XHJcbiAgfVxyXG4gIG9uQ2xpY2tBZGRSb2xlKCkge1xyXG4gICAgdGhpcy5lbmFibGVCdXR0b24gPSBmYWxzZTtcclxuICAgIHRoaXMucm9sZUZvcm0ucmVzZXQoKTtcclxuICAgIHRoaXMuZm9ybVN1Ym1pdCA9IGZhbHNlO1xyXG4gICAgdGhpcy5pbml0aWFsaXplZm9ybSgpO1xyXG4gICAgY29uc29sZS5sb2coXCJvbiBDbGljayBBZGQgUm9sZVwiKTtcclxuICAgIHRoaXMucm9sZUZvcm0udmFsdWVDaGFuZ2VzLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgIHRoaXMuZW5hYmxlQnV0dG9uID0gdGhpcy5pc0FueUZvcm1Db250cm9sV2l0aFZhbHVlKCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdFbmFibGUgYnV0dG9uIDogJyx0aGlzLmVuYWJsZUJ1dHRvbik7XHJcbiAgICB9KTtcclxuICAgIGNvbnNvbGUubG9nKFwib24gQ2xpY2sgQWRkIFJvbGUgLSBzdGVwIDJcIik7XHJcbiAgICBjb25zdCBwb2xpY3lHcm91cENvbnRyb2wgPSB0aGlzLnJvbGVGb3JtLmdldCgncG9saWN5R3JvdXBJZCcpO1xyXG4gICAgY29uc29sZS5sb2coXCJwb2xpY3lHcm91cElkIGNvbnRyb2wgYmVmb3JlIGVuYWJsZTpcIiwgcG9saWN5R3JvdXBDb250cm9sLmRpc2FibGVkKTtcclxuICAgIGNvbnNvbGUubG9nKFwicG9saWN5R3JvdXBJZCBjb250cm9sIGJlZm9yZSBlbmFibGUgLSBzdGVwIDI6XCIsIHBvbGljeUdyb3VwQ29udHJvbC5lbmFibGVkKTtcclxuXHJcbiAgICAvLyBBZGQgYSB0aW1lb3V0IHRvIGZvcmNlIHJlLWV2YWx1YXRpb25cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICBwb2xpY3lHcm91cENvbnRyb2wuZW5hYmxlKCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwicG9saWN5R3JvdXBJZCBjb250cm9sIGFmdGVyIGVuYWJsZTpcIiwgcG9saWN5R3JvdXBDb250cm9sLmRpc2FibGVkKTtcclxuICAgICAgY29uc29sZS5sb2coXCJwb2xpY3lHcm91cElkIGNvbnRyb2wgYWZ0ZXIgZW5hYmxlIC0gc3RlcCAxIDpcIiwgcG9saWN5R3JvdXBDb250cm9sLmVuYWJsZWQpO1xyXG4gICAgfSwgMCk7XHJcbiAgICBwb2xpY3lHcm91cENvbnRyb2wuZW5hYmxlKCk7XHJcblxyXG4gICAgdGhpcy5wZXJtaXNzaW9uQWxsb3cgPSBmYWxzZTtcclxuICAgIHRoaXMucGVybWlzc2lvbnMgPSBbXTtcclxuICAgIHRoaXMuZmlsdGVyUGVybWlzc2lvbnMgPSBbXTtcclxuICAgIHRoaXMucm9sZUlkID0gMDtcclxuICAgIHRoaXMuZmlyc3RUYWIgPSB0cnVlO1xyXG4gICAgdGhpcy52YWxpZGF0aW9uRXJyb3JzID0ge307XHJcbiAgICB0aGlzLnBvbGljeUdyb3Vwc0xlbmd0aCA9IDA7XHJcbiAgfVxyXG4gIHNlYXJjaFJvbGUoZXZlbnQ6IEV2ZW50KSB7XHJcbiAgICBjb25zdCB2YWx1ZSA9IChldmVudC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUudG9Mb3dlckNhc2UoKTtcclxuICAgIHRoaXMuZmlsdGVyZWRSb2xlTGlzdCA9IHRoaXMucm9sZUxpc3QuZmlsdGVyKGEgPT4gYT8ubmFtZT8udG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKHZhbHVlKSk7XHJcbiAgfVxyXG5cclxuICBjbGVhclBlcm1pc3Npb24oZXZlbnQ/OiBFdmVudCkge1xyXG4gICAgY29uc3QgaW5wdXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNsZWFyYm94JykgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgIGlmIChpbnB1dEVsZW1lbnQpIHtcclxuICAgICAgaW5wdXRFbGVtZW50LnZhbHVlID0gJyc7XHJcbiAgICB9XHJcbiAgICB0aGlzLnBlcm1pc3Npb25zID0gdGhpcy5vcmlnaW5hbFBlcm1pc3Npb25zXHJcbiAgfVxyXG5cclxuICBzZWFyY2hSb2xlUGVybWlzc2lvbihldmVudDogRXZlbnQpIHtcclxuICAgIGNvbnN0IHZhbHVlID0gKGV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgdGhpcy5wZXJtaXNzaW9ucyA9IHRoaXMub3JpZ2luYWxQZXJtaXNzaW9ucy5maWx0ZXIoYSA9PiBhPy5kZXNjcmlwdGlvbj8udG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKHZhbHVlKSk7XHJcbiAgfVxyXG5cclxuICBnZXRUYWJzKCkge1xyXG4gICAgdGhpcy5pdGVtcyA9IFtcclxuICAgICAge1xyXG4gICAgICAgIGxhYmVsOiAnUGVybWlzc2lvbnMnLFxyXG4gICAgICAgIGljb246ICcnLFxyXG4gICAgICAgIGNvbW1hbmQ6IGV2ZW50ID0+IHtcclxuICAgICAgICAgIHRoaXMuYWN0aXZhdGVNZW51KGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBsYWJlbDogJ01lbnUgT3JkZXJpbmcnLFxyXG4gICAgICAgIGljb246ICcnLFxyXG4gICAgICAgIGNvbW1hbmQ6IGV2ZW50ID0+IHtcclxuICAgICAgICAgIHRoaXMuYWN0aXZhdGVNZW51KGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIF07XHJcbiAgICB0aGlzLmFjdGl2ZUl0ZW0gPSB0aGlzLml0ZW1zWzBdO1xyXG4gICAgdGhpcy5maXJzdFRhYiA9IHRydWU7XHJcbiAgfVxyXG5cclxuICBnZXRSb2xlSW5mbyhyb2xlaWQ6IGFueSkge1xyXG4gICAgdGhpcy5mb3JtU3VibWl0ID0gZmFsc2U7XHJcbiAgICB0aGlzLnZhbGlkYXRpb25FcnJvcnMgPSB7fTtcclxuICAgIHRoaXMuY2xlYXJQZXJtaXNzaW9uKCk7XHJcbiAgICB0aGlzLmR1YmxpY2F0ZUxhbmRpbmdQYWdlID0gdGhpcy5sYW5kaW5nUGFnZTtcclxuICAgIHRoaXMucm9sZUlkID0gcm9sZWlkO1xyXG4gICAgaWYgKHJvbGVpZCkge1xyXG4gICAgICB0aGlzLmlzRGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICB0aGlzLmdldFRhYnMoKTtcclxuICAgICAgdGhpcy5yb2xlc1NlcnZpY2UuZ2V0Um9sZUJ5SWQocm9sZWlkKS5zdWJzY3JpYmUoKHJlczogYW55KSA9PiB7XHJcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9uQWxsb3cgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucm9sZUluZm9ybWF0aW9uKHJlcyk7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RQb2xpY3lHcm91cCgpO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMucm9sZUZvcm0ucmVzZXQoKTtcclxuICAgICAgdGhpcy5wZXJtaXNzaW9ucyA9IFtdO1xyXG4gICAgICB0aGlzLmlzRGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgdGhpcy5pc0Rpc2FibGVkT3RoZXIgPSBmYWxzZTtcclxuICAgICAgdGhpcy5yb2xlRm9ybS5lbmFibGUoKTtcclxuICAgICAgdGhpcy5wb2xpY3lHcm91cHNMZW5ndGggPSAwXHJcbiAgICB9XHJcbiAgfVxyXG4gIHJvbGVJbmZvcm1hdGlvbihyZXM6IGFueSkge1xyXG4gICAgdGhpcy5yb2xlRm9ybS5wYXRjaFZhbHVlKHtcclxuICAgICAgbmFtZTogcmVzLmRhdGEubmFtZSxcclxuICAgICAgZGVmYXVsdHBhZ2VpZDogcmVzLmRhdGEuZGVmYXVsdHBhZ2VpZCxcclxuICAgICAgcGFyZW50aWQ6IHJlcy5kYXRhLnBhcmVudGlkLFxyXG4gICAgICBwb2xpY3lHcm91cElkOlxyXG4gICAgICAgIHJlcz8uZGF0YT8ucG9saWN5R3JvdXBzXHJcbiAgICAgICAgICAuZmlsdGVyKChpdGVtOiBhbnkpID0+IGl0ZW0pXHJcbiAgICAgICAgICAubWFwKChpdGVtOiBhbnkpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGl0ZW1bJ2lkJ107XHJcbiAgICAgICAgICB9KSB8fCBbXSxcclxuICAgICAgZG9zc2llcmlkOiBKU09OLnBhcnNlKHJlcy5kYXRhLmRvc3NpZXJpZCk/LmlkXHJcbiAgICB9KTtcclxuICAgIHRoaXMucGVybWlzc2lvbnMgPSBbLi4ucmVzPy5kYXRhPy5wZXJtaXNzaW9uc107XHJcbiAgICB0aGlzLmZpbHRlclBlcm1pc3Npb25zID0gdGhpcy5wZXJtaXNzaW9ucztcclxuICAgIHRoaXMucGVybWlzc2lvbnMgPSB0aGlzLnBlcm1pc3Npb25zXHJcbiAgICAgIC5tYXAoZiA9PiB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oeyBpc0Zvcm1CdWlsZGVyOiBmYWxzZSB9LCBmKTtcclxuICAgICAgfSlcclxuICAgICAgLm1hcChnID0+IHtcclxuICAgICAgICBpZiAoZy5rZXkgPT09ICdGT1JNJykge1xyXG4gICAgICAgICAgZy5pc0Zvcm1CdWlsZGVyID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZy5pc0Zvcm1CdWlsZGVyID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBnO1xyXG4gICAgICB9KTtcclxuICAgIHRoaXMuc2VsZWN0ZWRQZXJtaXNzaW9uc0dyb3VwID0gW107XHJcbiAgICBpZiAocmVzLmRhdGEucGVybWlzc2lvbnMgJiYgcmVzLmRhdGEucGVybWlzc2lvbnMubGVuZ3RoKSB7XHJcbiAgICAgIHJlcy5kYXRhLnBlcm1pc3Npb25zLmZvckVhY2goKGVsZTogYW55KSA9PiB7XHJcbiAgICAgICAgdGhpcy5nZXRTZWxlY3RlZFBlcm1pc2lvbnMoZWxlKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLm9yaWdpbmFsUGVybWlzc2lvbnMgPSB0aGlzLnBlcm1pc3Npb25zO1xyXG4gICAgdGhpcy5pc0Rpc2FibGVkT3RoZXIgPSAhdGhpcy5oYXNBY2Nlc3M7XHJcbiAgICBjb25zdCBpc0FkbWluID0gdGhpcy51c2Vycm9sZXMuZmluZCgoeyBuYW1lIH0pID0+IG5hbWUgPT09ICdBZG1pbicpO1xyXG4gICAgaWYgKGlzQWRtaW4pIHtcclxuICAgICAgdGhpcy5yb2xlRm9ybS5lbmFibGUoKTtcclxuICAgICAgdGhpcy5pc0Rpc2FibGVkT3RoZXIgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIC8vIGVsc2UgaWYgKCF0aGlzLmhhc0FjY2VzcyB8fCByZXMuaXNyZWFkb25seSkge1xyXG4gICAgLy8gICB0aGlzLnJvbGVGb3JtLmNvbnRyb2xzWyduYW1lJ10uZGlzYWJsZSgpO1xyXG4gICAgLy8gfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgIC8vIHRoaXMucm9sZUZvcm0uZW5hYmxlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG4gIGdldCBoYXNBY2Nlc3MoKSB7XHJcbiAgICByZXR1cm4gdGhpcy51c2Vycm9sZXMuZmluZCgoeyBpZCwgbmFtZSB9KSA9PiBpZCA9PT0gdGhpcy5yb2xlSWQgfHwgbmFtZSA9PT0gJ0FkbWluJyk7XHJcbiAgfVxyXG5cclxuICBpc1ByaXZpbGFnZShwZXJtaXNzaW9uOiBhbnkpIHtcclxuICAgIGlmIChwZXJtaXNzaW9uICYmIHBlcm1pc3Npb24/LnBlcm1pc3Npb25zICYmIHBlcm1pc3Npb24/LnBlcm1pc3Npb25zPy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2VsZWN0QWxsUGFnZShpbmRleDogbnVtYmVyLCBldmVudDogYW55KSB7XHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIHRoaXMucGVybWlzc2lvbnNbaW5kZXhdLmNoZWNrZWQgPSBldmVudC50YXJnZXQuY2hlY2tlZDtcclxuICAgIHRoaXMuc2V0U2VsZWN0ZWRQZXJtaXNpb25zKFxyXG4gICAgICBldmVudC50YXJnZXQuY2hlY2tlZCxcclxuICAgICAgdGhpcy5wZXJtaXNzaW9uc1tpbmRleF0uaWQsXHJcbiAgICAgIHRoaXMucGVybWlzc2lvbnNbaW5kZXhdLmNoZWNrZWQsXHJcbiAgICAgIHRoaXMucGVybWlzc2lvbnNbaW5kZXhdLmNoZWNrZWR3cml0ZVxyXG4gICAgKTtcclxuICAgIHRoaXMuY2hlY2tlZFJvbGVzQXJyID0gdGhpcy5wZXJtaXNzaW9ucy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uY2hlY2tlZCA9PT0gdHJ1ZSk7XHJcbiAgICB0aGlzLnBlcm1pc3Npb25zW2luZGV4XS5wZXJtaXNzaW9ucy5mb3JFYWNoKChwYWdlOiBhbnkpID0+IHtcclxuICAgICAgcGFnZS5jaGVja2VkID0gZXZlbnQudGFyZ2V0LmNoZWNrZWQ7XHJcbiAgICAgIHBhZ2UuY2hlY2tlZHdyaXRlID0gZXZlbnQudGFyZ2V0LmNoZWNrZWQ7XHJcbiAgICAgIHRoaXMuc2V0U2VsZWN0ZWRQZXJtaXNpb25zKGV2ZW50LnRhcmdldC5jaGVja2VkLCBwYWdlLmlkLCBwYWdlLmNoZWNrZWQsIHBhZ2UuY2hlY2tlZHdyaXRlKTtcclxuICAgICAgcGFnZS5wZXJtaXNzaW9ucy5mb3JFYWNoKChwcml2aWxlZ2U6IGFueSkgPT4ge1xyXG4gICAgICAgIHByaXZpbGVnZS5jaGVja2VkID0gZXZlbnQudGFyZ2V0LmNoZWNrZWQ7XHJcbiAgICAgICAgcHJpdmlsZWdlLmNoZWNrZWR3cml0ZSA9IGV2ZW50LnRhcmdldC5jaGVja2VkO1xyXG4gICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRQZXJtaXNpb25zKGV2ZW50LnRhcmdldC5jaGVja2VkLCBwcml2aWxlZ2UuaWQsIHByaXZpbGVnZS5jaGVja2VkLCBwcml2aWxlZ2UuY2hlY2tlZHdyaXRlKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldFNlbGVjdGVkUGVybWlzaW9ucyhpdGVtOiBhbnkpIHtcclxuICAgIHRoaXMuc2V0U2VsZWN0ZWRQZXJtaXNpb25zKGl0ZW0uY2hlY2tlZCwgaXRlbS5pZCwgaXRlbS5jaGVja2VkLCBpdGVtLmNoZWNrZWR3cml0ZSk7XHJcbiAgICBpZiAoaXRlbS5wZXJtaXNzaW9ucyAmJiBpdGVtLnBlcm1pc3Npb25zLmxlbmd0aCkge1xyXG4gICAgICBpdGVtLnBlcm1pc3Npb25zLmZvckVhY2goKHBhZ2U6IGFueSkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRQZXJtaXNpb25zKHBhZ2UuY2hlY2tlZCwgcGFnZS5pZCwgcGFnZS5jaGVja2VkLCBwYWdlLmNoZWNrZWR3cml0ZSk7XHJcbiAgICAgICAgaWYgKHBhZ2UgJiYgcGFnZS5wZXJtaXNzaW9ucz8ubGVuZ3RoKSB7XHJcbiAgICAgICAgICBwYWdlLnBlcm1pc3Npb25zLmZvckVhY2goKHByaXZpbGVnZTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRQZXJtaXNpb25zKHByaXZpbGVnZS5jaGVja2VkLCBwcml2aWxlZ2UuaWQsIHByaXZpbGVnZS5jaGVja2VkLCBwcml2aWxlZ2UuY2hlY2tlZHdyaXRlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZWxlY3RBbGxQcml2aWxhZ2UocGFnZUluZGV4OiBudW1iZXIsIHBlcm1pc3Npb25JbmRleDogbnVtYmVyLCBldmVudDogYW55KSB7XHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGlmKGV2ZW50LnRhcmdldC5jaGVja2VkKSB7XHJcbiAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5jaGVja2VkID0gZXZlbnQudGFyZ2V0LmNoZWNrZWQ7XHJcbiAgICB9XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0LnZhbHVlID09PSAncmVhZCcgfHwgZXZlbnQudGFyZ2V0LnZhbHVlID09PSAnb24nKSB7XHJcbiAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9uc1twZXJtaXNzaW9uSW5kZXhdLmNoZWNrZWQgPSBldmVudC50YXJnZXQuY2hlY2tlZDtcclxuICAgIH1cclxuICAgIGlmIChldmVudC50YXJnZXQudmFsdWUgPT09ICd3cml0ZScpIHtcclxuICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLnBlcm1pc3Npb25zW3Blcm1pc3Npb25JbmRleF0uY2hlY2tlZHdyaXRlID0gZXZlbnQudGFyZ2V0LmNoZWNrZWQ7XHJcbiAgICB9XHJcbiAgICB0aGlzLnNldFNlbGVjdGVkUGVybWlzaW9ucyhcclxuICAgICAgZXZlbnQudGFyZ2V0LmNoZWNrZWQsXHJcbiAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9uc1twZXJtaXNzaW9uSW5kZXhdLmlkLFxyXG4gICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnNbcGVybWlzc2lvbkluZGV4XS5jaGVja2VkLFxyXG4gICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnNbcGVybWlzc2lvbkluZGV4XS5jaGVja2Vkd3JpdGVcclxuICAgICk7XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0LnZhbHVlID09PSAncmVhZCcgfHwgZXZlbnQudGFyZ2V0LnZhbHVlID09PSAnb24nKSB7XHJcbiAgICAgIGlmIChldmVudC50YXJnZXQuY2hlY2tlZCB8fCAhZXZlbnQudGFyZ2V0LmNoZWNrZWQpIHtcclxuICAgICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnNbcGVybWlzc2lvbkluZGV4XS5wZXJtaXNzaW9ucy5mb3JFYWNoKChwYWdlOiBhbnkpID0+IHtcclxuICAgICAgICAgIHBhZ2UuY2hlY2tlZCA9IGV2ZW50LnRhcmdldC5jaGVja2VkO1xyXG4gICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZFBlcm1pc2lvbnMoZXZlbnQudGFyZ2V0LmNoZWNrZWQsIHBhZ2UuaWQsIHBhZ2UuY2hlY2tlZCwgcGFnZS5jaGVja2Vkd3JpdGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldC52YWx1ZSA9PT0gJ3dyaXRlJykge1xyXG4gICAgICBpZiAoZXZlbnQudGFyZ2V0LmNoZWNrZWQpIHtcclxuICAgICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnNbcGVybWlzc2lvbkluZGV4XS5wZXJtaXNzaW9ucy5mb3JFYWNoKChwYWdlOiBhbnkpID0+IHtcclxuICAgICAgICAgIHBhZ2UuY2hlY2tlZHdyaXRlID0gZXZlbnQudGFyZ2V0LmNoZWNrZWQ7XHJcbiAgICAgICAgICB0aGlzLnNldFNlbGVjdGVkUGVybWlzaW9ucyhldmVudC50YXJnZXQuY2hlY2tlZCwgcGFnZS5pZCwgcGFnZS5jaGVja2VkLCBwYWdlLmNoZWNrZWR3cml0ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHRoaXMuZ2V0UGFnZUNoZWNrZWQocGFnZUluZGV4KTtcclxuICB9XHJcblxyXG4gIHNlbGVjdFBhZ2UocGFnZUluZGV4OiBudW1iZXIsIHBlcm1pc3Npb25JbmRleDogbnVtYmVyLCBldmVudDogYW55KSB7XHJcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGlmIChldmVudC50YXJnZXQudmFsdWUgPT09ICd3cml0ZScpIHtcclxuICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLnBlcm1pc3Npb25zW3Blcm1pc3Npb25JbmRleF0uY2hlY2tlZHdyaXRlID0gZXZlbnQudGFyZ2V0LmNoZWNrZWQ7XHJcbiAgICB9XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0LnZhbHVlID09PSAncmVhZCcpIHtcclxuICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLnBlcm1pc3Npb25zW3Blcm1pc3Npb25JbmRleF0uY2hlY2tlZCA9IGV2ZW50LnRhcmdldC5jaGVja2VkO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zZXRTZWxlY3RlZFBlcm1pc2lvbnMoXHJcbiAgICAgIGV2ZW50LnRhcmdldC5jaGVja2VkLFxyXG4gICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnNbcGVybWlzc2lvbkluZGV4XS5pZCxcclxuICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLnBlcm1pc3Npb25zW3Blcm1pc3Npb25JbmRleF0uY2hlY2tlZCxcclxuICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLnBlcm1pc3Npb25zW3Blcm1pc3Npb25JbmRleF0uY2hlY2tlZHdyaXRlXHJcbiAgICApO1xyXG4gICAgdGhpcy5nZXRQYWdlQ2hlY2tlZChwYWdlSW5kZXgpO1xyXG4gIH1cclxuXHJcbiAgc2VsZWN0UHJpdmlsZWdlKHBhZ2VJbmRleDogbnVtYmVyLCBwZXJtaXNzaW9uSW5kZXg6IG51bWJlciwgcHJpdmlsZWdlSW5kZXg6IG51bWJlciwgZXZlbnQ6IGFueSkge1xyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBpZiAoZXZlbnQudGFyZ2V0LnZhbHVlID09PSAnd3JpdGUnKSB7XHJcbiAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9uc1twZXJtaXNzaW9uSW5kZXhdLnBlcm1pc3Npb25zW3ByaXZpbGVnZUluZGV4XS5jaGVja2Vkd3JpdGUgPVxyXG4gICAgICAgIGV2ZW50LnRhcmdldC5jaGVja2VkO1xyXG4gICAgfVxyXG4gICAgaWYgKGV2ZW50LnRhcmdldC52YWx1ZSA9PT0gJ3JlYWQnIHx8IGV2ZW50LnRhcmdldC52YWx1ZSA9PT0gJ29uJykge1xyXG4gICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnNbcGVybWlzc2lvbkluZGV4XS5wZXJtaXNzaW9uc1twcml2aWxlZ2VJbmRleF0uY2hlY2tlZCA9XHJcbiAgICAgICAgZXZlbnQudGFyZ2V0LmNoZWNrZWQ7XHJcbiAgICB9XHJcbiAgICB0aGlzLnNldFNlbGVjdGVkUGVybWlzaW9ucyhcclxuICAgICAgZXZlbnQudGFyZ2V0LmNoZWNrZWQsXHJcbiAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9uc1twZXJtaXNzaW9uSW5kZXhdLnBlcm1pc3Npb25zW3ByaXZpbGVnZUluZGV4XS5pZCxcclxuICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLnBlcm1pc3Npb25zW3Blcm1pc3Npb25JbmRleF0ucGVybWlzc2lvbnNbcHJpdmlsZWdlSW5kZXhdLmNoZWNrZWQsXHJcbiAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9uc1twZXJtaXNzaW9uSW5kZXhdLnBlcm1pc3Npb25zW3ByaXZpbGVnZUluZGV4XS5jaGVja2Vkd3JpdGVcclxuICAgICk7XHJcbiAgICB0aGlzLmdldFByaXZpbGFnZUNoZWNrZWQocGFnZUluZGV4LCBwZXJtaXNzaW9uSW5kZXgpO1xyXG4gICAgdGhpcy5nZXRQYWdlQ2hlY2tlZChwYWdlSW5kZXgpO1xyXG4gIH1cclxuXHJcbiAgZ2V0UGFnZUNoZWNrZWQocGFnZUluZGV4OiBudW1iZXIpIHtcclxuICAgIGlmIChcclxuICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLmNoZWNrZWQgIT09IHRoaXMuZ2V0Q2hlY2tlZCh0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnMpICYmXHJcbiAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5jaGVja2Vkd3JpdGUgIT09IHRoaXMuZ2V0Q2hlY2tlZFdyaXRlKHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9ucylcclxuICAgICkge1xyXG4gICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0uY2hlY2tlZCA9IHRoaXMuZ2V0Q2hlY2tlZCh0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnMpO1xyXG4gICAgICB0aGlzLnNldFNlbGVjdGVkUGVybWlzaW9ucyhcclxuICAgICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0uY2hlY2tlZCxcclxuICAgICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0uaWQsXHJcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLmNoZWNrZWQsXHJcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLmNoZWNrZWR3cml0ZVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0UHJpdmlsYWdlQ2hlY2tlZChwYWdlSW5kZXg6IG51bWJlciwgcGVybWlzc2lvbkluZGV4OiBudW1iZXIpIHtcclxuICAgIGlmIChcclxuICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLnBlcm1pc3Npb25zW3Blcm1pc3Npb25JbmRleF0uY2hlY2tlZCAhPT1cclxuICAgICAgdGhpcy5nZXRDaGVja2VkKHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9uc1twZXJtaXNzaW9uSW5kZXhdLnBlcm1pc3Npb25zKVxyXG4gICAgKSB7XHJcbiAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9uc1twZXJtaXNzaW9uSW5kZXhdLmNoZWNrZWQgPSB0aGlzLmdldENoZWNrZWQoXHJcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLnBlcm1pc3Npb25zW3Blcm1pc3Npb25JbmRleF0ucGVybWlzc2lvbnNcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5zZXRTZWxlY3RlZFBlcm1pc2lvbnMoXHJcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLnBlcm1pc3Npb25zW3Blcm1pc3Npb25JbmRleF0uY2hlY2tlZCxcclxuICAgICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnNbcGVybWlzc2lvbkluZGV4XS5pZCxcclxuICAgICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnNbcGVybWlzc2lvbkluZGV4XS5jaGVja2VkLFxyXG4gICAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9uc1twZXJtaXNzaW9uSW5kZXhdLmNoZWNrZWR3cml0ZVxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIGlmIChcclxuICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLnBlcm1pc3Npb25zW3Blcm1pc3Npb25JbmRleF0uY2hlY2tlZHdyaXRlICE9PVxyXG4gICAgICB0aGlzLmdldENoZWNrZWRXcml0ZSh0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnNbcGVybWlzc2lvbkluZGV4XS5wZXJtaXNzaW9ucylcclxuICAgICkge1xyXG4gICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnNbcGVybWlzc2lvbkluZGV4XS5jaGVja2Vkd3JpdGUgPSB0aGlzLmdldENoZWNrZWRXcml0ZShcclxuICAgICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnNbcGVybWlzc2lvbkluZGV4XS5wZXJtaXNzaW9uc1xyXG4gICAgICApO1xyXG4gICAgICB0aGlzLnNldFNlbGVjdGVkUGVybWlzaW9ucyhcclxuICAgICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnNbcGVybWlzc2lvbkluZGV4XS5jaGVja2VkLFxyXG4gICAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9uc1twZXJtaXNzaW9uSW5kZXhdLmlkLFxyXG4gICAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9uc1twZXJtaXNzaW9uSW5kZXhdLmNoZWNrZWQsXHJcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLnBlcm1pc3Npb25zW3Blcm1pc3Npb25JbmRleF0uY2hlY2tlZHdyaXRlXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKFxyXG4gICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0uY2hlY2tlZCAhPT1cclxuICAgICAgdGhpcy5nZXRDaGVja2VkKHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9ucylcclxuICAgICkge1xyXG4gICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0uY2hlY2tlZCA9IHRoaXMuZ2V0Q2hlY2tlZChcclxuICAgICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnNcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5zZXRTZWxlY3RlZFBlcm1pc2lvbnMoXHJcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLmNoZWNrZWQsXHJcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLmlkLFxyXG4gICAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5jaGVja2VkLFxyXG4gICAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5jaGVja2Vkd3JpdGVcclxuICAgICAgKTtcclxuICAgIH0gZWxzZSBpZiAoXHJcbiAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5jaGVja2Vkd3JpdGUgIT09XHJcbiAgICAgIHRoaXMuZ2V0Q2hlY2tlZFdyaXRlKHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9ucylcclxuICAgICkge1xyXG4gICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0uY2hlY2tlZHdyaXRlID0gdGhpcy5nZXRDaGVja2VkV3JpdGUoXHJcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLnBlcm1pc3Npb25zXHJcbiAgICAgICk7XHJcbiAgICAgIHRoaXMuc2V0U2VsZWN0ZWRQZXJtaXNpb25zKFxyXG4gICAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5jaGVja2VkLFxyXG4gICAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5pZCxcclxuICAgICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0uY2hlY2tlZCxcclxuICAgICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0uY2hlY2tlZHdyaXRlXHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZWxlY3RBbGxBY2Nlc3ModmFsdWU6IGJvb2xlYW4pIHtcclxuICAgIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHtcclxuICAgICAgdGhpcy5jaGVja2VkUm9sZXNBcnIgPSBbXVxyXG4gICAgfVxyXG4gICAgdGhpcy5wZXJtaXNzaW9ucy5mb3JFYWNoKChwYWdlOiBhbnkpID0+IHtcclxuICAgICAgcGFnZS5jaGVja2VkID0gdmFsdWU7XHJcbiAgICAgIHRoaXMuc2V0U2VsZWN0ZWRQZXJtaXNpb25zKHZhbHVlLCBwYWdlLmlkLCBwYWdlLmNoZWNrZWQsIHBhZ2UuY2hlY2tlZHdyaXRlKTtcclxuICAgICAgaWYgKHBhZ2UgJiYgcGFnZS5wZXJtaXNzaW9ucykge1xyXG4gICAgICAgIHBhZ2UucGVybWlzc2lvbnMuZm9yRWFjaCgocGVybWlzc2lvbjogYW55KSA9PiB7XHJcbiAgICAgICAgICBwZXJtaXNzaW9uLmNoZWNrZWQgPSB2YWx1ZTtcclxuICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRQZXJtaXNpb25zKHZhbHVlLCBwZXJtaXNzaW9uLmlkLCBwZXJtaXNzaW9uLmNoZWNrZWQsIHBlcm1pc3Npb24uY2hlY2tlZHdyaXRlKTtcclxuICAgICAgICAgIGlmIChwZXJtaXNzaW9uICYmIHBlcm1pc3Npb24ucGVybWlzc2lvbnM/Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICBwZXJtaXNzaW9uLnBlcm1pc3Npb25zLmZvckVhY2goKHByaXZpbGVnZTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgICAgcHJpdmlsZWdlLmNoZWNrZWQgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICBwcml2aWxlZ2UuY2hlY2tlZHdyaXRlID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZFBlcm1pc2lvbnModmFsdWUsIHByaXZpbGVnZS5pZCwgcHJpdmlsZWdlLmNoZWNrZWQsIHByaXZpbGVnZS5jaGVja2Vkd3JpdGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGROZXdSb2xlKGlkOiBzdHJpbmcpIHtcclxuICAgIHRoaXMucGVybWlzc2lvbnMgPSBbXTtcclxuICAgIHRoaXMuZm9ybVN1Ym1pdCA9IGZhbHNlO1xyXG4gICAgdGhpcy5wZXJtaXNzaW9uQWxsb3cgPSBmYWxzZTtcclxuICAgIHRoaXMucm9sZXNTZXJ2aWNlLmdldFBlcm1pc3Npb25Sb2xlQnlJZChpZCkuc3Vic2NyaWJlKFxyXG4gICAgICAocmVzOiBhbnkpID0+IHtcclxuICAgICAgICB0aGlzLnBlcm1pc3Npb25BbGxvdyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9ucyA9IHJlc1snZGF0YSddO1xyXG4gICAgICB9LFxyXG4gICAgICAoZXJyOiBhbnkpID0+IGNvbnNvbGUubG9nKGVycilcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICBzZXRTZWxlY3RlZFBlcm1pc2lvbnMoX3NlbGVjdGVkOiBib29sZWFuLCBpZDogbnVtYmVyLCBhbGxvdzogYm9vbGVhbiwgd3JpdGU6IGJvb2xlYW4pIHtcclxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5zZWxlY3RlZFBlcm1pc3Npb25zR3JvdXAuZmluZEluZGV4KHJlcyA9PiByZXMuaWQgPT09IGlkKTtcclxuICAgIGlmIChpbmRleCA9PT0gLTEgJiYgYWxsb3cpIHtcclxuICAgICAgdGhpcy5zZWxlY3RlZFBlcm1pc3Npb25zR3JvdXAucHVzaCh7IGlkLCBhbGxvdywgd3JpdGUgfSk7XHJcbiAgICB9IGVsc2UgaWYgKCFhbGxvdyAmJiAhd3JpdGUgJiYgaW5kZXggIT09IC0xKSB7XHJcbiAgICAgIHRoaXMuc2VsZWN0ZWRQZXJtaXNzaW9uc0dyb3VwLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9IGVsc2UgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICB0aGlzLnNlbGVjdGVkUGVybWlzc2lvbnNHcm91cCA9IHRoaXMuc2VsZWN0ZWRQZXJtaXNzaW9uc0dyb3VwLm1hcChpID0+IHtcclxuICAgICAgICBpZiAoaS5pZCA9PT0gaWQpIHtcclxuICAgICAgICAgIGkud3JpdGUgPSB3cml0ZTtcclxuICAgICAgICAgIGkuYWxsb3cgPSBhbGxvdztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVzZXRSZXBvcnREYXNoYm9hcmRMaXN0KCkge1xyXG4gICAgdGhpcy5yZXBvcnREYXNoYm9hcmRMaXN0ID0gdGhpcy5kdXBsaWNhdGVyZXBvcnREYXNoYm9hcmRMaXN0O1xyXG4gIH1cclxuXHJcbiAgYWRkUm9sZSgpIHtcclxuICAgIHRoaXMuZm9ybVN1Ym1pdCA9IHRydWU7XHJcbiAgICBsZXQgZGF0YSA9IHRoaXMucm9sZUZvcm0uZ2V0UmF3VmFsdWUoKTtcclxuICAgIGlmICh0aGlzLnJvbGVGb3JtLnZhbGlkKSB7XHJcbiAgICAgIGNvbnN0IGRvc3NpZXJDb25maWcgPSB0aGlzLnJlcG9ydERhc2hib2FyZExpc3Q/LmZpbHRlcigoZG9zc2llcjogYW55KSA9PiBkb3NzaWVyLmlkID09PSBkYXRhLmRvc3NpZXJpZCk/Lm1hcCgoYTogYW55KSA9PiAoe1xyXG4gICAgICAgIGlkOiBhLmlkLFxyXG4gICAgICAgIHByb2plY3RJZDogYS5wcm9qZWN0SWRcclxuICAgICAgfSkpWzBdO1xyXG4gICAgICBkYXRhLnByaW9yaXR5ID0gdGhpcy5lbnZpcm9ubWVudC5wcmlvcml0eTtcclxuICAgICAgZGF0YS5hcHBsaWNhdGlvbmlkID0gdGhpcy5lbnZpcm9ubWVudC5hcHBsaWNhdGlvbmlkO1xyXG4gICAgICBkYXRhLnBhcmVudGlkID0gMjtcclxuICAgICAgZGF0YS5wZXJtaXNzaW9ucyA9IHRoaXMuc2VsZWN0ZWRQZXJtaXNzaW9uc0dyb3VwO1xyXG4gICAgICBkYXRhLmRvc3NpZXJpZCA9IEpTT04uc3RyaW5naWZ5KGRvc3NpZXJDb25maWcpO1xyXG4gICAgICBkYXRhID0gT2JqZWN0LmFzc2lnbih7IG9yZ2FuaXphdGlvbmlkOiB0aGlzLm9yZ0lkIH0sIGRhdGEpO1xyXG4gICAgICBpZiAodGhpcy5yb2xlSWQpIHtcclxuICAgICAgICBkYXRhLmlkID0gTnVtYmVyKHRoaXMucm9sZUlkKTtcclxuICAgICAgICB0aGlzLnJvbGVzU2VydmljZS51cGRhdGVSb2xlKHRoaXMucm9sZUlkLCBkYXRhKS5zdWJzY3JpYmUoXHJcbiAgICAgICAgICAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0Um9sZUxpc3QoKTtcclxuICAgICAgICAgICAgdGhpcy5tYXBQb2xpY3lHcm91cFRvUm9sZSh0aGlzLnJvbGVJZCwgZGF0YS5wb2xpY3lHcm91cElkKTtcclxuICAgICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnUm9sZSB1cGRhdGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIChlcnI6IGFueSkgPT4gdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoZXJyLmVycm9yLm1lc3NhZ2UpXHJcbiAgICAgICAgKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBkYXRhLmlkID0gMDtcclxuICAgICAgICBkYXRhLnByaW9yaXR5ID0gdGhpcy5lbnZpcm9ubWVudC5wcmlvcml0eTtcclxuICAgICAgICB0aGlzLnJvbGVzU2VydmljZS5jcmVhdGVSb2xlKGRhdGEpLnN1YnNjcmliZShcclxuICAgICAgICAgIChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNhbmNlbCgpO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5wb2xpY3lHcm91cElkKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5tYXBQb2xpY3lHcm91cFRvUm9sZShyZXNbJ2RhdGEnXSwgZGF0YS5wb2xpY3lHcm91cElkLCAnYWRkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnUm9sZSBzYXZlZCBzdWNjZXNzZnVsbHknKTtcclxuICAgICAgICAgICAgdGhpcy5nZXRSb2xlTGlzdCgpO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIChlcnI6IGFueSkgPT4gdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoZXJyLmVycm9yLm1lc3NhZ2UpXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgbWFwUG9saWN5R3JvdXBUb1JvbGUoaWQ6IG51bWJlciwgZGF0YTogW10sIGFjdGlvbj86IHN0cmluZykge1xyXG4gICAgaWYgKGFjdGlvbiA9PT0gJ2FkZCcpIHtcclxuICAgICAgdGhpcy5yb2xlc1NlcnZpY2UuY3JlYXRlUG9saWN5R3JvdXBGb3JSb2xlKGlkLCBkYXRhKS5zdWJzY3JpYmUoXHJcbiAgICAgICAgKCkgPT4gY29uc29sZS5sb2coJ3BvbGljeSBncm91cCBtYXBwZWQgdG8gcm9sZSBzdWNjZXNzZnVsbHknKSxcclxuICAgICAgICAoX2VycjogYW55KSA9PiB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcihBcHBDb25zdGFudHMuZXJyb3JNZXNzYWdlKVxyXG4gICAgICApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5yb2xlc1NlcnZpY2UudXBkYXRlUG9saWN5R3JvdXBGb3JSb2xlKGlkLCBkYXRhKS5zdWJzY3JpYmUoXHJcbiAgICAgICAgKCkgPT4gY29uc29sZS5sb2coJ3BvbGljeSBncm91cCBtYXBwZWQgdG8gcm9sZSBzdWNjZXNzZnVsbHknKSxcclxuICAgICAgICAoX2VycjogYW55KSA9PiB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcihBcHBDb25zdGFudHMuZXJyb3JNZXNzYWdlKVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZ2V0UmV0dXJuVmFsdWUoYXJyYXk6IEFycmF5PGFueT4gPSBbXSwgdHlwZT86IHN0cmluZykge1xyXG4gICAgcmV0dXJuIHR5cGUgPT09ICdpZCdcclxuICAgICAgPyBhcnJheS5tYXAoKHsgaWQgfSkgPT4gaWQpXHJcbiAgICAgIDogYXJyYXkubWFwKGlkID0+IHtcclxuICAgICAgICByZXR1cm4geyBpZCB9O1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGdldENoZWNrZWQoaXRlbTogQXJyYXk8YW55Pikge1xyXG4gICAgcmV0dXJuIGl0ZW0uZmlsdGVyKCh7IGNoZWNrZWQgfSkgPT4gY2hlY2tlZCkubGVuZ3RoID4gMDtcclxuICB9XHJcbiAgZ2V0Q2hlY2tlZFdyaXRlKGl0ZW06IEFycmF5PGFueT4pIHtcclxuICAgIHJldHVybiBpdGVtLmZpbHRlcigoeyBjaGVja2Vkd3JpdGUgfSkgPT4gY2hlY2tlZHdyaXRlKS5sZW5ndGggPiAwO1xyXG4gIH1cclxuXHJcbiAgY2FuY2VsKCkge1xyXG4gICAgdGhpcy5yb2xlRm9ybS5yZXNldCgpO1xyXG4gICAgdGhpcy5yb2xlRm9ybS5lbmFibGUoKTtcclxuICAgIHRoaXMucGVybWlzc2lvbnMgPSBbXTtcclxuICAgIHRoaXMuZm9ybVN1Ym1pdCA9IGZhbHNlO1xyXG4gICAgdGhpcy5wZXJtaXNzaW9uQWxsb3cgPSBmYWxzZTtcclxuICAgIHRoaXMucm9sZUlkID0gMDtcclxuICAgIHRoaXMudmFsaWRhdGlvbkVycm9ycyA9IHt9O1xyXG4gICAgdGhpcy5maWx0ZXJlZFJvbGVMaXN0ID0gdGhpcy5yb2xlTGlzdDtcclxuICAgIHRoaXMucG9saWN5R3JvdXBzTGVuZ3RoID0gMDtcclxuICB9XHJcblxyXG4gIGRlbGV0ZShldmVudDogRXZlbnQsIGlkOiBhbnksIGl0ZW06IGFueSkge1xyXG4gICAgaWYgKGl0ZW0/LmFjdGl2ZV91c2VyICE9PSBudWxsKSB7XHJcbiAgICAgIHRoaXMuZGVsZXRlYWN0aXZlX3VzZXIgPSBmYWxzZTtcclxuICAgICAgdGhpcy5kZWxldGVhY3RpdmVfYnV0dG9ub2sgPSBmYWxzZTtcclxuICAgICAgLy8gUGVyZm9ybSBhY3Rpb24gd2hlbiBhY3RpdmVfdXNlciBpcyBub3QgbnVsbFxyXG4gICAgICBjb25zb2xlLmxvZygnRGVsZXRpbmcgUm9sZSB3aXRoIGFjdGl2ZSB1c2VyJyk7XHJcbiAgICAgIHRoaXMubW9kYWxDb250ZW50ID0gJ1RoaXMgUm9sZSBpcyBjdXJyZW50bHkgYXNzb2NpYXRlZCB3aXRoIGFjdGl2ZSB1c2Vycy4gRGUtbGluayB1c2VycyBmcm9tIHRoaXMgUm9sZSwgdG8gcHJvY2VlZCB3aXRoIGRlbGV0aW5nLic7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBQZXJmb3JtIGFjdGlvbiB3aGVuIGFjdGl2ZV91c2VyIGlzIG51bGxcclxuICAgICAgY29uc29sZS5sb2coJ0RlbGV0aW5nIFJvbGUnKTtcclxuICAgICAgdGhpcy5tb2RhbENvbnRlbnQgPSAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGUgUm9sZT8nO1xyXG4gICAgICB0aGlzLmRlbGV0ZWFjdGl2ZV91c2VyID0gdHJ1ZTtcclxuICAgICAgdGhpcy5kZWxldGVhY3RpdmVfYnV0dG9ub2sgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB0aGlzLmRlbGV0ZWRJZCA9IGlkO1xyXG4gICAgJCgnI0RlbGV0ZXVzZXInKS5tb2RhbCgnc2hvdycpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlUm9sZSgpIHtcclxuICAgIHRoaXMucm9sZXNTZXJ2aWNlLmRlbGV0ZVJvbGUodGhpcy5kZWxldGVkSWQpLnN1YnNjcmliZShcclxuICAgICAgKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY2FuY2VsKCk7XHJcbiAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnUm9sZSBkZWxldGVkIHN1Y2Nlc3NmdWxseScpO1xyXG4gICAgICAgICQoJyNEZWxldGV1c2VyJykubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICB0aGlzLmdldFJvbGVMaXN0KCk7XHJcbiAgICAgIH0sXHJcbiAgICAgIChfZXJyOiBhbnkpID0+IHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKCdGYWlsZWQgdG8gZGVsZXRlIFJvbGUnKVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGdldFJlcG9ydERhc2hib2FyZCgpIHtcclxuICAgIHRoaXMucmVwb3J0RGFzaGJvYXJkTGlzdCA9IGF3YWl0IHRoaXMubXN0clNlcnZpY2UuZ2V0TGlicmFyeURldGFpbHMoKTtcclxuICAgIHRoaXMuZHVwbGljYXRlcmVwb3J0RGFzaGJvYXJkTGlzdCA9IGF3YWl0IHRoaXMubXN0clNlcnZpY2UuZ2V0TGlicmFyeURldGFpbHMoKTtcclxuICB9XHJcblxyXG4gIC8vIHJvbGVWYWxpZGF0aW9uKCk6IGFueSB7XHJcbiAgLy8gICBpZiAoIXRoaXMucm9sZUZvcm0udmFsdWUuZG9zc2llcmlkKSB7XHJcbiAgLy8gICAgIHRoaXMuYWxlcnRTZXJ2aWNlLndhcm4oJ1BsZWFzZSBmaWxsIGFsbCByZXF1aXJlZCBmaWVsZHMnKTtcclxuICAvLyAgICAgcmV0dXJuIGZhbHNlO1xyXG4gIC8vICAgfVxyXG4gIC8vICAgcmV0dXJuIHRydWU7XHJcbiAgLy8gfVxyXG4gIG9uTW9kZWxSb2xlKHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIHRoaXMubW9kZWxSb2xlTmFtZSA9IHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgc2VhcmNoTGFuZGluZ1BhZ2VMaXN0KGV2ZW50OiBFdmVudCkge1xyXG4gICAgY29uc3QgdmFsdWUgPSAoZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlLnRvTG93ZXJDYXNlKCk7XHJcbiAgICB0aGlzLmR1YmxpY2F0ZUxhbmRpbmdQYWdlID0gdGhpcy5sYW5kaW5nUGFnZS5maWx0ZXIoKGE6IGFueSkgPT4gYT8ubmFtZT8udG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKHZhbHVlKSk7XHJcbiAgfVxyXG5cclxuICByZXNldExhbmRpbmdQYWdlTGlzdCgpIHtcclxuICAgIHRoaXMuZHVibGljYXRlTGFuZGluZ1BhZ2UgPSB0aGlzLmxhbmRpbmdQYWdlO1xyXG4gIH1cclxuXHJcbiAgYWN0aXZhdGVNZW51KGV2ZW50KSB7XHJcbiAgICBpZiAoZXZlbnQuaXRlbS5sYWJlbCA9PSAnUGVybWlzc2lvbnMnKSB7XHJcbiAgICAgIHRoaXMuZmlyc3RUYWIgPSB0cnVlO1xyXG4gICAgICB0aGlzLmNsZWFyUGVybWlzc2lvbigpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmZpcnN0VGFiID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuZ2V0UGFnZUluZm9ybWF0aW9uKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBnZXRQYWdlSW5mb3JtYXRpb24oKSB7XHJcbiAgICB0aGlzLnBlcm1pc3Npb25TZXJ2aWNlLmdldEFsbFBhZ2VzKHRoaXMucm9sZUlkKS5zdWJzY3JpYmUoKHJlczogYW55KSA9PiB7XHJcbiAgICAgIHRoaXMubWVudUxpc3QgPSByZXM/LmRhdGE7XHJcbiAgICAgIHJlcy5kYXRhLm1hcCgoaXRlbSwgaW5kZXgpID0+IHtcclxuICAgICAgICBpdGVtLmxhYmVsID0gaXRlbS5uYW1lXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgdGhpcy5uZXN0ZWREYXRhKCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMubWFpbk1lbnVMaXN0KTtcclxuICAgICAgLy8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Jlc3VsdCcpLmlubmVySFRNTCA9IHRoaXMuYnVpbGROYXZpZ2F0aW9uKHRoaXMubWVudUxpc3QpO1xyXG5cclxuICAgICAgLy8gcmVzLmRhdGEubWFwKChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAvLyAgIGlmIChpdGVtLnBhcmVudGlkID09IG51bGwpIHtcclxuICAgICAgLy8gICAgIGxldCBvYmogPSB7XHJcbiAgICAgIC8vICAgICAgIGtleSA6IDEsXHJcbiAgICAgIC8vICAgICAgIGlkOiBpdGVtLmlkLFxyXG4gICAgICAvLyAgICAgICBwYXJlbnRpZDogaXRlbS5wYXJlbnRpZCxcclxuICAgICAgLy8gICAgICAgbGFiZWw6IGl0ZW0ubmFtZSxcclxuICAgICAgLy8gICAgICAgZGF0YTogJ0RvY3VtZW50cyBGb2xkZXInLFxyXG4gICAgICAvLyAgICAgICBpY29uOiAncGkgcGktZncgcGktaW5ib3gnLFxyXG4gICAgICAvLyAgICAgICBjaGlsZHJlbjogW11cclxuICAgICAgLy8gICAgIH1cclxuICAgICAgLy8gICAgIHRoaXMubWFpbk1lbnVMaXN0LnB1c2gob2JqKVxyXG4gICAgICAvLyAgIH1cclxuICAgICAgLy8gfSk7XHJcblxyXG4gICAgICAvLyB0aGlzLm1haW5NZW51TGlzdC5tYXAoKG1lbnUsIGluZGV4MSkgPT4ge1xyXG4gICAgICAvLyAgIHRoaXMubWVudUxpc3QubWFwKChsaXN0LCBpbmRleCkgPT4ge1xyXG4gICAgICAvLyAgICAgaWYgKGxpc3Q/LnBhcmVudGlkID09IG1lbnU/LmlkKSB7XHJcbiAgICAgIC8vICAgICAgIGxldCBvYmogPSB7XHJcbiAgICAgIC8vICAgICAgICAga2V5IDogMixcclxuICAgICAgLy8gICAgICAgICBpZDogbGlzdC5pZCxcclxuICAgICAgLy8gICAgICAgICBwYXJlbnRpZDogbGlzdC5wYXJlbnRpZCxcclxuICAgICAgLy8gICAgICAgICBsYWJlbDogbGlzdC5uYW1lLFxyXG4gICAgICAvLyAgICAgICAgIGRhdGE6ICdEb2N1bWVudHMgRm9sZGVyJyxcclxuICAgICAgLy8gICAgICAgICBpY29uOiAncGkgcGktZncgcGktaW5ib3gnLFxyXG4gICAgICAvLyAgICAgICAgIGNoaWxkcmVuOiBbXVxyXG4gICAgICAvLyAgICAgICB9XHJcbiAgICAgIC8vICAgICAgIHRoaXMubWFpbk1lbnVMaXN0W2luZGV4MV0uY2hpbGRyZW4ucHVzaChvYmopO1xyXG4gICAgICAvLyAgICAgfVxyXG4gICAgICAvLyAgIH0pXHJcbiAgICAgIC8vIH0pXHJcblxyXG4gICAgICAvLyB0aGlzLm1haW5NZW51TGlzdC5tYXAoKG1lbnUsIGluZGV4MSkgPT4ge1xyXG4gICAgICAvLyAgIG1lbnUuY2hpbGRyZW4ubWFwKChzdWJpdGVtLCBzdWJpbmRleCkgPT4ge1xyXG4gICAgICAvLyAgICAgdGhpcy5tZW51TGlzdC5tYXAoKGxpc3QsIGluZGV4KSA9PiB7XHJcbiAgICAgIC8vICAgICAgIGlmKGxpc3QucGFyZW50aWQgPT0gc3ViaXRlbS5pZClcclxuICAgICAgLy8gICAgICAge1xyXG4gICAgICAvLyAgICAgICAgIGxldCBvYmogPSB7XHJcbiAgICAgIC8vICAgICAgICAgICAgIGtleSA6IDMsXHJcbiAgICAgIC8vICAgICAgICAgICAgIGlkOiBsaXN0LmlkLFxyXG4gICAgICAvLyAgICAgICAgICAgICBwYXJlbnRpZDogbGlzdC5wYXJlbnRpZCxcclxuICAgICAgLy8gICAgICAgICAgICAgbGFiZWw6IGxpc3QubmFtZSxcclxuICAgICAgLy8gICAgICAgICAgICAgZGF0YTogJ0RvY3VtZW50cyBGb2xkZXInLFxyXG4gICAgICAvLyAgICAgICAgICAgICBpY29uOiAncGkgcGktZncgcGktaW5ib3gnLFxyXG4gICAgICAvLyAgICAgICAgICAgfVxyXG4gICAgICAvLyAgICAgICAgICAgc3ViaXRlbS5jaGlsZHJlbi5wdXNoKG9iaik7XHJcbiAgICAgIC8vICAgICAgIH1cclxuXHJcbiAgICAgIC8vICAgICB9KVxyXG4gICAgICAvLyAgIH0pXHJcbiAgICAgIC8vIH0pXHJcblxyXG5cclxuXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZU1lbnVPcmRlcigpIHtcclxuICAgIHRoaXMubWFpbk1lbnVMaXN0LmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XHJcbiAgICAgIGxldCBkYXRhID0ge1xyXG4gICAgICAgICdtZW51b3JkZXInOiBpbmRleCArIDEsXHJcbiAgICAgICAgJ2lkJzogZWxlbWVudC5yb2xlcGVybWlzc2lvbmlkLFxyXG4gICAgICAgICdyb2xlaWQnOiB0aGlzLnJvbGVJZFxyXG5cclxuICAgICAgfVxyXG4gICAgICB0aGlzLnJlQXJyYW5nZWRMaXN0LnB1c2goZGF0YSlcclxuICAgICAgaWYgKGVsZW1lbnQ/LmNoaWxkcmVuPy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgZWxlbWVudD8uY2hpbGRyZW4/LmZvckVhY2goKGNoaWxkZWxlbWVudCwgY2hpbGRpbmRleCkgPT4ge1xyXG4gICAgICAgICAgbGV0IGNoaWxkZGF0YSA9IHtcclxuICAgICAgICAgICAgJ21lbnVvcmRlcic6IGNoaWxkaW5kZXggKyAxLFxyXG4gICAgICAgICAgICAnaWQnOiBjaGlsZGVsZW1lbnQucm9sZXBlcm1pc3Npb25pZCxcclxuICAgICAgICAgICAgJ3JvbGVpZCc6IHRoaXMucm9sZUlkXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLnJlQXJyYW5nZWRMaXN0LnB1c2goY2hpbGRkYXRhKVxyXG4gICAgICAgICAgaWYgKGNoaWxkZWxlbWVudD8uY2hpbGRyZW4/Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY2hpbGRlbGVtZW50Py5jaGlsZHJlbj8uZm9yRWFjaCgoY2hpbGRyZW5lbGVtZW50LCBjaGlsZHJlbmluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgbGV0IGNoaWxkcmVuZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICdtZW51b3JkZXInOiBjaGlsZHJlbmluZGV4ICsgMSxcclxuICAgICAgICAgICAgICAgICdpZCc6IGNoaWxkcmVuZWxlbWVudC5yb2xlcGVybWlzc2lvbmlkLFxyXG4gICAgICAgICAgICAgICAgJ3JvbGVpZCc6IHRoaXMucm9sZUlkXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHRoaXMucmVBcnJhbmdlZExpc3QucHVzaChjaGlsZHJlbmRhdGEpXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIGNvbnNvbGUubG9nKCd0aGlzLnJlYXJyYW5nZWxpc3QnLCB0aGlzLnJlQXJyYW5nZWRMaXN0KTtcclxuICAgIHRoaXMucGVybWlzc2lvblNlcnZpY2UudXBkYXRlTWVudU9yZGVyKHsgcGFnZXM6IHRoaXMucmVBcnJhbmdlZExpc3QgfSkuc3Vic2NyaWJlKChyZXM6IGFueSkgPT4ge1xyXG4gICAgICAvLyB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdVcGRhdGVkIFN1Y2Nlc3NmdWxseSEnKTtcclxuICAgICAgLy8gdGhpcy5TZXJ2aWNlLnNlbmRVcGRhdGUoJ1VwZGF0ZWQgU3VjY2Vzc2Z1bGx5Jyk7XHJcbiAgICAgIC8vIHRoaXMuZ2V0UGFnZUluZm9ybWF0aW9uKCk7XHJcbiAgICAgIC8vIGZvciByb2xlIGRldGFpbHMgdXBkYXRlXHJcbiAgICAgIHRoaXMuYWRkUm9sZSgpO1xyXG4gICAgICBjb25zdCB1c2VyUm9sZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3JvbGVfaWQnKTtcclxuICAgICAgaWYgKE51bWJlcih1c2VyUm9sZSkgPT09IHRoaXMucm9sZUlkKSB7XHJcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIG5vZGVEcm9wKGV2ZW50KSB7XHJcbiAgICBpZiAoZXZlbnQub3JpZ2luYWxFdmVudC50YXJnZXQuY2hpbGROb2Rlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgaWYgKGV2ZW50LmRyYWdOb2RlLnBhcmVudGlkID09IGV2ZW50LmRyb3BOb2RlLnBhcmVudGlkKSB7XHJcbiAgICAgICAgZXZlbnQuYWNjZXB0KCk7XHJcbiAgICAgIH1cclxuICAgICAgZWxzZSB7XHJcbiAgICAgICAgdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoJ05vdCBBbGxvd2VkIHRvIERyb3AnKTtcclxuICAgICAgfVxyXG4gICAgICBjb25zb2xlLmxvZygndGhpcy5tYWluTWVudUxpc3QnLCB0aGlzLm1haW5NZW51TGlzdClcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcignTm90IEFsbG93ZWQgdG8gRHJvcCcpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2VsZWN0UG9saWN5R3JvdXAoKSB7XHJcbiAgICB0aGlzLnBvbGljeUdyb3Vwc0xlbmd0aCA9IHRoaXMucm9sZUZvcm0udmFsdWUucG9saWN5R3JvdXBJZC5sZW5ndGg7XHJcbiAgfVxyXG59XHJcbiIsIjxhcHAtYWxlcnQ+PC9hcHAtYWxlcnQ+XHJcbjxkaXYgY2xhc3M9XCJwZXJtaXNzaW9uXCI+XHJcbiAgPGRpdiBjbGFzcz1cInJvd1wiIFtmb3JtR3JvdXBdPVwicm9sZUZvcm1cIj5cclxuICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctNCBjb2wtbWQtNiBjb2wtMTJcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cImNsZWFyZml4XCI+PC9kaXY+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJ0YWItY29udGVudCBweS0yIHB4LTIgcHgtc20tMFwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0YWItcGFuZSBmYWRlIHNob3cgYWN0aXZlXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBiZ2ljb25zZWFyY2ggZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiPiA8IS0tIE1vZGlmaWVkIGxpbmUgLS0+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicC1pbnB1dC1pY29uLXJpZ2h0IHctMTAwXCI+XHJcbiAgICAgICAgICAgICAgPGkgY2xhc3M9XCJwaSBwaS10aW1lcy1jaXJjbGVcIiAoY2xpY2spPVwiY2xlYXJTZWFyY2goJGV2ZW50KVwiPjwvaT5cclxuICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBmaWVsZEtleT1cIlNFVFRJTkdTX1JPTF9TRUFSQ0hfQllfTkFNRVwiIHBsYWNlaG9sZGVyPVwiU2VhcmNoIGJ5IFJvbGUgbmFtZVwiXHJcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiIChrZXl1cCk9XCJzZWFyY2hSb2xlKCRldmVudClcIiAvPlxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bmNvbW1vbiBtbC0yXCIgZmllbGRLZXk9XCJTRVRUSU5HU19ST0xfQUREX05FV1wiXHJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cIm9uQ2xpY2tBZGRSb2xlKClcIj5BZGQ8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNsZWFyZml4XCI+PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidXNlcmFjZXNzXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXggYWxpZ24taXRlbXMtY2VudGVyIGp1c3RpZnktY29udGVudC1jZW50ZXIgaC0xMDAgdy0xMDAgbmctc3Rhci1pbnNlcnRlZFwiXHJcbiAgICAgICAgICAgICAgKm5nSWY9XCIhZmlsdGVyZWRSb2xlTGlzdC5sZW5ndGhcIj5cclxuICAgICAgICAgICAgICA8cD5ObyBSZWNvcmQgRm91bmQ8L3A+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBpdGVtIG9mIGZpbHRlcmVkUm9sZUxpc3RcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93IHVzZXJkYXRhIGFsaWduLWl0ZW1zLWNlbnRlclwiIChjbGljayk9XCJnZXRSb2xlSW5mbyhpdGVtLmlkKVwiXHJcbiAgICAgICAgICAgICAgICBbbmdDbGFzc109XCJ7IGFjdGl2ZTogK2l0ZW0uaWQgPT09IHJvbGVJZCB9XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTEwIGNvbC1zbS0xMCBjb2wtMTAgb3ZlcmZsb3dfdHh0XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibmFtZXVzZXJcIj57eyBpdGVtLm5hbWUgfX08L3NwYW4+IDxiciAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTIgdGV4dC1yaWdodFwiPlxyXG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJpZ2h0LWljb25zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGVtIGNsYXNzPVwiZmEgZmEtdHJhc2ggdGV4dC1wcmltYXJ5XCIgKnNob3dGaWVsZD1cIidTRVRUSU5HU19ST0xfREVMRVRFJ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwiZGVsZXRlKCRldmVudCwgaXRlbS5pZCwgaXRlbSlcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2VtPlxyXG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctOCBjb2wtbWQtNiBjb2wtMTIgcm9sZXMtcmlnaHQgZ3JvdXAtcm9sZSBtdC0yXCI+XHJcbiAgICAgIDxwLWNhcmQgY2xhc3M9XCJyYmFjLWNhcmRcIiBbc3R5bGVdPVwieyB3aWR0aDogJzEwMCUnLCAnbWFyZ2luLWJvdHRvbSc6ICcyZW0nIH1cIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RyaXBfaGVhZCB0b2dnbGVsZWZ0XCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlcG9ydF9oZWFkIGZvbnQtd2VpZ2h0LWJvbGRcIj5Sb2xlIERldGFpbHM8L3NwYW4+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInAtZmx1aWQgcC1mb3JtZ3JpZCByb3dcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLWZpZWxkIGNvbC1sZy00IGNvbC1tZC0xMiBjb2wtMTJcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGZvcj1cInJvbGVzTmFtZVwiIGNsYXNzPVwicmVmZXJyYWwtZm9ybS1sYWJlbHNcIj5Sb2xlIE5hbWVcclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlcXVpcmVkZmllbGQgdGV4dC1kYW5nZXJcIj4qPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICA8aW5wdXQgaWQ9XCJyb2xlc05hbWVcIiB0eXBlPVwidGV4dFwiIGZpZWxkS2V5PVwiU0VUVElOR1NfUk9MX1JPTEVfTkFNRVwiIGZvcm1Db250cm9sTmFtZT1cIm5hbWVcIlxyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgUm9sZSBOYW1lXCIgYXJpYS1kZXNjcmliZWRieT1cInJvbGVzTmFtZVwiIFsobmdNb2RlbCldPVwibW9kZWxSb2xlTmFtZVwiXHJcbiAgICAgICAgICAgICAgKG5nTW9kZWxDaGFuZ2UpPVwib25Nb2RlbFJvbGUoJGV2ZW50KVwiIChpbnB1dCk9XCJvbklucHV0KCRldmVudCwgJ25hbWUnLCAnUm9sZSBOYW1lJywgdHJ1ZSlcIiBwSW5wdXRUZXh0IC8+XHJcbiAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJ2YWxpZGF0aW9uRXJyb3JzWydSb2xlIE5hbWUnXVwiIGNsYXNzPVwicC1lcnJvciBibG9jayBtdC0xXCI+e3t2YWxpZGF0aW9uRXJyb3JzWydSb2xlIE5hbWUnXX19XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiIXZhbGlkYXRpb25FcnJvcnNbJ1JvbGUgTmFtZSddICYmIGZvcm1WYWxpZGF0ZVsnbmFtZSddLmVycm9ycyAmJiBmb3JtU3VibWl0XCI+XHJcbiAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cImZvcm1WYWxpZGF0ZVsnbmFtZSddLmludmFsaWRcIiBjbGFzcz1cInAtZXJyb3IgYmxvY2sgbXQtMVwiPlJvbGUgTmFtZSBpcyByZXF1aXJlZCA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLWZpZWxkIGNvbC1sZy00IGNvbC1tZC0xMiBjb2wtMTJcIj5cclxuICAgICAgICAgICAgPGxhYmVsIGFyaWEtbGFiZWxsZWRieT1cImxhbmRpbmdQYWdlXCIgZm9yPVwibGFuZGluZ1BhZ2VcIiBjbGFzcz1cInJlZmVycmFsLWZvcm0tbGFiZWxzXCI+TGFuZGluZyBQYWdlIE1lbnVcclxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlcXVpcmVkZmllbGQgdGV4dC1kYW5nZXJcIj4qPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICA8cC1kcm9wZG93biBuYW1lPVwibGFuZGluZ1BhZ2VcIiBbb3B0aW9uc109XCJkdWJsaWNhdGVMYW5kaW5nUGFnZVwiIHBsYWNlaG9sZGVyPVwiU2VsZWN0IExhbmRpbmcgUGFnZSBNZW51XCJcclxuICAgICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJkZWZhdWx0cGFnZWlkXCIgZGVmYXVsdExhYmVsPVwiU2VsZWN0IExhbmRpbmcgUGFnZSBNZW51XCIgKG9uSGlkZSk9XCJyZXNldExhbmRpbmdQYWdlTGlzdCgpXCJcclxuICAgICAgICAgICAgICBbcmVzZXRGaWx0ZXJPbkhpZGVdPVwidHJ1ZVwiIFtmaWx0ZXJdPVwidHJ1ZVwiIGZpbHRlckJ5PVwibmFtZVwiIChrZXl1cCk9XCJzZWFyY2hMYW5kaW5nUGFnZUxpc3QoJGV2ZW50KVwiXHJcbiAgICAgICAgICAgICAgW3Nob3dDbGVhcl09XCJ0cnVlXCIgZmllbGRLZXk9XCJTRVRUSU5HU19ST0xfTEFORElOR19QQUdFXCIgb3B0aW9uTGFiZWw9XCJuYW1lXCIgb3B0aW9uVmFsdWU9XCJpZFwiXHJcbiAgICAgICAgICAgICAgaW5wdXRJZD1cImxhbmRpbmdQYWdlXCI+XHJcbiAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlIGxldC1pdGVtIHBUZW1wbGF0ZT1cInNlbGVjdGVkSXRlbVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBwVG9vbHRpcD1cInt7aXRlbT8ubmFtZX19XCIgdG9vbHRpcFBvc2l0aW9uPVwidG9wXCIgY2xhc3M9XCJ0ZXh0LXRydW5jYXRlXCI+IHt7IGl0ZW0/Lm5hbWUgfX08L2Rpdj5cclxuICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSBsZXQtb2JqZWN0IHBUZW1wbGF0ZT1cIml0ZW1cIj5cclxuICAgICAgICAgICAgICAgIHt7IG9iamVjdC5uYW1lIH19XHJcbiAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgICAgPC9wLWRyb3Bkb3duPlxyXG4gICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiZm9ybVZhbGlkYXRlWydkZWZhdWx0cGFnZWlkJ10uZXJyb3JzICYmIGZvcm1TdWJtaXRcIj5cclxuICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiZm9ybVZhbGlkYXRlWydkZWZhdWx0cGFnZWlkJ10uaW52YWxpZFwiIGNsYXNzPVwicC1lcnJvciBibG9jayBtdC0xXCI+TGFuZGluZyBQYWdlIE1lbnUgaXNcclxuICAgICAgICAgICAgICAgIHJlcXVpcmVkXHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicC1maWVsZCBjb2wtbGctNCBjb2wtbWQtMTIgY29sLTEyXCI+XHJcbiAgICAgICAgICAgIDxsYWJlbCBhcmlhLWxhYmVsbGVkYnk9XCJkb3NzaWVySWRcIiBmb3I9XCJkb3NzaWVySWRcIiBjbGFzcz1cInJlZmVycmFsLWZvcm0tbGFiZWxzXCI+UmVwb3J0IERhc2hib2FyZDwvbGFiZWw+XHJcbiAgICAgICAgICAgIDxwLWRyb3Bkb3duIFtvcHRpb25zXT1cInJlcG9ydERhc2hib2FyZExpc3RcIiBvcHRpb25MYWJlbD1cIm5hbWVcIiBpZD1cImRvc3NpZXJpZFwiIFtyZXNldEZpbHRlck9uSGlkZV09XCJ0cnVlXCJcclxuICAgICAgICAgICAgICBbZmlsdGVyXT1cInRydWVcIiBbc2hvd0NsZWFyXT1cInRydWVcIiBvcHRpb25WYWx1ZT1cImlkXCIgcGxhY2Vob2xkZXI9XCJTZWxlY3QgSURcIiBmb3JtQ29udHJvbE5hbWU9XCJkb3NzaWVyaWRcIj5cclxuICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgbGV0LWl0ZW0gcFRlbXBsYXRlPVwic2VsZWN0ZWRJdGVtXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IHBUb29sdGlwPVwie3tpdGVtPy5uYW1lfX1cIiB0b29sdGlwUG9zaXRpb249XCJ0b3BcIiBjbGFzcz1cInRleHQtdHJ1bmNhdGVcIj4ge3sgaXRlbT8ubmFtZSB9fTwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlIGxldC1vYmplY3QgcFRlbXBsYXRlPVwiaXRlbVwiPlxyXG4gICAgICAgICAgICAgICAge3sgb2JqZWN0Lm5hbWUgfX1cclxuICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICA8L3AtZHJvcGRvd24+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwhLS0gPGRpdiBjbGFzcz1cInAtZmllbGQgY29sLWxnLTQgY29sLW1kLTEyIGNvbC0xMlwiPjwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicC1maWVsZCBjb2wtbGctNCBjb2wtbWQtMTIgY29sLTEyXCI+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJwdWxsLXJpZ2h0IG1iLTIgYnRuIGJ0bi1wcmltYXJ5IGJ0bmNvbW1vbiByZXBvcnRfYnV0dG9uXCJcclxuICAgICAgICAgICAgICAgIGZpZWxkS2V5PVwiU0VUVElOR1NfUk9MX0NPTkZJR1VSRV9QRVJNSVNTSU9OXCJcclxuICAgICAgICAgICAgICAgIChjbGljayk9XCJhZGROZXdSb2xlKCcxJylcIj5cclxuICAgICAgICAgICAgICAgIENvbmZpZ3VyZSBQZXJtaXNzaW9uXHJcbiAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PiAtLT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwicC1mbHVpZCBwLWZvcm1ncmlkIHJvd1wiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInAtZmllbGQgY29sLW1kLTEyIGNvbC0xMlwiPlxyXG4gICAgICAgICAgICA8cC1hY2NvcmRpb24gY2xhc3M9XCJ3LWZ1bGwgcG9saWN5Z3JvdXAtYWNjb3JkaW9uXCIgaWNvblBvcz1cImVuZFZhbFwiPlxyXG4gICAgICAgICAgICAgIDxwLWFjY29yZGlvblRhYj5cclxuICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSBwVGVtcGxhdGU9XCJoZWFkZXJcIj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBoZWFkLXRleHQgZ2FwLTIgdy1mdWxsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmb250LWJvbGRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBhcmlhLWxhYmVsbGVkYnk9XCJwb2xpY3lHcm91cExpc3RcIiBmb3I9XCJwb2xpY3lHcm91cExpc3RcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1iLTAgcmVmZXJyYWwtZm9ybS1sYWJlbHNcIj5Qb2xpY3lcclxuICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVxdWlyZWRmaWVsZCB0ZXh0LWRhbmdlclwiPio8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuICpuZ0lmPVwicG9saWN5R3JvdXBzTGVuZ3RoID4gMFwiIGNsYXNzPVwicGctY291bnQgbWwtMlwiPnt7cG9saWN5R3JvdXBzTGVuZ3RofX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuXHJcbiAgICAgICAgICAgICAgICA8cC1tdWx0aVNlbGVjdCBuYW1lPVwicG9saWN5R3JvdXBMaXN0XCIgW29wdGlvbnNdPVwicG9saWN5R3JvdXBMaXN0XCIgZm9ybUNvbnRyb2xOYW1lPVwicG9saWN5R3JvdXBJZFwiXHJcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHRMYWJlbD1cIlNlbGVjdCBQb2xpY3kgR3JvdXBzXCIgb3B0aW9uTGFiZWw9XCJwb2xpY3lncm91cG5hbWVcIiBvcHRpb25WYWx1ZT1cImlkXCJcclxuICAgICAgICAgICAgICAgICAgKG9uSGlkZSk9XCJyZXNldFJlcG9ydERhc2hib2FyZExpc3QoKVwiIFtyZXNldEZpbHRlck9uSGlkZV09XCJ0cnVlXCIgaW5wdXRJZD1cInBvbGljeUdyb3VwTGlzdFwiXHJcbiAgICAgICAgICAgICAgICAgIGFyaWFGaWx0ZXJMYWJlbD1cIm51bGxcIiBmaWVsZEtleT1cIlNFVFRJTkdTX1JPTF9QT0xJQ1lfR1JPVVBcIiBkaXNwbGF5PVwiY2hpcFwiXHJcbiAgICAgICAgICAgICAgICAgIHN0eWxlQ2xhc3M9XCJwb2xpY3lncm91cC12MiB3LTEwMFwiIChvbkNoYW5nZSk9XCJzZWxlY3RQb2xpY3lHcm91cCgpXCI+XHJcbiAgICAgICAgICAgICAgICA8L3AtbXVsdGlTZWxlY3Q+XHJcbiAgICAgICAgICAgICAgPC9wLWFjY29yZGlvblRhYj5cclxuICAgICAgICAgICAgPC9wLWFjY29yZGlvbj5cclxuICAgICAgICAgICAgPGRpdiAqbmdJZj1cImZvcm1WYWxpZGF0ZVsncG9saWN5R3JvdXBJZCddLmVycm9ycyAmJiBmb3JtU3VibWl0XCI+XHJcbiAgICAgICAgICAgICAgPGRpdiAqbmdJZj1cImZvcm1WYWxpZGF0ZVsncG9saWN5R3JvdXBJZCddLmludmFsaWRcIiBjbGFzcz1cInAtZXJyb3IgYmxvY2sgbXQtMVwiPlBvbGljeSBHcm91cCBpcyByZXF1aXJlZFxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm10LTJcIiAqbmdJZj1cInBlcm1pc3Npb25BbGxvd1wiPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBtci0yIGJ0biBidG4tcHJpbWFyeSBidG5jb21tb25cIiBmaWVsZEtleT1cIlNFVFRJTkdTX1JPTF9TRUxFQ1RfQUxMXCJcclxuICAgICAgICAgICAgKGNsaWNrKT1cInNlbGVjdEFsbEFjY2Vzcyh0cnVlKVwiPlxyXG4gICAgICAgICAgICBTZWxlY3QgQWxsXHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDxidXR0b24gZmllbGRLZXk9XCJTRVRUSU5HU19ST0xfUkVTRVRcIiBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBtci0yIGJ0biBiZy13aGl0ZSB0ZXh0LXByaW1hcnkgYnRuY2FuY2VsXCJcclxuICAgICAgICAgICAgKGNsaWNrKT1cInNlbGVjdEFsbEFjY2VzcyhmYWxzZSlcIiBbZGlzYWJsZWRdPVwiY2hlY2tlZFJvbGVzQXJyLmxlbmd0aCA9PT0gMFwiPlxyXG4gICAgICAgICAgICBSZXNldFxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8IS0tIDxiciAvPiAtLT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic3RyaXBfaGVhZCB0b2dnbGVsZWZ0IGFkanVzdHRvcFwiICpuZ0lmPVwicGVybWlzc2lvbkFsbG93XCI+XHJcbiAgICAgICAgICA8IS0tIDxzcGFuIGNsYXNzPVwicmVwb3J0X2hlYWQgZm9udC13ZWlnaHQtYm9sZFwiPlBlcm1pc3Npb25zPC9zcGFuPiAtLT5cclxuICAgICAgICAgIDxwLXRhYk1lbnUgW21vZGVsXT1cIml0ZW1zXCIgW2FjdGl2ZUl0ZW1dPVwiYWN0aXZlSXRlbVwiPjwvcC10YWJNZW51PlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8ZGl2ICpuZ0lmPVwiZmlyc3RUYWJcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeFwiPjwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTIgbWItM1wiPlxyXG4gICAgICAgICAgICA8ZGl2ICpuZ0lmPVwicGVybWlzc2lvbkFsbG93XCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBlcm1pc3Npb24tZmlsdGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmb3JtLWNvbnRyb2wgY2xlYXJib3hcIiBwbGFjZWhvbGRlcj1cIlNlYXJjaCBieSBQZXJtaXNzaW9ucyBuYW1lXCIgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICAgICAgICAoa2V5dXApPVwic2VhcmNoUm9sZVBlcm1pc3Npb24oJGV2ZW50KVwiIC8+XHJcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cInBpIHBpLXRpbWVzLWNpcmNsZVwiIChjbGljayk9XCJjbGVhclBlcm1pc3Npb24oJGV2ZW50KVwiPjwvaT5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIGgtMTAwIHctMTAwIG5nLXN0YXItaW5zZXJ0ZWRcIlxyXG4gICAgICAgICAgICAgICAgKm5nSWY9XCIhZmlsdGVyUGVybWlzc2lvbnMubGVuZ3RoXCI+XHJcbiAgICAgICAgICAgICAgICA8cD5ObyBSZWNvcmQgRm91bmQ8L3A+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8cC1hY2NvcmRpb24gY2xhc3M9XCJ3LTEwMFwiPlxyXG4gICAgICAgICAgICAgIDxwLWFjY29yZGlvblRhYiBjbGFzcz1cInctMTAwXCIgKm5nRm9yPVwibGV0IHBhZ2Ugb2YgcGVybWlzc2lvbnM7IGxldCBpID0gaW5kZXhcIj5cclxuICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSBwVGVtcGxhdGU9XCJoZWFkZXJcIj5cclxuICAgICAgICAgICAgICAgICAge3sgcGFnZS5kZXNjcmlwdGlvbiB9fVxyXG4gICAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cclxuICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSBwVGVtcGxhdGU9XCJjb250ZW50XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkaW5nX2FuYWx5c2lzIGRhdGFtYXJnaW5cIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZy1jaGVja2JveCBwbC0xXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJzdHlsZWQtY2hlY2tib3hcIiBpZD1cImN1c3RvbXt7IGkgfX1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoY2hhbmdlKT1cInNlbGVjdEFsbFBhZ2UoaSwgJGV2ZW50KVwiIFtjaGVja2VkXT1cInBhZ2U/LmNoZWNrZWRcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImN1c3RvbXt7IGkgfX1cIiBjbGFzcz1cImhlYWRpbmdfcm9sZVwiPnt7IHBhZ2UuZGVzY3JpcHRpb24gfX08L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cIm1hcmdpbnVsX2xpc3QgZWNtc19yb2xlc2Nyb2xsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgcGVybWlzc2lvbiBvZiBwYWdlPy5wZXJtaXNzaW9uczsgbGV0IGogPSBpbmRleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImlzUHJpdmlsYWdlKHBlcm1pc3Npb24pOyBlbHNlIHBlcm1pc3Npb25Pbmx5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5uZXJfY2hpbGRhY2Nlc3MgZC1mbGV4IG10LTAgcHktMVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImQtaW5saW5lLWZsZXggYWxpZ24taXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImctY2hlY2tib3ggcGwtMSBtYi0wXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIFtjaGVja2VkXT1cInBlcm1pc3Npb24/LmNoZWNrZWRcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNoYW5nZSk9XCJzZWxlY3RBbGxQcml2aWxhZ2UoaSwgaiwgJGV2ZW50KVwiIGlkPVwiZGVzY3JpcHRpb257eyBqIH19XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImNoZWNrbWFya1wiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImRlc2NyaXB0aW9ue3sgaiB9fVwiIGNsYXNzPVwiaGVhZGluZ19yb2xlIG1iLTBcIj57e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcm1pc3Npb24uZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwibWwtMVwiICpuZ0Zvcj1cImxldCBwcml2aWxlZ2Ugb2YgcGVybWlzc2lvbj8ucGVybWlzc2lvbnM7IGxldCBrID0gaW5kZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wgY3VzdG9tLXN3aXRjaFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgW2NoZWNrZWRdPVwicHJpdmlsZWdlPy5jaGVja2VkXCIgY2xhc3M9XCJjdXN0b20tY29udHJvbC1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJjdXN0b21Td2l0Y2hlc3JvbGVzc3t7IGkgfX17eyBqIH19e3sgayB9fVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cInNlbGVjdFByaXZpbGVnZShpLCBqLCBrLCAkZXZlbnQpXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtbGFiZWxcIiBmb3I9XCJjdXN0b21Td2l0Y2hlc3JvbGVzc3t7IGkgfX17eyBqIH19e3sgayB9fVwiPnt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpdmlsZWdlLmRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX08L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjcGVybWlzc2lvbk9ubHk+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wgY3VzdG9tLXN3aXRjaFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIFtjaGVja2VkXT1cInBlcm1pc3Npb24/LmNoZWNrZWRcIiBjbGFzcz1cImN1c3RvbS1jb250cm9sLWlucHV0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cInNlbGVjdFBhZ2UoaSwgaiwgJGV2ZW50KVwiIGlkPVwiY3VzdG9tU3dpdGNoZXNyb2xlc3t7IGkgfX17eyBqIH19XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImN1c3RvbS1jb250cm9sLWxhYmVsXCIgZm9yPVwiY3VzdG9tU3dpdGNoZXNyb2xlc3t7IGkgfX17eyBqIH19XCI+e3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbi5kZXNjcmlwdGlvbiB9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XHJcbiAgICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxyXG4gICAgICAgICAgICAgIDwvcC1hY2NvcmRpb25UYWI+XHJcbiAgICAgICAgICAgIDwvcC1hY2NvcmRpb24+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtMTIgYm94IGQtbm9uZVwiICpuZ0Zvcj1cImxldCBwYWdlIG9mIHBlcm1pc3Npb25zOyBsZXQgaSA9IGluZGV4XCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRpbmdfYW5hbHlzaXMgZGF0YW1hcmdpblwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIkN1c3RvbWNoZWNrYm94XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cInN0eWxlZC1jaGVja2JveFwiIGlkPVwiY3VzdG9te3sgaSB9fVwiIChjaGFuZ2UpPVwic2VsZWN0QWxsUGFnZShpLCAkZXZlbnQpXCJcclxuICAgICAgICAgICAgICAgICAgICBbY2hlY2tlZF09XCJwYWdlPy5jaGVja2VkXCIgLz5cclxuICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImN1c3RvbXt7IGkgfX1cIiBjbGFzcz1cImhlYWRpbmdfcm9sZVwiPnt7IHBhZ2UuZGVzY3JpcHRpb24gfX08L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cIm1hcmdpbnVsX2xpc3QgZWNtc19yb2xlc2Nyb2xsXCI+XHJcbiAgICAgICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBwZXJtaXNzaW9uIG9mIHBhZ2U/LnBlcm1pc3Npb25zOyBsZXQgaiA9IGluZGV4XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJpc1ByaXZpbGFnZShwZXJtaXNzaW9uKTsgZWxzZSBwZXJtaXNzaW9uT25seVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsaT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbm5lcl9jaGlsZGFjY2Vzc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJDdXN0b21jaGVja2JveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBbY2hlY2tlZF09XCJwZXJtaXNzaW9uPy5jaGVja2VkXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjaGFuZ2UpPVwic2VsZWN0QWxsUHJpdmlsYWdlKGksIGosICRldmVudClcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2hlY2ttYXJrXCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImhlYWRpbmdfcm9sZVwiPnt7IHBlcm1pc3Npb24uZGVzY3JpcHRpb24gfX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsaSAqbmdGb3I9XCJsZXQgcHJpdmlsZWdlIG9mIHBlcm1pc3Npb24/LnBlcm1pc3Npb25zOyBsZXQgayA9IGluZGV4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wgY3VzdG9tLXN3aXRjaFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgW2NoZWNrZWRdPVwicHJpdmlsZWdlPy5jaGVja2VkXCIgY2xhc3M9XCJjdXN0b20tY29udHJvbC1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJjdXN0b21Td2l0Y2hlc3JvbGVzc3t7IGkgfX17eyBqIH19e3sgayB9fVwiIChjbGljayk9XCJzZWxlY3RQcml2aWxlZ2UoaSwgaiwgaywgJGV2ZW50KVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImN1c3RvbS1jb250cm9sLWxhYmVsXCIgZm9yPVwiY3VzdG9tU3dpdGNoZXNyb2xlc3N7eyBpIH19e3sgaiB9fXt7IGsgfX1cIj57e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByaXZpbGVnZS5kZXNjcmlwdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH19PC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxyXG4gICAgICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgI3Blcm1pc3Npb25Pbmx5PlxyXG4gICAgICAgICAgICAgICAgICAgIDxsaT5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjdXN0b20tY29udHJvbCBjdXN0b20tc3dpdGNoXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBbY2hlY2tlZF09XCJwZXJtaXNzaW9uPy5jaGVja2VkXCIgY2xhc3M9XCJjdXN0b20tY29udHJvbC1pbnB1dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cInNlbGVjdFBhZ2UoaSwgaiwgJGV2ZW50KVwiIGlkPVwiY3VzdG9tU3dpdGNoZXNyb2xlc3t7IGkgfX17eyBqIH19XCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtbGFiZWxcIiBmb3I9XCJjdXN0b21Td2l0Y2hlc3JvbGVze3sgaSB9fXt7IGogfX1cIj57e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHBlcm1pc3Npb24uZGVzY3JpcHRpb24gfX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XHJcbiAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cclxuICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgYnRuIGJ0bi1wcmltYXJ5IGJ0bmNvbW1vblwiIGZpZWxkS2V5PVwiU0VUVElOR1NfUk9MX0FERF9ST0xFXCIgKGNsaWNrKT1cImFkZFJvbGUoKVwiPlxyXG4gICAgICAgICAgICAgIHt7IHJvbGVJZCA/ICdVcGRhdGUnIDogJ0FkZCcgfX0gUm9sZVxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgbXItMiBidG4gYmctd2hpdGUgdGV4dC1wcmltYXJ5IGJ0bmNhbmNlbFwiIGZpZWxkS2V5PVwiU0VUVElOR1NfUk9MX0NBTkNFTFwiXHJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cImNhbmNlbCgpXCIgW2Rpc2FibGVkXT1cIiFlbmFibGVCdXR0b25cIj5cclxuICAgICAgICAgICAgICBDbGVhclxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8ZGl2ICpuZ0lmPVwiIWZpcnN0VGFiXCI+XHJcblxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQgZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIG10LTRcIj5cclxuICAgICAgICAgICAgPHAtdHJlZSBbdmFsdWVdPVwibWFpbk1lbnVMaXN0XCIgW2RyYWdnYWJsZU5vZGVzXT1cInRydWVcIiBbZHJvcHBhYmxlTm9kZXNdPVwidHJ1ZVwiIGRyYWdnYWJsZVNjb3BlPVwic2VsZlwiXHJcbiAgICAgICAgICAgICAgZHJvcHBhYmxlU2NvcGU9XCJzZWxmXCIgY2xhc3M9XCJ3LWZ1bGwgbWQ6dy0zMHJlbVwiIHNlbGVjdGlvbk1vZGU9XCJzaW5nbGVcIiBbKHNlbGVjdGlvbildPVwic2VsZWN0ZWRGaWxlXCJcclxuICAgICAgICAgICAgICBbdmFsaWRhdGVEcm9wXT1cInRydWVcIiAob25Ob2RlRHJvcCk9XCJub2RlRHJvcCgkZXZlbnQpXCI+PC9wLXRyZWU+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMlwiPlxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHVsbC1yaWdodCBtYi0yIGJ0biBidG4tcHJpbWFyeSBidG5jb21tb25cIiBmaWVsZEtleT1cIlNFVFRJTkdTX1JPTF9BRERfUk9MRVwiXHJcbiAgICAgICAgICAgICAgKGNsaWNrKT1cInVwZGF0ZU1lbnVPcmRlcigpXCI+XHJcbiAgICAgICAgICAgICAgU3VibWl0XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDxiciAvPlxyXG4gICAgICA8L3AtY2FyZD5cclxuICAgIDwvZGl2PlxyXG4gIDwvZGl2PlxyXG48L2Rpdj5cclxuXHJcbjxkaXYgY2xhc3M9XCJtb2RhbFwiIGlkPVwiRGVsZXRldXNlclwiIHRhYmluZGV4PVwiLTFcIiByb2xlPVwiZGlhbG9nXCI+XHJcbiAgPGRpdiBjbGFzcz1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxyXG4gICAgPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRlbnRcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj5cclxuICAgICAgICA8cD57eyBtb2RhbENvbnRlbnQgfX08L3A+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNsZWFyZml4XCI+PC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm10LTJcIj5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJwdWxsLXJpZ2h0IG1iLTIgYnRuIGJ0bi1wcmltYXJ5IGJ0bmNvbW1vbiBkZWxldGVcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiIChjbGljayk9XCJkZWxldGVSb2xlKClcIlxyXG4gICAgICAgICAgICAqbmdJZj1cImRlbGV0ZWFjdGl2ZV91c2VyXCI+XHJcbiAgICAgICAgICAgIERlbGV0ZVxyXG4gICAgICAgICAgPC9idXR0b24+XHJcblxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBtci0yIGJ0biBiZy13aGl0ZSB0ZXh0LXByaW1hcnkgYnRuY2FuY2VsXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxyXG4gICAgICAgICAgICAqbmdJZj1cImRlbGV0ZWFjdGl2ZV9idXR0b25va1wiPlxyXG4gICAgICAgICAgICBDYW5jZWxcclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBtci0yIGJ0biBiZy13aGl0ZSB0ZXh0LXByaW1hcnkgYnRuY2FuY2VsXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxyXG4gICAgICAgICAgICAqbmdJZj1cIiFkZWxldGVhY3RpdmVfYnV0dG9ub2tcIj5cclxuICAgICAgICAgICAgT0tcclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXhcIj48L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICA8L2Rpdj5cclxuPC9kaXY+XHJcbiJdfQ==