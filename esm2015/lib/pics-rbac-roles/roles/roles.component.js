import { __awaiter } from "tslib";
import { Component } from '@angular/core';
import { Validators } from '@angular/forms';
import { AppConstants } from '../@core/constants/app-constants';
import { RBACINFO } from '../@core/urls/rbac-url.config';
import * as i0 from "@angular/core";
import * as i1 from "@angular/forms";
import * as i2 from "../@core/service/alert.service";
import * as i3 from "../@core/service/microstrategy.service";
import * as i4 from "../@core/service/rbac.service";
import * as i5 from "../@core/service/data-store.service";
import * as i6 from "../@shared/alert/alert.component";
import * as i7 from "primeng/card";
import * as i8 from "primeng/dropdown";
import * as i9 from "primeng/accordion";
import * as i10 from "primeng/multiselect";
import * as i11 from "primeng/tabmenu";
import * as i12 from "primeng/tree";
import * as i13 from "../@core/directives/permission.directive";
import * as i14 from "@angular/common";
import * as i15 from "../@core/directives/show-field.directives";
import * as i16 from "primeng/inputtext";
import * as i17 from "primeng/api";
import * as i18 from "primeng/tooltip";
export class RolesComponent {
    constructor(injector, formBuilder, alertService, mstrService, rolesService, _storeservice, permissionService) {
        this.formBuilder = formBuilder;
        this.alertService = alertService;
        this.mstrService = mstrService;
        this.rolesService = rolesService;
        this._storeservice = _storeservice;
        this.permissionService = permissionService;
        this.deleteactive_user = false;
        this.deleteactive_buttonok = false;
        this.roleList = [];
        this.filteredRoleList = [];
        this.selectedPermissionsGroup = [];
        this.userroles = [];
        this.modelRoleName = '';
        this.permissions = [];
        this.filterPermissions = [];
        this.landingPage = [];
        this.RBACORG = new RBACINFO();
        this.items = [];
        this.mainMenuList = [];
        this.reArrangedList = [];
        this.dublicateLandingPage = [];
        this.menuList = [];
        this.subMenuList = [];
        this.parent = [];
        this.childMenuList = [];
        this.showChildren = false;
        this.parentMenulist = [];
        this.validationErrors = {};
        this.checkedRolesArr = [];
        this.buildTree = (parentId) => (item) => {
            const children = this.menuList.filter((child) => child.parentid === item.id);
            return Object.assign(Object.assign({}, item), (children.length > 0 && { children: children.map(this.buildTree(item.id)) }));
        };
        this.originalPermissions = [];
        this.formSubmit = false;
        this.orgSubs = this._storeservice.currentStore.subscribe((res) => {
            this.inputValidationMethod = res['INPUTVALIDATIONMETHOD'];
            if (res['RBACORG'] && res['RBACORG'] !== '') {
                this.formSubmit = false;
                this.permissionAllow = false;
                this.RBACORG = res['RBACORG'];
                this.environment = this.RBACORG['environment'];
                this.orgId = parseInt(this.RBACORG['orgID']);
                this.httpService = res['HTTPSERVICE'];
            }
        });
    }
    nestedData() {
        this.mainMenuList = this.menuList.filter((item) => !item.parentid).map(this.buildTree(null));
    }
    ngOnInit() {
        this.initializeform();
        this.getReportDashboard();
        this.getRoleList();
        this.getPolicyGroupList();
        this.getLandingPage();
        this.getTabs();
        this.roleForm.valueChanges.subscribe(() => {
            this.enableButton = this.isAnyFormControlWithValue();
        });
    }
    isAnyFormControlWithValue() {
        const formValue = this.roleForm.value;
        const avoidProperties = ['parentid'];
        for (const key in formValue) {
            if (formValue.hasOwnProperty(key) && !avoidProperties.includes(key) && formValue[key]) {
                return true;
            }
        }
        return false;
    }
    ngOnDestroy() {
        this.orgSubs.unsubscribe();
    }
    initializeform() {
        this.roleForm = this.formBuilder.group({
            name: ['', Validators.required],
            defaultpageid: ['', Validators.required],
            parentid: [2],
            policyGroupId: [{ value: '', disabled: false }, Validators.required],
            dossierid: []
        });
    }
    get formValidate() {
        return this.roleForm.controls;
    }
    onInput(event, fieldtype, label, required) {
        const error = this.inputValidationMethod(event, fieldtype, label, required);
        if (error && typeof error === 'string') {
            this.validationErrors[label] = error;
        }
        else {
            delete this.validationErrors[label];
        }
    }
    getLandingPage() {
        this.rolesService.getLandingPage('1').subscribe((res) => {
            if (res) {
                this.landingPage = res['data'].filter((x) => x.route.charAt(0) === '/');
            }
            this.dublicateLandingPage = [...this.landingPage];
        }, (error) => console.log(error));
    }
    getRoleList(_key) {
        this.rolesService.getAllUserRole(this.orgId).subscribe((res) => {
            this.roleList = res['data'].filter((a) => a.name !== 'Super admin');
            this.filteredRoleList = this.roleList;
        }, (err) => console.log(err));
    }
    getPolicyGroupList(_managementGroupId) {
        this.rolesService.getOrgPolicyGroupList(this.orgId).subscribe((res) => {
            this.policyGroupList = res['data'];
        }, (err) => console.log(err));
    }
    clearSearch(event) {
        const inputElement = document.querySelector('.form-control');
        if (inputElement) {
            inputElement.value = '';
            this.filteredRoleList = this.roleList;
        }
    }
    onClickAddRole() {
        this.enableButton = false;
        this.roleForm.reset();
        this.formSubmit = false;
        this.initializeform();
        console.log('on Click Add Role : ');
        this.roleForm.get('policyGroupId').enable();
        this.roleForm.valueChanges.subscribe(() => {
            this.enableButton = this.isAnyFormControlWithValue();
        });
        this.permissionAllow = false;
        this.permissions = [];
        this.filterPermissions = [];
        this.roleId = 0;
        this.firstTab = true;
        this.validationErrors = {};
        this.policyGroupsLength = 0;
    }
    searchRole(event) {
        const value = event.target.value.toLowerCase();
        this.filteredRoleList = this.roleList.filter(a => { var _a; return (_a = a === null || a === void 0 ? void 0 : a.name) === null || _a === void 0 ? void 0 : _a.toLowerCase().startsWith(value); });
    }
    clearPermission(event) {
        const inputElement = document.querySelector('.clearbox');
        if (inputElement) {
            inputElement.value = '';
        }
        this.permissions = this.originalPermissions;
    }
    searchRolePermission(event) {
        const value = event.target.value.toLowerCase();
        this.permissions = this.originalPermissions.filter(a => { var _a; return (_a = a === null || a === void 0 ? void 0 : a.description) === null || _a === void 0 ? void 0 : _a.toLowerCase().startsWith(value); });
    }
    getTabs() {
        this.items = [
            {
                label: 'Permissions',
                icon: '',
                command: event => {
                    this.activateMenu(event);
                }
            },
            {
                label: 'Menu Ordering',
                icon: '',
                command: event => {
                    this.activateMenu(event);
                }
            }
        ];
        this.activeItem = this.items[0];
        this.firstTab = true;
    }
    getRoleInfo(roleid) {
        this.formSubmit = false;
        this.validationErrors = {};
        this.clearPermission();
        this.dublicateLandingPage = this.landingPage;
        this.roleId = roleid;
        if (roleid) {
            this.isDisabled = true;
            this.getTabs();
            this.rolesService.getRoleById(roleid).subscribe((res) => {
                this.permissionAllow = true;
                this.roleInformation(res);
                this.selectPolicyGroup();
            });
        }
        else {
            this.roleForm.reset();
            this.permissions = [];
            this.isDisabled = false;
            this.isDisabledOther = false;
            this.roleForm.enable();
            this.policyGroupsLength = 0;
        }
    }
    roleInformation(res) {
        var _a, _b, _c;
        this.roleForm.patchValue({
            name: res.data.name,
            defaultpageid: res.data.defaultpageid,
            parentid: res.data.parentid,
            policyGroupId: ((_a = res === null || res === void 0 ? void 0 : res.data) === null || _a === void 0 ? void 0 : _a.policyGroups.filter((item) => item).map((item) => {
                return item['id'];
            })) || [],
            dossierid: (_b = JSON.parse(res.data.dossierid)) === null || _b === void 0 ? void 0 : _b.id
        });
        this.permissions = [...(_c = res === null || res === void 0 ? void 0 : res.data) === null || _c === void 0 ? void 0 : _c.permissions];
        this.filterPermissions = this.permissions;
        this.permissions = this.permissions
            .map(f => {
            return Object.assign({ isFormBuilder: false }, f);
        })
            .map(g => {
            if (g.key === 'FORM') {
                g.isFormBuilder = true;
            }
            else {
                g.isFormBuilder = false;
            }
            return g;
        });
        this.selectedPermissionsGroup = [];
        if (res.data.permissions && res.data.permissions.length) {
            res.data.permissions.forEach((ele) => {
                this.getSelectedPermisions(ele);
            });
        }
        this.originalPermissions = this.permissions;
        this.isDisabledOther = !this.hasAccess;
        const isAdmin = this.userroles.find(({ name }) => name === 'Admin');
        if (isAdmin) {
            this.roleForm.enable();
            this.isDisabledOther = false;
        }
        // else if (!this.hasAccess || res.isreadonly) {
        //   this.roleForm.controls['name'].disable();
        // }
        else {
            // this.roleForm.enable();
        }
    }
    get hasAccess() {
        return this.userroles.find(({ id, name }) => id === this.roleId || name === 'Admin');
    }
    isPrivilage(permission) {
        var _a;
        if (permission && (permission === null || permission === void 0 ? void 0 : permission.permissions) && ((_a = permission === null || permission === void 0 ? void 0 : permission.permissions) === null || _a === void 0 ? void 0 : _a.length) > 0) {
            return true;
        }
        else {
            return false;
        }
    }
    selectAllPage(index, event) {
        event.stopPropagation();
        this.permissions[index].checked = event.target.checked;
        this.setSelectedPermisions(event.target.checked, this.permissions[index].id, this.permissions[index].checked, this.permissions[index].checkedwrite);
        this.checkedRolesArr = this.permissions.filter((item) => item.checked === true);
        this.permissions[index].permissions.forEach((page) => {
            page.checked = event.target.checked;
            page.checkedwrite = event.target.checked;
            this.setSelectedPermisions(event.target.checked, page.id, page.checked, page.checkedwrite);
            page.permissions.forEach((privilege) => {
                privilege.checked = event.target.checked;
                privilege.checkedwrite = event.target.checked;
                this.setSelectedPermisions(event.target.checked, privilege.id, privilege.checked, privilege.checkedwrite);
            });
        });
    }
    getSelectedPermisions(item) {
        this.setSelectedPermisions(item.checked, item.id, item.checked, item.checkedwrite);
        if (item.permissions && item.permissions.length) {
            item.permissions.forEach((page) => {
                var _a;
                this.setSelectedPermisions(page.checked, page.id, page.checked, page.checkedwrite);
                if (page && ((_a = page.permissions) === null || _a === void 0 ? void 0 : _a.length)) {
                    page.permissions.forEach((privilege) => {
                        this.setSelectedPermisions(privilege.checked, privilege.id, privilege.checked, privilege.checkedwrite);
                    });
                }
            });
        }
    }
    selectAllPrivilage(pageIndex, permissionIndex, event) {
        event.stopPropagation();
        if (event.target.checked) {
            this.permissions[pageIndex].checked = event.target.checked;
        }
        if (event.target.value === 'read' || event.target.value === 'on') {
            this.permissions[pageIndex].permissions[permissionIndex].checked = event.target.checked;
        }
        if (event.target.value === 'write') {
            this.permissions[pageIndex].permissions[permissionIndex].checkedwrite = event.target.checked;
        }
        this.setSelectedPermisions(event.target.checked, this.permissions[pageIndex].permissions[permissionIndex].id, this.permissions[pageIndex].permissions[permissionIndex].checked, this.permissions[pageIndex].permissions[permissionIndex].checkedwrite);
        if (event.target.value === 'read' || event.target.value === 'on') {
            if (event.target.checked || !event.target.checked) {
                this.permissions[pageIndex].permissions[permissionIndex].permissions.forEach((page) => {
                    page.checked = event.target.checked;
                    this.setSelectedPermisions(event.target.checked, page.id, page.checked, page.checkedwrite);
                });
            }
        }
        else if (event.target.value === 'write') {
            if (event.target.checked) {
                this.permissions[pageIndex].permissions[permissionIndex].permissions.forEach((page) => {
                    page.checkedwrite = event.target.checked;
                    this.setSelectedPermisions(event.target.checked, page.id, page.checked, page.checkedwrite);
                });
            }
        }
        this.getPageChecked(pageIndex);
    }
    selectPage(pageIndex, permissionIndex, event) {
        event.stopPropagation();
        if (event.target.value === 'write') {
            this.permissions[pageIndex].permissions[permissionIndex].checkedwrite = event.target.checked;
        }
        if (event.target.value === 'read') {
            this.permissions[pageIndex].permissions[permissionIndex].checked = event.target.checked;
        }
        this.setSelectedPermisions(event.target.checked, this.permissions[pageIndex].permissions[permissionIndex].id, this.permissions[pageIndex].permissions[permissionIndex].checked, this.permissions[pageIndex].permissions[permissionIndex].checkedwrite);
        this.getPageChecked(pageIndex);
    }
    selectPrivilege(pageIndex, permissionIndex, privilegeIndex, event) {
        event.stopPropagation();
        if (event.target.value === 'write') {
            this.permissions[pageIndex].permissions[permissionIndex].permissions[privilegeIndex].checkedwrite =
                event.target.checked;
        }
        if (event.target.value === 'read' || event.target.value === 'on') {
            this.permissions[pageIndex].permissions[permissionIndex].permissions[privilegeIndex].checked =
                event.target.checked;
        }
        this.setSelectedPermisions(event.target.checked, this.permissions[pageIndex].permissions[permissionIndex].permissions[privilegeIndex].id, this.permissions[pageIndex].permissions[permissionIndex].permissions[privilegeIndex].checked, this.permissions[pageIndex].permissions[permissionIndex].permissions[privilegeIndex].checkedwrite);
        this.getPrivilageChecked(pageIndex, permissionIndex);
        this.getPageChecked(pageIndex);
    }
    getPageChecked(pageIndex) {
        if (this.permissions[pageIndex].checked !== this.getChecked(this.permissions[pageIndex].permissions) &&
            this.permissions[pageIndex].checkedwrite !== this.getCheckedWrite(this.permissions[pageIndex].permissions)) {
            this.permissions[pageIndex].checked = this.getChecked(this.permissions[pageIndex].permissions);
            this.setSelectedPermisions(this.permissions[pageIndex].checked, this.permissions[pageIndex].id, this.permissions[pageIndex].checked, this.permissions[pageIndex].checkedwrite);
        }
    }
    getPrivilageChecked(pageIndex, permissionIndex) {
        if (this.permissions[pageIndex].permissions[permissionIndex].checked !==
            this.getChecked(this.permissions[pageIndex].permissions[permissionIndex].permissions)) {
            this.permissions[pageIndex].permissions[permissionIndex].checked = this.getChecked(this.permissions[pageIndex].permissions[permissionIndex].permissions);
            this.setSelectedPermisions(this.permissions[pageIndex].permissions[permissionIndex].checked, this.permissions[pageIndex].permissions[permissionIndex].id, this.permissions[pageIndex].permissions[permissionIndex].checked, this.permissions[pageIndex].permissions[permissionIndex].checkedwrite);
        }
        else if (this.permissions[pageIndex].permissions[permissionIndex].checkedwrite !==
            this.getCheckedWrite(this.permissions[pageIndex].permissions[permissionIndex].permissions)) {
            this.permissions[pageIndex].permissions[permissionIndex].checkedwrite = this.getCheckedWrite(this.permissions[pageIndex].permissions[permissionIndex].permissions);
            this.setSelectedPermisions(this.permissions[pageIndex].permissions[permissionIndex].checked, this.permissions[pageIndex].permissions[permissionIndex].id, this.permissions[pageIndex].permissions[permissionIndex].checked, this.permissions[pageIndex].permissions[permissionIndex].checkedwrite);
        }
        if (this.permissions[pageIndex].checked !==
            this.getChecked(this.permissions[pageIndex].permissions)) {
            this.permissions[pageIndex].checked = this.getChecked(this.permissions[pageIndex].permissions);
            this.setSelectedPermisions(this.permissions[pageIndex].checked, this.permissions[pageIndex].id, this.permissions[pageIndex].checked, this.permissions[pageIndex].checkedwrite);
        }
        else if (this.permissions[pageIndex].checkedwrite !==
            this.getCheckedWrite(this.permissions[pageIndex].permissions)) {
            this.permissions[pageIndex].checkedwrite = this.getCheckedWrite(this.permissions[pageIndex].permissions);
            this.setSelectedPermisions(this.permissions[pageIndex].checked, this.permissions[pageIndex].id, this.permissions[pageIndex].checked, this.permissions[pageIndex].checkedwrite);
        }
    }
    selectAllAccess(value) {
        if (value === false) {
            this.checkedRolesArr = [];
        }
        this.permissions.forEach((page) => {
            page.checked = value;
            this.setSelectedPermisions(value, page.id, page.checked, page.checkedwrite);
            if (page && page.permissions) {
                page.permissions.forEach((permission) => {
                    var _a;
                    permission.checked = value;
                    this.setSelectedPermisions(value, permission.id, permission.checked, permission.checkedwrite);
                    if (permission && ((_a = permission.permissions) === null || _a === void 0 ? void 0 : _a.length)) {
                        permission.permissions.forEach((privilege) => {
                            privilege.checked = value;
                            privilege.checkedwrite = value;
                            this.setSelectedPermisions(value, privilege.id, privilege.checked, privilege.checkedwrite);
                        });
                    }
                });
            }
        });
    }
    addNewRole(id) {
        this.permissions = [];
        this.formSubmit = false;
        this.permissionAllow = false;
        this.rolesService.getPermissionRoleById(id).subscribe((res) => {
            this.permissionAllow = true;
            this.permissions = res['data'];
        }, (err) => console.log(err));
    }
    setSelectedPermisions(_selected, id, allow, write) {
        const index = this.selectedPermissionsGroup.findIndex(res => res.id === id);
        if (index === -1 && allow) {
            this.selectedPermissionsGroup.push({ id, allow, write });
        }
        else if (!allow && !write && index !== -1) {
            this.selectedPermissionsGroup.splice(index, 1);
        }
        else if (index !== -1) {
            this.selectedPermissionsGroup = this.selectedPermissionsGroup.map(i => {
                if (i.id === id) {
                    i.write = write;
                    i.allow = allow;
                }
                return i;
            });
        }
    }
    resetReportDashboardList() {
        this.reportDashboardList = this.duplicatereportDashboardList;
    }
    addRole() {
        var _a, _b;
        this.formSubmit = true;
        let data = this.roleForm.getRawValue();
        if (this.roleForm.valid) {
            const dossierConfig = (_b = (_a = this.reportDashboardList) === null || _a === void 0 ? void 0 : _a.filter((dossier) => dossier.id === data.dossierid)) === null || _b === void 0 ? void 0 : _b.map((a) => ({
                id: a.id,
                projectId: a.projectId
            }))[0];
            data.priority = this.environment.priority;
            data.applicationid = this.environment.applicationid;
            data.parentid = 2;
            data.permissions = this.selectedPermissionsGroup;
            data.dossierid = JSON.stringify(dossierConfig);
            data = Object.assign({ organizationid: this.orgId }, data);
            if (this.roleId) {
                data.id = Number(this.roleId);
                this.rolesService.updateRole(this.roleId, data).subscribe(() => {
                    this.getRoleList();
                    this.mapPolicyGroupToRole(this.roleId, data.policyGroupId);
                    this.alertService.success('Role updated successfully');
                }, (err) => this.alertService.error(err.error.message));
            }
            else {
                data.id = 0;
                data.priority = this.environment.priority;
                this.rolesService.createRole(data).subscribe((res) => {
                    this.cancel();
                    if (data.policyGroupId) {
                        this.mapPolicyGroupToRole(res['data'], data.policyGroupId, 'add');
                    }
                    this.alertService.success('Role saved successfully');
                    this.getRoleList();
                }, (err) => this.alertService.error(err.error.message));
            }
        }
    }
    mapPolicyGroupToRole(id, data, action) {
        if (action === 'add') {
            this.rolesService.createPolicyGroupForRole(id, data).subscribe(() => console.log('policy group mapped to role successfully'), (_err) => this.alertService.error(AppConstants.errorMessage));
        }
        else {
            this.rolesService.updatePolicyGroupForRole(id, data).subscribe(() => console.log('policy group mapped to role successfully'), (_err) => this.alertService.error(AppConstants.errorMessage));
        }
    }
    getReturnValue(array = [], type) {
        return type === 'id'
            ? array.map(({ id }) => id)
            : array.map(id => {
                return { id };
            });
    }
    getChecked(item) {
        return item.filter(({ checked }) => checked).length > 0;
    }
    getCheckedWrite(item) {
        return item.filter(({ checkedwrite }) => checkedwrite).length > 0;
    }
    cancel() {
        this.roleForm.reset();
        this.roleForm.enable();
        this.permissions = [];
        this.formSubmit = false;
        this.permissionAllow = false;
        this.roleId = 0;
        this.validationErrors = {};
        this.filteredRoleList = this.roleList;
        this.policyGroupsLength = 0;
    }
    delete(event, id, item) {
        if ((item === null || item === void 0 ? void 0 : item.active_user) !== null) {
            this.deleteactive_user = false;
            this.deleteactive_buttonok = false;
            // Perform action when active_user is not null
            console.log('Deleting Role with active user');
            this.modalContent = 'This Role is currently associated with active users. De-link users from this Role, to proceed with deleting.';
        }
        else {
            // Perform action when active_user is null
            console.log('Deleting Role');
            this.modalContent = 'Are you sure you want to delete the Role?';
            this.deleteactive_user = true;
            this.deleteactive_buttonok = true;
        }
        event.stopPropagation();
        this.deletedId = id;
        $('#Deleteuser').modal('show');
    }
    deleteRole() {
        this.rolesService.deleteRole(this.deletedId).subscribe(() => {
            this.cancel();
            this.alertService.success('Role deleted successfully');
            $('#Deleteuser').modal('hide');
            this.getRoleList();
        }, (_err) => this.alertService.error('Failed to delete Role'));
    }
    getReportDashboard() {
        return __awaiter(this, void 0, void 0, function* () {
            this.reportDashboardList = yield this.mstrService.getLibraryDetails();
            this.duplicatereportDashboardList = yield this.mstrService.getLibraryDetails();
        });
    }
    // roleValidation(): any {
    //   if (!this.roleForm.value.dossierid) {
    //     this.alertService.warn('Please fill all required fields');
    //     return false;
    //   }
    //   return true;
    // }
    onModelRole(value) {
        this.modelRoleName = value;
    }
    searchLandingPageList(event) {
        const value = event.target.value.toLowerCase();
        this.dublicateLandingPage = this.landingPage.filter((a) => { var _a; return (_a = a === null || a === void 0 ? void 0 : a.name) === null || _a === void 0 ? void 0 : _a.toLowerCase().startsWith(value); });
    }
    resetLandingPageList() {
        this.dublicateLandingPage = this.landingPage;
    }
    activateMenu(event) {
        if (event.item.label == 'Permissions') {
            this.firstTab = true;
            this.clearPermission();
        }
        else {
            this.firstTab = false;
            this.getPageInformation();
        }
    }
    getPageInformation() {
        this.permissionService.getAllPages(this.roleId).subscribe((res) => {
            this.menuList = res === null || res === void 0 ? void 0 : res.data;
            res.data.map((item, index) => {
                item.label = item.name;
            });
            this.nestedData();
            console.log(this.mainMenuList);
            // document.querySelector('#result').innerHTML = this.buildNavigation(this.menuList);
            // res.data.map((item, index) => {
            //   if (item.parentid == null) {
            //     let obj = {
            //       key : 1,
            //       id: item.id,
            //       parentid: item.parentid,
            //       label: item.name,
            //       data: 'Documents Folder',
            //       icon: 'pi pi-fw pi-inbox',
            //       children: []
            //     }
            //     this.mainMenuList.push(obj)
            //   }
            // });
            // this.mainMenuList.map((menu, index1) => {
            //   this.menuList.map((list, index) => {
            //     if (list?.parentid == menu?.id) {
            //       let obj = {
            //         key : 2,
            //         id: list.id,
            //         parentid: list.parentid,
            //         label: list.name,
            //         data: 'Documents Folder',
            //         icon: 'pi pi-fw pi-inbox',
            //         children: []
            //       }
            //       this.mainMenuList[index1].children.push(obj);
            //     }
            //   })
            // })
            // this.mainMenuList.map((menu, index1) => {
            //   menu.children.map((subitem, subindex) => {
            //     this.menuList.map((list, index) => {
            //       if(list.parentid == subitem.id)
            //       {
            //         let obj = {
            //             key : 3,
            //             id: list.id,
            //             parentid: list.parentid,
            //             label: list.name,
            //             data: 'Documents Folder',
            //             icon: 'pi pi-fw pi-inbox',
            //           }
            //           subitem.children.push(obj);
            //       }
            //     })
            //   })
            // })
        });
    }
    updateMenuOrder() {
        this.mainMenuList.forEach((element, index) => {
            var _a, _b;
            let data = {
                'menuorder': index + 1,
                'id': element.rolepermissionid,
                'roleid': this.roleId
            };
            this.reArrangedList.push(data);
            if (((_a = element === null || element === void 0 ? void 0 : element.children) === null || _a === void 0 ? void 0 : _a.length) > 0) {
                (_b = element === null || element === void 0 ? void 0 : element.children) === null || _b === void 0 ? void 0 : _b.forEach((childelement, childindex) => {
                    var _a, _b;
                    let childdata = {
                        'menuorder': childindex + 1,
                        'id': childelement.rolepermissionid,
                        'roleid': this.roleId
                    };
                    this.reArrangedList.push(childdata);
                    if (((_a = childelement === null || childelement === void 0 ? void 0 : childelement.children) === null || _a === void 0 ? void 0 : _a.length) > 0) {
                        (_b = childelement === null || childelement === void 0 ? void 0 : childelement.children) === null || _b === void 0 ? void 0 : _b.forEach((childrenelement, childrenindex) => {
                            let childrendata = {
                                'menuorder': childrenindex + 1,
                                'id': childrenelement.rolepermissionid,
                                'roleid': this.roleId
                            };
                            this.reArrangedList.push(childrendata);
                        });
                    }
                });
            }
        });
        console.log('this.rearrangelist', this.reArrangedList);
        this.permissionService.updateMenuOrder({ pages: this.reArrangedList }).subscribe((res) => {
            // this.alertService.success('Updated Successfully!');
            // this.Service.sendUpdate('Updated Successfully');
            // this.getPageInformation();
            // for role details update
            this.addRole();
            const userRole = sessionStorage.getItem('role_id');
            if (Number(userRole) === this.roleId) {
                window.location.reload();
            }
        });
    }
    nodeDrop(event) {
        if (event.originalEvent.target.childNodes.length === 0) {
            if (event.dragNode.parentid == event.dropNode.parentid) {
                event.accept();
            }
            else {
                this.alertService.error('Not Allowed to Drop');
            }
            console.log('this.mainMenuList', this.mainMenuList);
        }
        else {
            this.alertService.error('Not Allowed to Drop');
        }
    }
    selectPolicyGroup() {
        this.policyGroupsLength = this.roleForm.value.policyGroupId.length;
    }
}
RolesComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: RolesComponent, deps: [{ token: i0.Injector }, { token: i1.FormBuilder }, { token: i2.AlertService }, { token: i3.MicrostrategyService }, { token: i4.RbacService }, { token: i5.DataStoreService }, { token: i4.RbacService }], target: i0.ɵɵFactoryTarget.Component });
RolesComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "12.2.17", type: RolesComponent, selector: "roles", ngImport: i0, template: "<app-alert></app-alert>\n<div class=\"permission\">\n  <div class=\"row\" [formGroup]=\"roleForm\">\n    <div class=\"col-lg-4 col-md-6 col-12\">\n      <div class=\"clearfix\"></div>\n      <div class=\"tab-content py-2 px-2 px-sm-0\">\n        <div class=\"tab-pane fade show active\">\n          <div class=\"form-group bgiconsearch d-flex align-items-center\"> <!-- Modified line -->\n            <span class=\"p-input-icon-right w-100\">\n              <i class=\"pi pi-times-circle\" (click)=\"clearSearch($event)\"></i>\n              <input class=\"form-control\" fieldKey=\"SETTINGS_ROL_SEARCH_BY_NAME\" placeholder=\"Search by Role name\"\n                type=\"text\" (keyup)=\"searchRole($event)\" />\n            </span>\n            <button type=\"button\" class=\"btn btn-primary btncommon ml-2\" fieldKey=\"SETTINGS_ROL_ADD_NEW\"\n              (click)=\"onClickAddRole()\">Add</button>\n          </div>\n          <div class=\"clearfix\"></div>\n          <div class=\"useracess\">\n            <div class=\"d-flex align-items-center justify-content-center h-100 w-100 ng-star-inserted\"\n              *ngIf=\"!filteredRoleList.length\">\n              <p>No Record Found</p>\n            </div>\n            <ng-container *ngFor=\"let item of filteredRoleList\">\n              <div class=\"row userdata align-items-center\" (click)=\"getRoleInfo(item.id)\"\n                [ngClass]=\"{ active: +item.id === roleId }\">\n                <div class=\"col-md-10 col-sm-10 col-10 overflow_txt\">\n                  <span class=\"nameuser\">{{ item.name }}</span> <br />\n                </div>\n                <div class=\"col-md-2 text-right\">\n                  <span class=\"right-icons\">\n                    <em class=\"fa fa-trash text-primary\" *showField=\"'SETTINGS_ROL_DELETE'\"\n                      (click)=\"delete($event, item.id, item)\" aria-hidden=\"true\"></em>\n                  </span>\n                </div>\n              </div>\n            </ng-container>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-lg-8 col-md-6 col-12 roles-right group-role mt-2\">\n      <p-card class=\"rbac-card\" [style]=\"{ width: '100%', 'margin-bottom': '2em' }\">\n        <div class=\"strip_head toggleleft\">\n          <span class=\"report_head font-weight-bold\">Role Details</span>\n        </div>\n        <div class=\"p-fluid p-formgrid row\">\n          <div class=\"p-field col-lg-4 col-md-12 col-12\">\n            <label for=\"rolesName\" class=\"referral-form-labels\">Role Name\n              <span class=\"requiredfield text-danger\">*</span>\n            </label>\n            <input id=\"rolesName\" type=\"text\" fieldKey=\"SETTINGS_ROL_ROLE_NAME\" formControlName=\"name\"\n              placeholder=\"Enter Role Name\" aria-describedby=\"rolesName\" [(ngModel)]=\"modelRoleName\"\n              (ngModelChange)=\"onModelRole($event)\" (input)=\"onInput($event, 'name', 'Role Name', true)\" pInputText />\n            <div *ngIf=\"validationErrors['Role Name']\" class=\"p-error block mt-1\">{{validationErrors['Role Name']}}\n            </div>\n            <div *ngIf=\"!validationErrors['Role Name'] && formValidate['name'].errors && formSubmit\">\n              <div *ngIf=\"formValidate['name'].invalid\" class=\"p-error block mt-1\">Role Name is required </div>\n            </div>\n          </div>\n          <div class=\"p-field col-lg-4 col-md-12 col-12\">\n            <label aria-labelledby=\"landingPage\" for=\"landingPage\" class=\"referral-form-labels\">Landing Page Menu\n              <span class=\"requiredfield text-danger\">*</span>\n            </label>\n            <p-dropdown name=\"landingPage\" [options]=\"dublicateLandingPage\" placeholder=\"Select Landing Page Menu\"\n              formControlName=\"defaultpageid\" defaultLabel=\"Select Landing Page Menu\" (onHide)=\"resetLandingPageList()\"\n              [resetFilterOnHide]=\"true\" [filter]=\"true\" filterBy=\"name\" (keyup)=\"searchLandingPageList($event)\"\n              [showClear]=\"true\" fieldKey=\"SETTINGS_ROL_LANDING_PAGE\" optionLabel=\"name\" optionValue=\"id\"\n              inputId=\"landingPage\">\n              <ng-template let-item pTemplate=\"selectedItem\">\n                <div pTooltip=\"{{item?.name}}\" tooltipPosition=\"top\" class=\"text-truncate\"> {{ item?.name }}</div>\n              </ng-template>\n              <ng-template let-object pTemplate=\"item\">\n                {{ object.name }}\n              </ng-template>\n            </p-dropdown>\n            <div *ngIf=\"formValidate['defaultpageid'].errors && formSubmit\">\n              <div *ngIf=\"formValidate['defaultpageid'].invalid\" class=\"p-error block mt-1\">Landing Page Menu is\n                required\n              </div>\n            </div>\n          </div>\n          <div class=\"p-field col-lg-4 col-md-12 col-12\">\n            <label aria-labelledby=\"dossierId\" for=\"dossierId\" class=\"referral-form-labels\">Report Dashboard</label>\n            <p-dropdown [options]=\"reportDashboardList\" optionLabel=\"name\" id=\"dossierid\" [resetFilterOnHide]=\"true\"\n              [filter]=\"true\" [showClear]=\"true\" optionValue=\"id\" placeholder=\"Select ID\" formControlName=\"dossierid\">\n              <ng-template let-item pTemplate=\"selectedItem\">\n                <div pTooltip=\"{{item?.name}}\" tooltipPosition=\"top\" class=\"text-truncate\"> {{ item?.name }}</div>\n              </ng-template>\n              <ng-template let-object pTemplate=\"item\">\n                {{ object.name }}\n              </ng-template>\n            </p-dropdown>\n          </div>\n          <!-- <div class=\"p-field col-lg-4 col-md-12 col-12\"></div>\n            <div class=\"p-field col-lg-4 col-md-12 col-12\">\n              <button\n                class=\"pull-right mb-2 btn btn-primary btncommon report_button\"\n                fieldKey=\"SETTINGS_ROL_CONFIGURE_PERMISSION\"\n                (click)=\"addNewRole('1')\">\n                Configure Permission\n              </button>\n            </div> -->\n        </div>\n        <div class=\"p-fluid p-formgrid row\">\n          <div class=\"p-field col-md-12 col-12\">\n            <p-accordion class=\"w-full policygroup-accordion\" iconPos=\"endVal\">\n              <p-accordionTab>\n                <ng-template pTemplate=\"header\">\n                  <span class=\"flex align-items-center head-text gap-2 w-full\">\n                    <span class=\"font-bold\">\n                      <label aria-labelledby=\"policyGroupList\" for=\"policyGroupList\"\n                        class=\"mb-0 referral-form-labels\">Policy\n                        Groups\n                        <span class=\"requiredfield text-danger\">*</span>\n                        <span *ngIf=\"policyGroupsLength > 0\" class=\"pg-count ml-2\">{{policyGroupsLength}}</span>\n                      </label>\n                    </span>\n                  </span>\n                </ng-template>\n\n                <p-multiSelect name=\"policyGroupList\" [options]=\"policyGroupList\" formControlName=\"policyGroupId\"\n                  defaultLabel=\"Select Policy Groups\" optionLabel=\"policygroupname\" optionValue=\"id\"\n                  (onHide)=\"resetReportDashboardList()\" [resetFilterOnHide]=\"true\" inputId=\"policyGroupList\"\n                  ariaFilterLabel=\"null\" fieldKey=\"SETTINGS_ROL_POLICY_GROUP\" display=\"chip\"\n                  styleClass=\"policygroup-v2 w-100\" (onChange)=\"selectPolicyGroup()\">\n                </p-multiSelect>\n              </p-accordionTab>\n            </p-accordion>\n            <div *ngIf=\"formValidate['policyGroupId'].errors && formSubmit\">\n              <div *ngIf=\"formValidate['policyGroupId'].invalid\" class=\"p-error block mt-1\">Policy Group is required\n              </div>\n            </div>\n          </div>\n        </div>\n\n\n        <div class=\"mt-2\" *ngIf=\"permissionAllow\">\n          <button class=\"pull-right mb-2 mr-2 btn btn-primary btncommon\" fieldKey=\"SETTINGS_ROL_SELECT_ALL\"\n            (click)=\"selectAllAccess(true)\">\n            Select All\n          </button>\n          <button fieldKey=\"SETTINGS_ROL_RESET\" class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\"\n            (click)=\"selectAllAccess(false)\" [disabled]=\"checkedRolesArr.length === 0\">\n            Reset\n          </button>\n          <!-- <br /> -->\n        </div>\n        <div class=\"strip_head toggleleft adjusttop\" *ngIf=\"permissionAllow\">\n          <!-- <span class=\"report_head font-weight-bold\">Permissions</span> -->\n          <p-tabMenu [model]=\"items\" [activeItem]=\"activeItem\"></p-tabMenu>\n        </div>\n\n        <div *ngIf=\"firstTab\">\n          <div class=\"clearfix\"></div>\n          <div class=\"mt-2 mb-3\">\n            <div *ngIf=\"permissionAllow\">\n              <div class=\"permission-filter\">\n                <input class=\"form-control clearbox\" placeholder=\"Search by Permissions name\" type=\"text\"\n                  (keyup)=\"searchRolePermission($event)\" />\n                <i class=\"pi pi-times-circle\" (click)=\"clearPermission($event)\"></i>\n              </div>\n              <div class=\"d-flex align-items-center justify-content-center h-100 w-100 ng-star-inserted\"\n                *ngIf=\"!filterPermissions.length\">\n                <p>No Record Found</p>\n              </div>\n            </div>\n            <p-accordion class=\"w-100\">\n              <p-accordionTab class=\"w-100\" *ngFor=\"let page of permissions; let i = index\">\n                <ng-template pTemplate=\"header\">\n                  {{ page.description }}\n                </ng-template>\n                <ng-template pTemplate=\"content\">\n                  <div class=\"heading_analysis datamargin\">\n                    <div class=\"g-checkbox pl-1\">\n                      <input type=\"checkbox\" class=\"styled-checkbox\" id=\"custom{{ i }}\"\n                        (change)=\"selectAllPage(i, $event)\" [checked]=\"page?.checked\" />\n                      <label for=\"custom{{ i }}\" class=\"heading_role\">{{ page.description }}</label>\n                    </div>\n                  </div>\n\n                  <ul class=\"marginul_list ecms_rolescroll\">\n                    <ng-container *ngFor=\"let permission of page?.permissions; let j = index\">\n                      <ng-container *ngIf=\"isPrivilage(permission); else permissionOnly\">\n                        <li>\n                          <div class=\"inner_childaccess d-flex mt-0 py-1\">\n                            <div class=\"d-inline-flex align-items-center\">\n                              <label class=\"g-checkbox pl-1 mb-0\">\n                                <input type=\"checkbox\" [checked]=\"permission?.checked\"\n                                  (change)=\"selectAllPrivilage(i, j, $event)\" id=\"description{{ j }}\" />\n                                <span class=\"checkmark\"></span>\n                              </label>\n                              <label for=\"description{{ j }}\" class=\"heading_role mb-0\">{{\n                                permission.description\n                                }}</label>\n                            </div>\n                          </div>\n                        </li>\n                        <li class=\"ml-1\" *ngFor=\"let privilege of permission?.permissions; let k = index\">\n                          <div class=\"d-flex\">\n                            <div class=\"custom-control custom-switch\">\n                              <input type=\"checkbox\" [checked]=\"privilege?.checked\" class=\"custom-control-input\"\n                                id=\"customSwitchesroless{{ i }}{{ j }}{{ k }}\"\n                                (click)=\"selectPrivilege(i, j, k, $event)\" />\n                              <label class=\"custom-control-label\" for=\"customSwitchesroless{{ i }}{{ j }}{{ k }}\">{{\n                                privilege.description\n                                }}</label>\n                            </div>\n                          </div>\n                        </li>\n                      </ng-container>\n                      <ng-template #permissionOnly>\n                        <li>\n                          <div class=\"custom-control custom-switch\">\n                            <input type=\"checkbox\" [checked]=\"permission?.checked\" class=\"custom-control-input\"\n                              (click)=\"selectPage(i, j, $event)\" id=\"customSwitchesroles{{ i }}{{ j }}\" />\n                            <label class=\"custom-control-label\" for=\"customSwitchesroles{{ i }}{{ j }}\">{{\n                              permission.description }}\n                            </label>\n                          </div>\n                        </li>\n                      </ng-template>\n                    </ng-container>\n                  </ul>\n                </ng-template>\n              </p-accordionTab>\n            </p-accordion>\n            <div class=\"col-md-12 box d-none\" *ngFor=\"let page of permissions; let i = index\">\n              <div class=\"heading_analysis datamargin\">\n                <div class=\"Customcheckbox\">\n                  <input type=\"checkbox\" class=\"styled-checkbox\" id=\"custom{{ i }}\" (change)=\"selectAllPage(i, $event)\"\n                    [checked]=\"page?.checked\" />\n                  <label for=\"custom{{ i }}\" class=\"heading_role\">{{ page.description }}</label>\n                </div>\n              </div>\n\n              <ul class=\"marginul_list ecms_rolescroll\">\n                <ng-container *ngFor=\"let permission of page?.permissions; let j = index\">\n                  <ng-container *ngIf=\"isPrivilage(permission); else permissionOnly\">\n                    <li>\n                      <div class=\"inner_childaccess\">\n                        <label class=\"Customcheckbox\">\n                          <input type=\"checkbox\" [checked]=\"permission?.checked\"\n                            (change)=\"selectAllPrivilage(i, j, $event)\" />\n                          <span class=\"checkmark\"></span>\n                        </label>\n                        <span class=\"heading_role\">{{ permission.description }}</span>\n                      </div>\n                    </li>\n                    <li *ngFor=\"let privilege of permission?.permissions; let k = index\">\n                      <div class=\"custom-control custom-switch\">\n                        <input type=\"checkbox\" [checked]=\"privilege?.checked\" class=\"custom-control-input\"\n                          id=\"customSwitchesroless{{ i }}{{ j }}{{ k }}\" (click)=\"selectPrivilege(i, j, k, $event)\" />\n                        <label class=\"custom-control-label\" for=\"customSwitchesroless{{ i }}{{ j }}{{ k }}\">{{\n                          privilege.description\n                          }}</label>\n                      </div>\n                    </li>\n                  </ng-container>\n                  <ng-template #permissionOnly>\n                    <li>\n                      <div class=\"custom-control custom-switch\">\n                        <input type=\"checkbox\" [checked]=\"permission?.checked\" class=\"custom-control-input\"\n                          (click)=\"selectPage(i, j, $event)\" id=\"customSwitchesroles{{ i }}{{ j }}\" />\n                        <label class=\"custom-control-label\" for=\"customSwitchesroles{{ i }}{{ j }}\">{{\n                          permission.description }}\n                        </label>\n                      </div>\n                    </li>\n                  </ng-template>\n                </ng-container>\n              </ul>\n            </div>\n          </div>\n          <div>\n            <button class=\"pull-right btn btn-primary btncommon\" fieldKey=\"SETTINGS_ROL_ADD_ROLE\" (click)=\"addRole()\">\n              {{ roleId ? 'Update' : 'Add' }} Role\n            </button>\n            <button class=\"pull-right mr-2 btn bg-white text-primary btncancel\" fieldKey=\"SETTINGS_ROL_CANCEL\"\n              (click)=\"cancel()\" [disabled]=\"!enableButton\">\n              Clear\n            </button>\n          </div>\n        </div>\n\n        <div *ngIf=\"!firstTab\">\n\n          <div class=\"card flex justify-content-center mt-4\">\n            <p-tree [value]=\"mainMenuList\" [draggableNodes]=\"true\" [droppableNodes]=\"true\" draggableScope=\"self\"\n              droppableScope=\"self\" class=\"w-full md:w-30rem\" selectionMode=\"single\" [(selection)]=\"selectedFile\"\n              [validateDrop]=\"true\" (onNodeDrop)=\"nodeDrop($event)\"></p-tree>\n          </div>\n\n          <div class=\"mt-2\">\n            <button class=\"pull-right mb-2 btn btn-primary btncommon\" fieldKey=\"SETTINGS_ROL_ADD_ROLE\"\n              (click)=\"updateMenuOrder()\">\n              Submit\n            </button>\n          </div>\n        </div>\n\n        <br />\n      </p-card>\n    </div>\n  </div>\n</div>\n\n<div class=\"modal\" id=\"Deleteuser\" tabindex=\"-1\" role=\"dialog\">\n  <div class=\"modal-dialog\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-body\">\n        <p>{{ modalContent }}</p>\n        <div class=\"clearfix\"></div>\n        <div class=\"mt-2\">\n          <button class=\"pull-right mb-2 btn btn-primary btncommon delete\" data-dismiss=\"modal\" (click)=\"deleteRole()\"\n            *ngIf=\"deleteactive_user\">\n            Delete\n          </button>\n\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\"\n            *ngIf=\"deleteactive_buttonok\">\n            Cancel\n          </button>\n          <button class=\"pull-right mb-2 mr-2 btn bg-white text-primary btncancel\" data-dismiss=\"modal\"\n            *ngIf=\"!deleteactive_buttonok\">\n            OK\n          </button>\n        </div>\n\n        <div class=\"clearfix\"></div>\n      </div>\n    </div>\n  </div>\n</div>\n", styles: [".head-div{padding-top:9px;padding-left:7px}.bgiconsearch{margin-bottom:5px;padding-bottom:0;font-size:var(--font-13)}.useracess{border-radius:2px;padding:5px 0;max-height:calc(100vh - 227px);overflow-y:auto}.userempty{max-width:none;border-radius:50%;height:35px;width:35px}.row.userdata{margin:0;border-bottom:solid 1px var(--table-border);padding:5px 0;cursor:pointer}.overflow_txt{overflow:hidden;text-overflow:ellipsis}span.nameuser{font-size:var(--font-16);color:var(--label-text);font-weight:400}.userid,span.emailuser{font-size:var(--font-15);color:#838383}.heading_analysis{padding-bottom:0;border-bottom:1px solid var(--table-border)}.Customcheckbox{position:relative;padding-top:0;padding-left:10px}.heading_role{padding-left:10px;font-size:var(--font-14);position:relative}.marginul_list{padding:0;margin:0}.marginul_list li{list-style:none;padding-top:5px}.marginul_list li label{color:var(--text-dark);text-transform:capitalize}.marginul_list.ecms_rolescroll{max-height:250px;overflow:auto;margin-bottom:20px}.ecms_rolescroll::-webkit-scrollbar{width:.5em;height:.5em}.ecms_rolescroll::-webkit-scrollbar-track{box-shadow:inset 0 0 6px #0000004d;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.ecms_rolescroll::-webkit-scrollbar-thumb{background-color:#a9a9a9;outline:1px solid slategrey}.inner_childaccess{margin-top:9px;margin-left:3px;border-bottom:1px solid var(--table-border)}.Customcheckbox input{display:inline-block}.Customcheckbox:hover input~.checkmark{border:solid 2px #2196f3}.Customcheckbox input~.checkmark{display:none}.Customcheckbox input:checked~.checkmark{display:none;border:solid 2px #1db766;background-color:#1db766}.Customcheckbox input:checked~.checkmark:after{display:block}.Customcheckbox .checkmark:after{left:6px;top:2px;width:5px;height:10px;border:solid #ffffff;border-width:0 2px 2px 0;transform:rotate(45deg)}.custom-control-input:checked~.custom-control-label:before{color:#fff;border:#1db766!important;background:#1db766!important}.custom-control.custom-switch.toggleleft .custom-control-label{padding-top:3px;font-size:var(--font-13)}.custom-switch .custom-control-label:after{top:calc(.25rem + 3px)}.toggle .custom-control-input:checked~.custom-control-label:before{color:#fff;border:#1db766!important;background:#1db766!important}.toggle .custom-control-input~.custom-control-label:before{color:#fff;border:#8c8c8c;background:#8c8c8c}.toggle .custom-control-label:after{background-color:#fff}.custom-switch .custom-control-label:before{left:-2.25rem;width:1.75rem;pointer-events:all;border-radius:.5rem}.custom-control-label:before{position:absolute;top:.25rem;left:-1.5rem;display:block;width:1rem;height:18px;pointer-events:none;content:\"\";background-color:#fff;border:1px solid #adb5bd}.custom-control-input{position:absolute;z-index:-1;opacity:0}.custom-control-label{position:relative;margin-bottom:0;vertical-align:top}.custom-control input[type=checkbox]+label:before{content:\"\"}.custom-switch{padding-left:3.25rem}.toggleleft{font-size:var(--font-13);font-weight:600;display:block;margin-top:-12px;padding-bottom:13px}.report_button{margin-top:27px}.head-div .heading{font-weight:600}.right-icons .fa{margin-top:3px;display:inline-block;z-index:9}.right-icons .fa-trash{font-size:18px}:host ::ng-deep .p-accordion .p-accordion-tab .p-accordion-header .p-accordion-header-link{background:var(--bg-light);color:var(--text-dark);border-color:var(--table-border)}:host ::ng-deep .p-accordion .p-accordion-tab .p-accordion-header:not(.p-highlight):not(.p-disabled):hover .p-accordion-header-link{background:var(--primary);color:var(--hover-text);border-color:var(--table-border)}:host ::ng-deep .p-accordion .p-accordion-tab .p-accordion-content{background:var(--bg-light);color:var(--text-dark);border-color:var(--table-border)}:host ::ng-deep .p-accordion .p-accordion-header:not(.p-disabled).p-highlight:hover .p-accordion-header-link{background:var(--primary);color:var(--hover-text);border-color:var(--table-border)}.adjusttop{margin-top:60px;margin-bottom:-24px}:host ::ng-deep .p-tree .p-treenode-droppoint.p-treenode-droppoint-active{border:1px solid #89c8f7;height:30px;background:none!important}.permission-filter{margin:20px 0 10px;position:relative}.permission-filter i{position:absolute;right:8px;top:50%;cursor:pointer;margin-top:-.5rem;color:#6c757d}:host ::ng-deep .policygroup-v2 .p-multiselect-token-label{width:100%}:host ::ng-deep .policygroup-accordion .policygroup-v2.p-multiselect .p-multiselect-panel{top:auto!important}\n"], components: [{ type: i6.AlertComponent, selector: "app-alert" }, { type: i7.Card, selector: "p-card", inputs: ["header", "subheader", "style", "styleClass"] }, { type: i8.Dropdown, selector: "p-dropdown", inputs: ["scrollHeight", "filter", "name", "style", "panelStyle", "styleClass", "panelStyleClass", "readonly", "required", "editable", "appendTo", "tabindex", "placeholder", "filterPlaceholder", "filterLocale", "inputId", "selectId", "dataKey", "filterBy", "autofocus", "resetFilterOnHide", "dropdownIcon", "optionLabel", "optionValue", "optionDisabled", "optionGroupLabel", "optionGroupChildren", "autoDisplayFirst", "group", "showClear", "emptyFilterMessage", "emptyMessage", "virtualScroll", "itemSize", "autoZIndex", "baseZIndex", "showTransitionOptions", "hideTransitionOptions", "ariaFilterLabel", "ariaLabel", "ariaLabelledBy", "filterMatchMode", "maxlength", "tooltip", "tooltipPosition", "tooltipPositionStyle", "tooltipStyleClass", "autofocusFilter", "disabled", "options", "filterValue"], outputs: ["onChange", "onFilter", "onFocus", "onBlur", "onClick", "onShow", "onHide", "onClear"] }, { type: i9.Accordion, selector: "p-accordion", inputs: ["multiple", "style", "styleClass", "expandIcon", "collapseIcon", "activeIndex"], outputs: ["onClose", "onOpen", "activeIndexChange"] }, { type: i9.AccordionTab, selector: "p-accordionTab", inputs: ["header", "disabled", "cache", "transitionOptions", "selected"], outputs: ["selectedChange"] }, { type: i10.MultiSelect, selector: "p-multiSelect", inputs: ["style", "styleClass", "panelStyle", "panelStyleClass", "inputId", "disabled", "readonly", "group", "filter", "filterPlaceHolder", "filterLocale", "overlayVisible", "tabindex", "appendTo", "dataKey", "name", "label", "ariaLabelledBy", "displaySelectedLabel", "maxSelectedLabels", "selectionLimit", "selectedItemsLabel", "showToggleAll", "emptyFilterMessage", "emptyMessage", "resetFilterOnHide", "dropdownIcon", "optionLabel", "optionValue", "optionDisabled", "optionGroupLabel", "optionGroupChildren", "showHeader", "autoZIndex", "baseZIndex", "filterBy", "virtualScroll", "itemSize", "showTransitionOptions", "hideTransitionOptions", "ariaFilterLabel", "filterMatchMode", "tooltip", "tooltipPosition", "tooltipPositionStyle", "tooltipStyleClass", "autofocusFilter", "display", "autocomplete", "showClear", "scrollHeight", "defaultLabel", "placeholder", "options", "filterValue"], outputs: ["onChange", "onFilter", "onFocus", "onBlur", "onClick", "onClear", "onPanelShow", "onPanelHide"] }, { type: i11.TabMenu, selector: "p-tabMenu", inputs: ["model", "activeItem", "scrollable", "popup", "style", "styleClass"] }, { type: i12.Tree, selector: "p-tree", inputs: ["value", "selectionMode", "selection", "style", "styleClass", "contextMenu", "layout", "draggableScope", "droppableScope", "draggableNodes", "droppableNodes", "metaKeySelection", "propagateSelectionUp", "propagateSelectionDown", "loading", "loadingIcon", "emptyMessage", "ariaLabel", "togglerAriaLabel", "ariaLabelledBy", "validateDrop", "filter", "filterBy", "filterMode", "filterPlaceholder", "filteredNodes", "filterLocale", "scrollHeight", "virtualScroll", "virtualNodeHeight", "minBufferPx", "maxBufferPx", "indentation", "trackBy"], outputs: ["selectionChange", "onNodeSelect", "onNodeUnselect", "onNodeExpand", "onNodeCollapse", "onNodeContextMenuSelect", "onNodeDrop", "onFilter"] }], directives: [{ type: i1.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { type: i1.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i13.PermissionDirective, selector: "[fieldKey]", inputs: ["fieldKey"] }, { type: i14.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i14.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i14.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i15.ShowFieldDirective, selector: "[showField]", inputs: ["showField"] }, { type: i1.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i1.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i1.FormControlName, selector: "[formControlName]", inputs: ["disabled", "formControlName", "ngModel"], outputs: ["ngModelChange"] }, { type: i16.InputText, selector: "[pInputText]" }, { type: i17.PrimeTemplate, selector: "[pTemplate]", inputs: ["type", "pTemplate"] }, { type: i18.Tooltip, selector: "[pTooltip]", inputs: ["tooltipPosition", "tooltipEvent", "appendTo", "positionStyle", "tooltipStyleClass", "tooltipZIndex", "escape", "showDelay", "hideDelay", "life", "positionTop", "positionLeft", "pTooltip", "tooltipDisabled", "tooltipOptions"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "12.2.17", ngImport: i0, type: RolesComponent, decorators: [{
            type: Component,
            args: [{
                    selector: 'roles',
                    templateUrl: './roles.component.html',
                    styleUrls: ['./roles.component.scss']
                }]
        }], ctorParameters: function () { return [{ type: i0.Injector }, { type: i1.FormBuilder }, { type: i2.AlertService }, { type: i3.MicrostrategyService }, { type: i4.RbacService }, { type: i5.DataStoreService }, { type: i4.RbacService }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm9sZXMuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGljcy1jb3JlL3JiYWMtcm9sZXMvc3JjL2xpYi9waWNzLXJiYWMtcm9sZXMvcm9sZXMvcm9sZXMuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvcGljcy1jb3JlL3JiYWMtcm9sZXMvc3JjL2xpYi9waWNzLXJiYWMtcm9sZXMvcm9sZXMvcm9sZXMuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQW9CLE1BQU0sZUFBZSxDQUFDO0FBQzVELE9BQU8sRUFBMEIsVUFBVSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFJcEUsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGtDQUFrQyxDQUFDO0FBTWhFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSwrQkFBK0IsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRekQsTUFBTSxPQUFPLGNBQWM7SUE0RHpCLFlBQ0UsUUFBa0IsRUFDVixXQUF3QixFQUN4QixZQUEwQixFQUMxQixXQUFpQyxFQUNqQyxZQUF5QixFQUN6QixhQUErQixFQUMvQixpQkFBOEI7UUFMOUIsZ0JBQVcsR0FBWCxXQUFXLENBQWE7UUFDeEIsaUJBQVksR0FBWixZQUFZLENBQWM7UUFDMUIsZ0JBQVcsR0FBWCxXQUFXLENBQXNCO1FBQ2pDLGlCQUFZLEdBQVosWUFBWSxDQUFhO1FBQ3pCLGtCQUFhLEdBQWIsYUFBYSxDQUFrQjtRQUMvQixzQkFBaUIsR0FBakIsaUJBQWlCLENBQWE7UUFqRXhDLHNCQUFpQixHQUFZLEtBQUssQ0FBQztRQUNuQywwQkFBcUIsR0FBWSxLQUFLLENBQUM7UUFDdkMsYUFBUSxHQUFnQixFQUFFLENBQUM7UUFDM0IscUJBQWdCLEdBQWdCLEVBQUUsQ0FBQztRQUVuQyw2QkFBd0IsR0FBcUQs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QUFRLEVBQUU7Z0JBQ3RELEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQzthQUNoQjtpQkFDSTtnQkFDSCxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO2FBQ2hEO1lBQ0QsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUE7U0FDcEQ7YUFDSTtZQUNILElBQUksQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLHFCQUFxQixDQUFDLENBQUM7U0FDaEQ7SUFDSCxDQUFDO0lBRUQsaUJBQWlCO1FBQ2YsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUM7SUFDckUsQ0FBQzs7NEdBMXpCVSxjQUFjO2dHQUFkLGNBQWMsNkNDbkIzQixvdmpCQTZVQTs0RkQxVGEsY0FBYztrQkFMMUIsU0FBUzttQkFBQztvQkFDVCxRQUFRLEVBQUUsT0FBTztvQkFDakIsV0FBVyxFQUFFLHdCQUF3QjtvQkFDckMsU0FBUyxFQUFFLENBQUMsd0JBQXdCLENBQUM7aUJBQ3RDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbmplY3RvciwgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3JtQnVpbGRlciwgRm9ybUdyb3VwLCBWYWxpZGF0b3JzIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHsgTWVudUl0ZW0gfSBmcm9tICdwcmltZW5nL2FwaS9tZW51aXRlbSc7XG5pbXBvcnQgeyBUcmVlTm9kZSB9IGZyb20gJ3ByaW1lbmcvYXBpL3RyZWVub2RlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgQXBwQ29uc3RhbnRzIH0gZnJvbSAnLi4vQGNvcmUvY29uc3RhbnRzL2FwcC1jb25zdGFudHMnO1xuaW1wb3J0IHsgTGFuZGluZ1BhZ2VNb2RlbCwgUm9sZU1vZGVsLCBVc2VyUm9sZUR0byB9IGZyb20gJy4uL0Bjb3JlL2RhdGFtb2RlbC9yYmFjRGF0YU1vZGVsJztcbmltcG9ydCB7IEFsZXJ0U2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL3NlcnZpY2UvYWxlcnQuc2VydmljZSc7XG5pbXBvcnQgeyBEYXRhU3RvcmVTZXJ2aWNlIH0gZnJvbSAnLi4vQGNvcmUvc2VydmljZS9kYXRhLXN0b3JlLnNlcnZpY2UnO1xuaW1wb3J0IHsgTWljcm9zdHJhdGVneVNlcnZpY2UgfSBmcm9tICcuLi9AY29yZS9zZXJ2aWNlL21pY3Jvc3RyYXRlZ3kuc2VydmljZSc7XG5pbXBvcnQgeyBSYmFjU2VydmljZSB9IGZyb20gJy4uL0Bjb3JlL3NlcnZpY2UvcmJhYy5zZXJ2aWNlJztcbmltcG9ydCB7IFJCQUNJTkZPIH0gZnJvbSAnLi4vQGNvcmUvdXJscy9yYmFjLXVybC5jb25maWcnO1xuaW1wb3J0IHsgZmlsdGVyIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuZGVjbGFyZSBjb25zdCAkOiBhbnk7XG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdyb2xlcycsXG4gIHRlbXBsYXRlVXJsOiAnLi9yb2xlcy5jb21wb25lbnQuaHRtbCcsXG4gIHN0eWxlVXJsczogWycuL3JvbGVzLmNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgUm9sZXNDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICByb2xlSWQhOiBudW1iZXI7XG4gIGRlbGV0ZWFjdGl2ZV91c2VyOiBib29sZWFuID0gZmFsc2U7XG4gIGRlbGV0ZWFjdGl2ZV9idXR0b25vazogYm9vbGVhbiA9IGZhbHNlO1xuICByb2xlTGlzdDogUm9sZU1vZGVsW10gPSBbXTtcbiAgZmlsdGVyZWRSb2xlTGlzdDogUm9sZU1vZGVsW10gPSBbXTtcbiAgaXNEaXNhYmxlZCE6IGJvb2xlYW47XG4gIHNlbGVjdGVkUGVybWlzc2lvbnNHcm91cDogeyBpZDogbnVtYmVyOyBhbGxvdzogYm9vbGVhbjsgd3JpdGU6IGJvb2xlYW4gfVtdID0gW107XG4gIHVzZXJyb2xlczogVXNlclJvbGVEdG9bXSA9IFtdO1xuICBpc0Rpc2FibGVkT3RoZXIhOiBib29sZWFuO1xuICBkZWxldGVkSWQhOiBzdHJpbmc7XG4gIG1vZGVsUm9sZU5hbWU6IHN0cmluZyA9ICcnO1xuICByb2xlRm9ybSE6IEZvcm1Hcm91cDtcbiAgZm9ybVN1Ym1pdCE6IGJvb2xlYW47XG4gIHBlcm1pc3Npb25zOiBBcnJheTxhbnk+ID0gW107XG4gIGZpbHRlclBlcm1pc3Npb25zOiBhbnlbXSA9IFtdO1xuICBsYW5kaW5nUGFnZTogTGFuZGluZ1BhZ2VNb2RlbFtdID0gW107XG4gIHBvbGljeUdyb3VwTGlzdDogYW55O1xuICBwZXJtaXNzaW9uQWxsb3chOiBib29sZWFuO1xuICBvcmdJZDogYW55O1xuICByZXBvcnREYXNoYm9hcmRMaXN0OiBhbnk7XG4gIGR1cGxpY2F0ZXJlcG9ydERhc2hib2FyZExpc3Q6IGFueTtcbiAgZW52aXJvbm1lbnQ6IGFueTtcbiAgUkJBQ09SRzogUkJBQ0lORk8gPSBuZXcgUkJBQ0lORk8oKTtcbiAgb3JnU3VicyE6IFN1YnNjcmlwdGlvbjtcbiAgbW9kYWxDb250ZW50OiBzdHJpbmc7XG4gIGl0ZW1zOiBNZW51SXRlbVtdID0gW107XG4gIGFjdGl2ZUl0ZW0hOiBNZW51SXRlbTtcbiAgZmlyc3RUYWIhOiBib29sZWFuO1xuICBtYWluTWVudUxpc3Q6IGFueSA9IFtdO1xuICByZUFycmFuZ2VkTGlzdDogYW55ID0gW107XG4gIGR1YmxpY2F0ZUxhbmRpbmdQYWdlOiBhbnlbXSA9IFtdO1xuICBtZW51TGlzdDogYW55ID0gW107XG4gIHN1Yk1lbnVMaXN0OiBhbnkgPSBbXTtcbiAgcGFyZW50OiBhbnkgPSBbXTtcbiAgY2hpbGRNZW51TGlzdDogYW55ID0gW107XG4gIHNob3dDaGlsZHJlbjogYm9vbGVhbiA9IGZhbHNlO1xuICBwYXJlbnRNZW51bGlzdDogVHJlZU5vZGVbXSA9IFtdO1xuICBzZWxlY3RlZEZpbGU6IFRyZWVOb2RlPGFueT4gfCBUcmVlTm9kZTxhbnk+W107XG4gIGh0dHBTZXJ2aWNlOiBhbnk7XG4gIHZhbGlkYXRpb25FcnJvcnM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7fTtcbiAgaW5wdXRWYWxpZGF0aW9uTWV0aG9kOiBhbnk7XG4gIHBvbGljeUdyb3Vwc0xlbmd0aDogYW55O1xuICBlbmFibGVCdXR0b246IGJvb2xlYW47XG4gIGNoZWNrZWRSb2xlc0FycjogYW55ID0gW107XG5cbiAgYnVpbGRUcmVlID0gKHBhcmVudElkKSA9PiAoaXRlbSkgPT4ge1xuICAgIGNvbnN0IGNoaWxkcmVuID0gdGhpcy5tZW51TGlzdC5maWx0ZXIoKGNoaWxkKSA9PiBjaGlsZC5wYXJlbnRpZCA9PT0gaXRlbS5pZCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLml0ZW0sXG4gICAgICAuLi4oY2hpbGRyZW4ubGVuZ3RoID4gMCAmJiB7IGNoaWxkcmVuOiBjaGlsZHJlbi5tYXAodGhpcy5idWlsZFRyZWUoaXRlbS5pZCkpIH0pLFxuICAgIH07XG4gIH07XG4gIG9yaWdpbmFsUGVybWlzc2lvbnM6IEFycmF5PGFueT4gPSBbXTtcblxuXG4gIG5lc3RlZERhdGEoKSB7XG4gICAgdGhpcy5tYWluTWVudUxpc3QgPSB0aGlzLm1lbnVMaXN0LmZpbHRlcigoaXRlbSkgPT4gIWl0ZW0ucGFyZW50aWQpLm1hcCh0aGlzLmJ1aWxkVHJlZShudWxsKSlcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKFxuICAgIGluamVjdG9yOiBJbmplY3RvcixcbiAgICBwcml2YXRlIGZvcm1CdWlsZGVyOiBGb3JtQnVpbGRlcixcbiAgICBwcml2YXRlIGFsZXJ0U2VydmljZTogQWxlcnRTZXJ2aWNlLFxuICAgIHByaXZhdGUgbXN0clNlcnZpY2U6IE1pY3Jvc3RyYXRlZ3lTZXJ2aWNlLFxuICAgIHByaXZhdGUgcm9sZXNTZXJ2aWNlOiBSYmFjU2VydmljZSxcbiAgICBwcml2YXRlIF9zdG9yZXNlcnZpY2U6IERhdGFTdG9yZVNlcnZpY2UsXG4gICAgcHJpdmF0ZSBwZXJtaXNzaW9uU2VydmljZTogUmJhY1NlcnZpY2VcbiAgKSB7XG4gICAgdGhpcy5mb3JtU3VibWl0ID0gZmFsc2U7XG4gICAgdGhpcy5vcmdTdWJzID0gdGhpcy5fc3RvcmVzZXJ2aWNlLmN1cnJlbnRTdG9yZS5zdWJzY3JpYmUoKHJlczogYW55KSA9PiB7XG4gICAgICB0aGlzLmlucHV0VmFsaWRhdGlvbk1ldGhvZCA9IHJlc1snSU5QVVRWQUxJREFUSU9OTUVUSE9EJ11cbiAgICAgIGlmIChyZXNbJ1JCQUNPUkcnXSAmJiByZXNbJ1JCQUNPUkcnXSAhPT0gJycpIHtcbiAgICAgICAgdGhpcy5mb3JtU3VibWl0ID0gZmFsc2U7XG4gICAgICAgIHRoaXMucGVybWlzc2lvbkFsbG93ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuUkJBQ09SRyA9IHJlc1snUkJBQ09SRyddO1xuICAgICAgICB0aGlzLmVudmlyb25tZW50ID0gdGhpcy5SQkFDT1JHWydlbnZpcm9ubWVudCddO1xuICAgICAgICB0aGlzLm9yZ0lkID0gcGFyc2VJbnQodGhpcy5SQkFDT1JHWydvcmdJRCddKTtcbiAgICAgICAgdGhpcy5odHRwU2VydmljZSA9IHJlc1snSFRUUFNFUlZJQ0UnXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5pbml0aWFsaXplZm9ybSgpO1xuICAgIHRoaXMuZ2V0UmVwb3J0RGFzaGJvYXJkKCk7XG4gICAgdGhpcy5nZXRSb2xlTGlzdCgpO1xuICAgIHRoaXMuZ2V0UG9saWN5R3JvdXBMaXN0KCk7XG4gICAgdGhpcy5nZXRMYW5kaW5nUGFnZSgpO1xuICAgIHRoaXMuZ2V0VGFicygpO1xuXG4gICAgdGhpcy5yb2xlRm9ybS52YWx1ZUNoYW5nZXMuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgIHRoaXMuZW5hYmxlQnV0dG9uID0gdGhpcy5pc0FueUZvcm1Db250cm9sV2l0aFZhbHVlKCk7XG4gICAgfSk7XG4gIH1cblxuICBpc0FueUZvcm1Db250cm9sV2l0aFZhbHVlKCk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGZvcm1WYWx1ZSA9IHRoaXMucm9sZUZvcm0udmFsdWU7XG4gICAgY29uc3QgYXZvaWRQcm9wZXJ0aWVzID0gWydwYXJlbnRpZCddO1xuXG4gICAgZm9yIChjb25zdCBrZXkgaW4gZm9ybVZhbHVlKSB7XG4gICAgICBpZiAoZm9ybVZhbHVlLmhhc093blByb3BlcnR5KGtleSkgJiYgIWF2b2lkUHJvcGVydGllcy5pbmNsdWRlcyhrZXkpICYmIGZvcm1WYWx1ZVtrZXldKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLm9yZ1N1YnMudW5zdWJzY3JpYmUoKTtcbiAgfVxuICBpbml0aWFsaXplZm9ybSgpIHtcbiAgICB0aGlzLnJvbGVGb3JtID0gdGhpcy5mb3JtQnVpbGRlci5ncm91cCh7XG4gICAgICBuYW1lOiBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdLFxuICAgICAgZGVmYXVsdHBhZ2VpZDogWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcbiAgICAgIHBhcmVudGlkOiBbMl0sXG4gICAgICBwb2xpY3lHcm91cElkOiBbeyB2YWx1ZTogJycsIGRpc2FibGVkOiBmYWxzZSB9LCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcbiAgICAgIGRvc3NpZXJpZDogW11cbiAgICB9KTtcbiAgfVxuXG4gIGdldCBmb3JtVmFsaWRhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucm9sZUZvcm0uY29udHJvbHM7XG4gIH1cblxuICBvbklucHV0KGV2ZW50OiBFdmVudCwgZmllbGR0eXBlOiBhbnksIGxhYmVsOiBhbnksIHJlcXVpcmVkOiBib29sZWFuKSB7XG4gICAgY29uc3QgZXJyb3IgPSB0aGlzLmlucHV0VmFsaWRhdGlvbk1ldGhvZChldmVudCwgZmllbGR0eXBlLCBsYWJlbCwgcmVxdWlyZWQpO1xuICAgIGlmIChlcnJvciAmJiB0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgICB0aGlzLnZhbGlkYXRpb25FcnJvcnNbbGFiZWxdID0gZXJyb3I7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSB0aGlzLnZhbGlkYXRpb25FcnJvcnNbbGFiZWxdO1xuICAgIH1cbiAgfVxuXG4gIGdldExhbmRpbmdQYWdlKCkge1xuICAgIHRoaXMucm9sZXNTZXJ2aWNlLmdldExhbmRpbmdQYWdlKCcxJykuc3Vic2NyaWJlKFxuICAgICAgKHJlczogYW55KSA9PiB7XG4gICAgICAgIGlmIChyZXMpIHtcbiAgICAgICAgICB0aGlzLmxhbmRpbmdQYWdlID0gcmVzWydkYXRhJ10uZmlsdGVyKCh4OiBhbnkpID0+IHgucm91dGUuY2hhckF0KDApID09PSAnLycpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHVibGljYXRlTGFuZGluZ1BhZ2UgPSBbLi4udGhpcy5sYW5kaW5nUGFnZV07XG4gICAgICB9LFxuICAgICAgKGVycm9yOiBhbnkpID0+IGNvbnNvbGUubG9nKGVycm9yKVxuICAgICk7XG4gIH1cblxuICBnZXRSb2xlTGlzdChfa2V5Pzogc3RyaW5nKSB7XG4gICAgdGhpcy5yb2xlc1NlcnZpY2UuZ2V0QWxsVXNlclJvbGUodGhpcy5vcmdJZCkuc3Vic2NyaWJlKFxuICAgICAgKHJlczogYW55KSA9PiB7XG4gICAgICAgIHRoaXMucm9sZUxpc3QgPSByZXNbJ2RhdGEnXS5maWx0ZXIoKGE6IGFueSkgPT4gYS5uYW1lICE9PSAnU3VwZXIgYWRtaW4nKTtcbiAgICAgICAgdGhpcy5maWx0ZXJlZFJvbGVMaXN0ID0gdGhpcy5yb2xlTGlzdDtcbiAgICAgIH0sXG4gICAgICAoZXJyOiBhbnkpID0+IGNvbnNvbGUubG9nKGVycilcbiAgICApO1xuICB9XG5cbiAgZ2V0UG9saWN5R3JvdXBMaXN0KF9tYW5hZ2VtZW50R3JvdXBJZD86IG51bWJlcikge1xuICAgIHRoaXMucm9sZXNTZXJ2aWNlLmdldE9yZ1BvbGljeUdyb3VwTGlzdCh0aGlzLm9yZ0lkKS5zdWJzY3JpYmUoXG4gICAgICAocmVzOiBhbnkpID0+IHtcbiAgICAgICAgdGhpcy5wb2xpY3lHcm91cExpc3QgPSByZXNbJ2RhdGEnXTtcbiAgICAgIH0sXG4gICAgICAoZXJyOiBhbnkpID0+IGNvbnNvbGUubG9nKGVycilcbiAgICApO1xuICB9XG4gIGNsZWFyU2VhcmNoKGV2ZW50OiBFdmVudCkge1xuICAgIGNvbnN0IGlucHV0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLWNvbnRyb2wnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGlmIChpbnB1dEVsZW1lbnQpIHtcbiAgICAgIGlucHV0RWxlbWVudC52YWx1ZSA9ICcnO1xuICAgICAgdGhpcy5maWx0ZXJlZFJvbGVMaXN0ID0gdGhpcy5yb2xlTGlzdDtcbiAgICB9XG4gIH1cbiAgb25DbGlja0FkZFJvbGUoKSB7XG4gICAgdGhpcy5lbmFibGVCdXR0b24gPSBmYWxzZTtcbiAgICB0aGlzLnJvbGVGb3JtLnJlc2V0KCk7XG4gICAgdGhpcy5mb3JtU3VibWl0ID0gZmFsc2U7XG4gICAgdGhpcy5pbml0aWFsaXplZm9ybSgpO1xuICAgIGNvbnNvbGUubG9nKCdvbiBDbGljayBBZGQgUm9sZSA6ICcpO1xuICAgIHRoaXMucm9sZUZvcm0uZ2V0KCdwb2xpY3lHcm91cElkJykuZW5hYmxlKCk7XG4gICAgdGhpcy5yb2xlRm9ybS52YWx1ZUNoYW5nZXMuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgIHRoaXMuZW5hYmxlQnV0dG9uID0gdGhpcy5pc0FueUZvcm1Db250cm9sV2l0aFZhbHVlKCk7XG4gICAgfSk7XG4gICAgdGhpcy5wZXJtaXNzaW9uQWxsb3cgPSBmYWxzZTtcbiAgICB0aGlzLnBlcm1pc3Npb25zID0gW107XG4gICAgdGhpcy5maWx0ZXJQZXJtaXNzaW9ucyA9IFtdO1xuICAgIHRoaXMucm9sZUlkID0gMDtcbiAgICB0aGlzLmZpcnN0VGFiID0gdHJ1ZTtcbiAgICB0aGlzLnZhbGlkYXRpb25FcnJvcnMgPSB7fTtcbiAgICB0aGlzLnBvbGljeUdyb3Vwc0xlbmd0aCA9IDA7XG4gIH1cbiAgc2VhcmNoUm9sZShldmVudDogRXZlbnQpIHtcbiAgICBjb25zdCB2YWx1ZSA9IChldmVudC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICB0aGlzLmZpbHRlcmVkUm9sZUxpc3QgPSB0aGlzLnJvbGVMaXN0LmZpbHRlcihhID0+IGE/Lm5hbWU/LnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCh2YWx1ZSkpO1xuICB9XG5cbiAgY2xlYXJQZXJtaXNzaW9uKGV2ZW50PzogRXZlbnQpIHtcbiAgICBjb25zdCBpbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2xlYXJib3gnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGlmIChpbnB1dEVsZW1lbnQpIHtcbiAgICAgIGlucHV0RWxlbWVudC52YWx1ZSA9ICcnO1xuICAgIH1cbiAgICB0aGlzLnBlcm1pc3Npb25zID0gdGhpcy5vcmlnaW5hbFBlcm1pc3Npb25zXG4gIH1cblxuICBzZWFyY2hSb2xlUGVybWlzc2lvbihldmVudDogRXZlbnQpIHtcbiAgICBjb25zdCB2YWx1ZSA9IChldmVudC50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICB0aGlzLnBlcm1pc3Npb25zID0gdGhpcy5vcmlnaW5hbFBlcm1pc3Npb25zLmZpbHRlcihhID0+IGE/LmRlc2NyaXB0aW9uPy50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgodmFsdWUpKTtcbiAgfVxuXG4gIGdldFRhYnMoKSB7XG4gICAgdGhpcy5pdGVtcyA9IFtcbiAgICAgIHtcbiAgICAgICAgbGFiZWw6ICdQZXJtaXNzaW9ucycsXG4gICAgICAgIGljb246ICcnLFxuICAgICAgICBjb21tYW5kOiBldmVudCA9PiB7XG4gICAgICAgICAgdGhpcy5hY3RpdmF0ZU1lbnUoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBsYWJlbDogJ01lbnUgT3JkZXJpbmcnLFxuICAgICAgICBpY29uOiAnJyxcbiAgICAgICAgY29tbWFuZDogZXZlbnQgPT4ge1xuICAgICAgICAgIHRoaXMuYWN0aXZhdGVNZW51KGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF07XG4gICAgdGhpcy5hY3RpdmVJdGVtID0gdGhpcy5pdGVtc1swXTtcbiAgICB0aGlzLmZpcnN0VGFiID0gdHJ1ZTtcbiAgfVxuXG4gIGdldFJvbGVJbmZvKHJvbGVpZDogYW55KSB7XG4gICAgdGhpcy5mb3JtU3VibWl0ID0gZmFsc2U7XG4gICAgdGhpcy52YWxpZGF0aW9uRXJyb3JzID0ge307XG4gICAgdGhpcy5jbGVhclBlcm1pc3Npb24oKTtcbiAgICB0aGlzLmR1YmxpY2F0ZUxhbmRpbmdQYWdlID0gdGhpcy5sYW5kaW5nUGFnZTtcbiAgICB0aGlzLnJvbGVJZCA9IHJvbGVpZDtcbiAgICBpZiAocm9sZWlkKSB7XG4gICAgICB0aGlzLmlzRGlzYWJsZWQgPSB0cnVlO1xuICAgICAgdGhpcy5nZXRUYWJzKCk7XG4gICAgICB0aGlzLnJvbGVzU2VydmljZS5nZXRSb2xlQnlJZChyb2xlaWQpLnN1YnNjcmliZSgocmVzOiBhbnkpID0+IHtcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9uQWxsb3cgPSB0cnVlO1xuICAgICAgICB0aGlzLnJvbGVJbmZvcm1hdGlvbihyZXMpO1xuICAgICAgICB0aGlzLnNlbGVjdFBvbGljeUdyb3VwKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yb2xlRm9ybS5yZXNldCgpO1xuICAgICAgdGhpcy5wZXJtaXNzaW9ucyA9IFtdO1xuICAgICAgdGhpcy5pc0Rpc2FibGVkID0gZmFsc2U7XG4gICAgICB0aGlzLmlzRGlzYWJsZWRPdGhlciA9IGZhbHNlO1xuICAgICAgdGhpcy5yb2xlRm9ybS5lbmFibGUoKTtcbiAgICAgIHRoaXMucG9saWN5R3JvdXBzTGVuZ3RoID0gMFxuICAgIH1cbiAgfVxuICByb2xlSW5mb3JtYXRpb24ocmVzOiBhbnkpIHtcbiAgICB0aGlzLnJvbGVGb3JtLnBhdGNoVmFsdWUoe1xuICAgICAgbmFtZTogcmVzLmRhdGEubmFtZSxcbiAgICAgIGRlZmF1bHRwYWdlaWQ6IHJlcy5kYXRhLmRlZmF1bHRwYWdlaWQsXG4gICAgICBwYXJlbnRpZDogcmVzLmRhdGEucGFyZW50aWQsXG4gICAgICBwb2xpY3lHcm91cElkOlxuICAgICAgICByZXM/LmRhdGE/LnBvbGljeUdyb3Vwc1xuICAgICAgICAgIC5maWx0ZXIoKGl0ZW06IGFueSkgPT4gaXRlbSlcbiAgICAgICAgICAubWFwKChpdGVtOiBhbnkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtWydpZCddO1xuICAgICAgICAgIH0pIHx8IFtdLFxuICAgICAgZG9zc2llcmlkOiBKU09OLnBhcnNlKHJlcy5kYXRhLmRvc3NpZXJpZCk/LmlkXG4gICAgfSk7XG4gICAgdGhpcy5wZXJtaXNzaW9ucyA9IFsuLi5yZXM/LmRhdGE/LnBlcm1pc3Npb25zXTtcbiAgICB0aGlzLmZpbHRlclBlcm1pc3Npb25zID0gdGhpcy5wZXJtaXNzaW9ucztcbiAgICB0aGlzLnBlcm1pc3Npb25zID0gdGhpcy5wZXJtaXNzaW9uc1xuICAgICAgLm1hcChmID0+IHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oeyBpc0Zvcm1CdWlsZGVyOiBmYWxzZSB9LCBmKTtcbiAgICAgIH0pXG4gICAgICAubWFwKGcgPT4ge1xuICAgICAgICBpZiAoZy5rZXkgPT09ICdGT1JNJykge1xuICAgICAgICAgIGcuaXNGb3JtQnVpbGRlciA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZy5pc0Zvcm1CdWlsZGVyID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGc7XG4gICAgICB9KTtcbiAgICB0aGlzLnNlbGVjdGVkUGVybWlzc2lvbnNHcm91cCA9IFtdO1xuICAgIGlmIChyZXMuZGF0YS5wZXJtaXNzaW9ucyAmJiByZXMuZGF0YS5wZXJtaXNzaW9ucy5sZW5ndGgpIHtcbiAgICAgIHJlcy5kYXRhLnBlcm1pc3Npb25zLmZvckVhY2goKGVsZTogYW55KSA9PiB7XG4gICAgICAgIHRoaXMuZ2V0U2VsZWN0ZWRQZXJtaXNpb25zKGVsZSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5vcmlnaW5hbFBlcm1pc3Npb25zID0gdGhpcy5wZXJtaXNzaW9ucztcbiAgICB0aGlzLmlzRGlzYWJsZWRPdGhlciA9ICF0aGlzLmhhc0FjY2VzcztcbiAgICBjb25zdCBpc0FkbWluID0gdGhpcy51c2Vycm9sZXMuZmluZCgoeyBuYW1lIH0pID0+IG5hbWUgPT09ICdBZG1pbicpO1xuICAgIGlmIChpc0FkbWluKSB7XG4gICAgICB0aGlzLnJvbGVGb3JtLmVuYWJsZSgpO1xuICAgICAgdGhpcy5pc0Rpc2FibGVkT3RoZXIgPSBmYWxzZTtcbiAgICB9XG4gICAgLy8gZWxzZSBpZiAoIXRoaXMuaGFzQWNjZXNzIHx8IHJlcy5pc3JlYWRvbmx5KSB7XG4gICAgLy8gICB0aGlzLnJvbGVGb3JtLmNvbnRyb2xzWyduYW1lJ10uZGlzYWJsZSgpO1xuICAgIC8vIH1cbiAgICBlbHNlIHtcbiAgICAgIC8vIHRoaXMucm9sZUZvcm0uZW5hYmxlKCk7XG4gICAgfVxuICB9XG4gIGdldCBoYXNBY2Nlc3MoKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlcnJvbGVzLmZpbmQoKHsgaWQsIG5hbWUgfSkgPT4gaWQgPT09IHRoaXMucm9sZUlkIHx8IG5hbWUgPT09ICdBZG1pbicpO1xuICB9XG5cbiAgaXNQcml2aWxhZ2UocGVybWlzc2lvbjogYW55KSB7XG4gICAgaWYgKHBlcm1pc3Npb24gJiYgcGVybWlzc2lvbj8ucGVybWlzc2lvbnMgJiYgcGVybWlzc2lvbj8ucGVybWlzc2lvbnM/Lmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgc2VsZWN0QWxsUGFnZShpbmRleDogbnVtYmVyLCBldmVudDogYW55KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgdGhpcy5wZXJtaXNzaW9uc1tpbmRleF0uY2hlY2tlZCA9IGV2ZW50LnRhcmdldC5jaGVja2VkO1xuICAgIHRoaXMuc2V0U2VsZWN0ZWRQZXJtaXNpb25zKFxuICAgICAgZXZlbnQudGFyZ2V0LmNoZWNrZWQsXG4gICAgICB0aGlzLnBlcm1pc3Npb25zW2luZGV4XS5pZCxcbiAgICAgIHRoaXMucGVybWlzc2lvbnNbaW5kZXhdLmNoZWNrZWQsXG4gICAgICB0aGlzLnBlcm1pc3Npb25zW2luZGV4XS5jaGVja2Vkd3JpdGVcbiAgICApO1xuICAgIHRoaXMuY2hlY2tlZFJvbGVzQXJyID0gdGhpcy5wZXJtaXNzaW9ucy5maWx0ZXIoKGl0ZW0pID0+IGl0ZW0uY2hlY2tlZCA9PT0gdHJ1ZSk7XG4gICAgdGhpcy5wZXJtaXNzaW9uc1tpbmRleF0ucGVybWlzc2lvbnMuZm9yRWFjaCgocGFnZTogYW55KSA9PiB7XG4gICAgICBwYWdlLmNoZWNrZWQgPSBldmVudC50YXJnZXQuY2hlY2tlZDtcbiAgICAgIHBhZ2UuY2hlY2tlZHdyaXRlID0gZXZlbnQudGFyZ2V0LmNoZWNrZWQ7XG4gICAgICB0aGlzLnNldFNlbGVjdGVkUGVybWlzaW9ucyhldmVudC50YXJnZXQuY2hlY2tlZCwgcGFnZS5pZCwgcGFnZS5jaGVja2VkLCBwYWdlLmNoZWNrZWR3cml0ZSk7XG4gICAgICBwYWdlLnBlcm1pc3Npb25zLmZvckVhY2goKHByaXZpbGVnZTogYW55KSA9PiB7XG4gICAgICAgIHByaXZpbGVnZS5jaGVja2VkID0gZXZlbnQudGFyZ2V0LmNoZWNrZWQ7XG4gICAgICAgIHByaXZpbGVnZS5jaGVja2Vkd3JpdGUgPSBldmVudC50YXJnZXQuY2hlY2tlZDtcbiAgICAgICAgdGhpcy5zZXRTZWxlY3RlZFBlcm1pc2lvbnMoZXZlbnQudGFyZ2V0LmNoZWNrZWQsIHByaXZpbGVnZS5pZCwgcHJpdmlsZWdlLmNoZWNrZWQsIHByaXZpbGVnZS5jaGVja2Vkd3JpdGUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBnZXRTZWxlY3RlZFBlcm1pc2lvbnMoaXRlbTogYW55KSB7XG4gICAgdGhpcy5zZXRTZWxlY3RlZFBlcm1pc2lvbnMoaXRlbS5jaGVja2VkLCBpdGVtLmlkLCBpdGVtLmNoZWNrZWQsIGl0ZW0uY2hlY2tlZHdyaXRlKTtcbiAgICBpZiAoaXRlbS5wZXJtaXNzaW9ucyAmJiBpdGVtLnBlcm1pc3Npb25zLmxlbmd0aCkge1xuICAgICAgaXRlbS5wZXJtaXNzaW9ucy5mb3JFYWNoKChwYWdlOiBhbnkpID0+IHtcbiAgICAgICAgdGhpcy5zZXRTZWxlY3RlZFBlcm1pc2lvbnMocGFnZS5jaGVja2VkLCBwYWdlLmlkLCBwYWdlLmNoZWNrZWQsIHBhZ2UuY2hlY2tlZHdyaXRlKTtcbiAgICAgICAgaWYgKHBhZ2UgJiYgcGFnZS5wZXJtaXNzaW9ucz8ubGVuZ3RoKSB7XG4gICAgICAgICAgcGFnZS5wZXJtaXNzaW9ucy5mb3JFYWNoKChwcml2aWxlZ2U6IGFueSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZFBlcm1pc2lvbnMocHJpdmlsZWdlLmNoZWNrZWQsIHByaXZpbGVnZS5pZCwgcHJpdmlsZWdlLmNoZWNrZWQsIHByaXZpbGVnZS5jaGVja2Vkd3JpdGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBzZWxlY3RBbGxQcml2aWxhZ2UocGFnZUluZGV4OiBudW1iZXIsIHBlcm1pc3Npb25JbmRleDogbnVtYmVyLCBldmVudDogYW55KSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaWYoZXZlbnQudGFyZ2V0LmNoZWNrZWQpIHtcbiAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5jaGVja2VkID0gZXZlbnQudGFyZ2V0LmNoZWNrZWQ7XG4gICAgfVxuICAgIGlmIChldmVudC50YXJnZXQudmFsdWUgPT09ICdyZWFkJyB8fCBldmVudC50YXJnZXQudmFsdWUgPT09ICdvbicpIHtcbiAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9uc1twZXJtaXNzaW9uSW5kZXhdLmNoZWNrZWQgPSBldmVudC50YXJnZXQuY2hlY2tlZDtcbiAgICB9XG4gICAgaWYgKGV2ZW50LnRhcmdldC52YWx1ZSA9PT0gJ3dyaXRlJykge1xuICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLnBlcm1pc3Npb25zW3Blcm1pc3Npb25JbmRleF0uY2hlY2tlZHdyaXRlID0gZXZlbnQudGFyZ2V0LmNoZWNrZWQ7XG4gICAgfVxuICAgIHRoaXMuc2V0U2VsZWN0ZWRQZXJtaXNpb25zKFxuICAgICAgZXZlbnQudGFyZ2V0LmNoZWNrZWQsXG4gICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnNbcGVybWlzc2lvbkluZGV4XS5pZCxcbiAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9uc1twZXJtaXNzaW9uSW5kZXhdLmNoZWNrZWQsXG4gICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnNbcGVybWlzc2lvbkluZGV4XS5jaGVja2Vkd3JpdGVcbiAgICApO1xuICAgIGlmIChldmVudC50YXJnZXQudmFsdWUgPT09ICdyZWFkJyB8fCBldmVudC50YXJnZXQudmFsdWUgPT09ICdvbicpIHtcbiAgICAgIGlmIChldmVudC50YXJnZXQuY2hlY2tlZCB8fCAhZXZlbnQudGFyZ2V0LmNoZWNrZWQpIHtcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLnBlcm1pc3Npb25zW3Blcm1pc3Npb25JbmRleF0ucGVybWlzc2lvbnMuZm9yRWFjaCgocGFnZTogYW55KSA9PiB7XG4gICAgICAgICAgcGFnZS5jaGVja2VkID0gZXZlbnQudGFyZ2V0LmNoZWNrZWQ7XG4gICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZFBlcm1pc2lvbnMoZXZlbnQudGFyZ2V0LmNoZWNrZWQsIHBhZ2UuaWQsIHBhZ2UuY2hlY2tlZCwgcGFnZS5jaGVja2Vkd3JpdGUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldC52YWx1ZSA9PT0gJ3dyaXRlJykge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldC5jaGVja2VkKSB7XG4gICAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9uc1twZXJtaXNzaW9uSW5kZXhdLnBlcm1pc3Npb25zLmZvckVhY2goKHBhZ2U6IGFueSkgPT4ge1xuICAgICAgICAgIHBhZ2UuY2hlY2tlZHdyaXRlID0gZXZlbnQudGFyZ2V0LmNoZWNrZWQ7XG4gICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZFBlcm1pc2lvbnMoZXZlbnQudGFyZ2V0LmNoZWNrZWQsIHBhZ2UuaWQsIHBhZ2UuY2hlY2tlZCwgcGFnZS5jaGVja2Vkd3JpdGUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5nZXRQYWdlQ2hlY2tlZChwYWdlSW5kZXgpO1xuICB9XG5cbiAgc2VsZWN0UGFnZShwYWdlSW5kZXg6IG51bWJlciwgcGVybWlzc2lvbkluZGV4OiBudW1iZXIsIGV2ZW50OiBhbnkpIHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAoZXZlbnQudGFyZ2V0LnZhbHVlID09PSAnd3JpdGUnKSB7XG4gICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnNbcGVybWlzc2lvbkluZGV4XS5jaGVja2Vkd3JpdGUgPSBldmVudC50YXJnZXQuY2hlY2tlZDtcbiAgICB9XG4gICAgaWYgKGV2ZW50LnRhcmdldC52YWx1ZSA9PT0gJ3JlYWQnKSB7XG4gICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnNbcGVybWlzc2lvbkluZGV4XS5jaGVja2VkID0gZXZlbnQudGFyZ2V0LmNoZWNrZWQ7XG4gICAgfVxuICAgIHRoaXMuc2V0U2VsZWN0ZWRQZXJtaXNpb25zKFxuICAgICAgZXZlbnQudGFyZ2V0LmNoZWNrZWQsXG4gICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnNbcGVybWlzc2lvbkluZGV4XS5pZCxcbiAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9uc1twZXJtaXNzaW9uSW5kZXhdLmNoZWNrZWQsXG4gICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnNbcGVybWlzc2lvbkluZGV4XS5jaGVja2Vkd3JpdGVcbiAgICApO1xuICAgIHRoaXMuZ2V0UGFnZUNoZWNrZWQocGFnZUluZGV4KTtcbiAgfVxuXG4gIHNlbGVjdFByaXZpbGVnZShwYWdlSW5kZXg6IG51bWJlciwgcGVybWlzc2lvbkluZGV4OiBudW1iZXIsIHByaXZpbGVnZUluZGV4OiBudW1iZXIsIGV2ZW50OiBhbnkpIHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBpZiAoZXZlbnQudGFyZ2V0LnZhbHVlID09PSAnd3JpdGUnKSB7XG4gICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnNbcGVybWlzc2lvbkluZGV4XS5wZXJtaXNzaW9uc1twcml2aWxlZ2VJbmRleF0uY2hlY2tlZHdyaXRlID1cbiAgICAgICAgZXZlbnQudGFyZ2V0LmNoZWNrZWQ7XG4gICAgfVxuICAgIGlmIChldmVudC50YXJnZXQudmFsdWUgPT09ICdyZWFkJyB8fCBldmVudC50YXJnZXQudmFsdWUgPT09ICdvbicpIHtcbiAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9uc1twZXJtaXNzaW9uSW5kZXhdLnBlcm1pc3Npb25zW3ByaXZpbGVnZUluZGV4XS5jaGVja2VkID1cbiAgICAgICAgZXZlbnQudGFyZ2V0LmNoZWNrZWQ7XG4gICAgfVxuICAgIHRoaXMuc2V0U2VsZWN0ZWRQZXJtaXNpb25zKFxuICAgICAgZXZlbnQudGFyZ2V0LmNoZWNrZWQsXG4gICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnNbcGVybWlzc2lvbkluZGV4XS5wZXJtaXNzaW9uc1twcml2aWxlZ2VJbmRleF0uaWQsXG4gICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnNbcGVybWlzc2lvbkluZGV4XS5wZXJtaXNzaW9uc1twcml2aWxlZ2VJbmRleF0uY2hlY2tlZCxcbiAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9uc1twZXJtaXNzaW9uSW5kZXhdLnBlcm1pc3Npb25zW3ByaXZpbGVnZUluZGV4XS5jaGVja2Vkd3JpdGVcbiAgICApO1xuICAgIHRoaXMuZ2V0UHJpdmlsYWdlQ2hlY2tlZChwYWdlSW5kZXgsIHBlcm1pc3Npb25JbmRleCk7XG4gICAgdGhpcy5nZXRQYWdlQ2hlY2tlZChwYWdlSW5kZXgpO1xuICB9XG5cbiAgZ2V0UGFnZUNoZWNrZWQocGFnZUluZGV4OiBudW1iZXIpIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0uY2hlY2tlZCAhPT0gdGhpcy5nZXRDaGVja2VkKHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9ucykgJiZcbiAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5jaGVja2Vkd3JpdGUgIT09IHRoaXMuZ2V0Q2hlY2tlZFdyaXRlKHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9ucylcbiAgICApIHtcbiAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5jaGVja2VkID0gdGhpcy5nZXRDaGVja2VkKHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9ucyk7XG4gICAgICB0aGlzLnNldFNlbGVjdGVkUGVybWlzaW9ucyhcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLmNoZWNrZWQsXG4gICAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5pZCxcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLmNoZWNrZWQsXG4gICAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5jaGVja2Vkd3JpdGVcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgZ2V0UHJpdmlsYWdlQ2hlY2tlZChwYWdlSW5kZXg6IG51bWJlciwgcGVybWlzc2lvbkluZGV4OiBudW1iZXIpIHtcbiAgICBpZiAoXG4gICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnNbcGVybWlzc2lvbkluZGV4XS5jaGVja2VkICE9PVxuICAgICAgdGhpcy5nZXRDaGVja2VkKHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9uc1twZXJtaXNzaW9uSW5kZXhdLnBlcm1pc3Npb25zKVxuICAgICkge1xuICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLnBlcm1pc3Npb25zW3Blcm1pc3Npb25JbmRleF0uY2hlY2tlZCA9IHRoaXMuZ2V0Q2hlY2tlZChcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLnBlcm1pc3Npb25zW3Blcm1pc3Npb25JbmRleF0ucGVybWlzc2lvbnNcbiAgICAgICk7XG4gICAgICB0aGlzLnNldFNlbGVjdGVkUGVybWlzaW9ucyhcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLnBlcm1pc3Npb25zW3Blcm1pc3Npb25JbmRleF0uY2hlY2tlZCxcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLnBlcm1pc3Npb25zW3Blcm1pc3Npb25JbmRleF0uaWQsXG4gICAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9uc1twZXJtaXNzaW9uSW5kZXhdLmNoZWNrZWQsXG4gICAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9uc1twZXJtaXNzaW9uSW5kZXhdLmNoZWNrZWR3cml0ZVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLnBlcm1pc3Npb25zW3Blcm1pc3Npb25JbmRleF0uY2hlY2tlZHdyaXRlICE9PVxuICAgICAgdGhpcy5nZXRDaGVja2VkV3JpdGUodGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLnBlcm1pc3Npb25zW3Blcm1pc3Npb25JbmRleF0ucGVybWlzc2lvbnMpXG4gICAgKSB7XG4gICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnNbcGVybWlzc2lvbkluZGV4XS5jaGVja2Vkd3JpdGUgPSB0aGlzLmdldENoZWNrZWRXcml0ZShcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLnBlcm1pc3Npb25zW3Blcm1pc3Npb25JbmRleF0ucGVybWlzc2lvbnNcbiAgICAgICk7XG4gICAgICB0aGlzLnNldFNlbGVjdGVkUGVybWlzaW9ucyhcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLnBlcm1pc3Npb25zW3Blcm1pc3Npb25JbmRleF0uY2hlY2tlZCxcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLnBlcm1pc3Npb25zW3Blcm1pc3Npb25JbmRleF0uaWQsXG4gICAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9uc1twZXJtaXNzaW9uSW5kZXhdLmNoZWNrZWQsXG4gICAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5wZXJtaXNzaW9uc1twZXJtaXNzaW9uSW5kZXhdLmNoZWNrZWR3cml0ZVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0uY2hlY2tlZCAhPT1cbiAgICAgIHRoaXMuZ2V0Q2hlY2tlZCh0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnMpXG4gICAgKSB7XG4gICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0uY2hlY2tlZCA9IHRoaXMuZ2V0Q2hlY2tlZChcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLnBlcm1pc3Npb25zXG4gICAgICApO1xuICAgICAgdGhpcy5zZXRTZWxlY3RlZFBlcm1pc2lvbnMoXG4gICAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5jaGVja2VkLFxuICAgICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0uaWQsXG4gICAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5jaGVja2VkLFxuICAgICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0uY2hlY2tlZHdyaXRlXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoXG4gICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0uY2hlY2tlZHdyaXRlICE9PVxuICAgICAgdGhpcy5nZXRDaGVja2VkV3JpdGUodGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLnBlcm1pc3Npb25zKVxuICAgICkge1xuICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLmNoZWNrZWR3cml0ZSA9IHRoaXMuZ2V0Q2hlY2tlZFdyaXRlKFxuICAgICAgICB0aGlzLnBlcm1pc3Npb25zW3BhZ2VJbmRleF0ucGVybWlzc2lvbnNcbiAgICAgICk7XG4gICAgICB0aGlzLnNldFNlbGVjdGVkUGVybWlzaW9ucyhcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLmNoZWNrZWQsXG4gICAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5pZCxcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9uc1twYWdlSW5kZXhdLmNoZWNrZWQsXG4gICAgICAgIHRoaXMucGVybWlzc2lvbnNbcGFnZUluZGV4XS5jaGVja2Vkd3JpdGVcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgc2VsZWN0QWxsQWNjZXNzKHZhbHVlOiBib29sZWFuKSB7XG4gICAgaWYgKHZhbHVlID09PSBmYWxzZSkge1xuICAgICAgdGhpcy5jaGVja2VkUm9sZXNBcnIgPSBbXVxuICAgIH1cbiAgICB0aGlzLnBlcm1pc3Npb25zLmZvckVhY2goKHBhZ2U6IGFueSkgPT4ge1xuICAgICAgcGFnZS5jaGVja2VkID0gdmFsdWU7XG4gICAgICB0aGlzLnNldFNlbGVjdGVkUGVybWlzaW9ucyh2YWx1ZSwgcGFnZS5pZCwgcGFnZS5jaGVja2VkLCBwYWdlLmNoZWNrZWR3cml0ZSk7XG4gICAgICBpZiAocGFnZSAmJiBwYWdlLnBlcm1pc3Npb25zKSB7XG4gICAgICAgIHBhZ2UucGVybWlzc2lvbnMuZm9yRWFjaCgocGVybWlzc2lvbjogYW55KSA9PiB7XG4gICAgICAgICAgcGVybWlzc2lvbi5jaGVja2VkID0gdmFsdWU7XG4gICAgICAgICAgdGhpcy5zZXRTZWxlY3RlZFBlcm1pc2lvbnModmFsdWUsIHBlcm1pc3Npb24uaWQsIHBlcm1pc3Npb24uY2hlY2tlZCwgcGVybWlzc2lvbi5jaGVja2Vkd3JpdGUpO1xuICAgICAgICAgIGlmIChwZXJtaXNzaW9uICYmIHBlcm1pc3Npb24ucGVybWlzc2lvbnM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgcGVybWlzc2lvbi5wZXJtaXNzaW9ucy5mb3JFYWNoKChwcml2aWxlZ2U6IGFueSkgPT4ge1xuICAgICAgICAgICAgICBwcml2aWxlZ2UuY2hlY2tlZCA9IHZhbHVlO1xuICAgICAgICAgICAgICBwcml2aWxlZ2UuY2hlY2tlZHdyaXRlID0gdmFsdWU7XG4gICAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRQZXJtaXNpb25zKHZhbHVlLCBwcml2aWxlZ2UuaWQsIHByaXZpbGVnZS5jaGVja2VkLCBwcml2aWxlZ2UuY2hlY2tlZHdyaXRlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBhZGROZXdSb2xlKGlkOiBzdHJpbmcpIHtcbiAgICB0aGlzLnBlcm1pc3Npb25zID0gW107XG4gICAgdGhpcy5mb3JtU3VibWl0ID0gZmFsc2U7XG4gICAgdGhpcy5wZXJtaXNzaW9uQWxsb3cgPSBmYWxzZTtcbiAgICB0aGlzLnJvbGVzU2VydmljZS5nZXRQZXJtaXNzaW9uUm9sZUJ5SWQoaWQpLnN1YnNjcmliZShcbiAgICAgIChyZXM6IGFueSkgPT4ge1xuICAgICAgICB0aGlzLnBlcm1pc3Npb25BbGxvdyA9IHRydWU7XG4gICAgICAgIHRoaXMucGVybWlzc2lvbnMgPSByZXNbJ2RhdGEnXTtcbiAgICAgIH0sXG4gICAgICAoZXJyOiBhbnkpID0+IGNvbnNvbGUubG9nKGVycilcbiAgICApO1xuICB9XG5cbiAgc2V0U2VsZWN0ZWRQZXJtaXNpb25zKF9zZWxlY3RlZDogYm9vbGVhbiwgaWQ6IG51bWJlciwgYWxsb3c6IGJvb2xlYW4sIHdyaXRlOiBib29sZWFuKSB7XG4gICAgY29uc3QgaW5kZXggPSB0aGlzLnNlbGVjdGVkUGVybWlzc2lvbnNHcm91cC5maW5kSW5kZXgocmVzID0+IHJlcy5pZCA9PT0gaWQpO1xuICAgIGlmIChpbmRleCA9PT0gLTEgJiYgYWxsb3cpIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWRQZXJtaXNzaW9uc0dyb3VwLnB1c2goeyBpZCwgYWxsb3csIHdyaXRlIH0pO1xuICAgIH0gZWxzZSBpZiAoIWFsbG93ICYmICF3cml0ZSAmJiBpbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWRQZXJtaXNzaW9uc0dyb3VwLnNwbGljZShpbmRleCwgMSk7XG4gICAgfSBlbHNlIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMuc2VsZWN0ZWRQZXJtaXNzaW9uc0dyb3VwID0gdGhpcy5zZWxlY3RlZFBlcm1pc3Npb25zR3JvdXAubWFwKGkgPT4ge1xuICAgICAgICBpZiAoaS5pZCA9PT0gaWQpIHtcbiAgICAgICAgICBpLndyaXRlID0gd3JpdGU7XG4gICAgICAgICAgaS5hbGxvdyA9IGFsbG93O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcmVzZXRSZXBvcnREYXNoYm9hcmRMaXN0KCkge1xuICAgIHRoaXMucmVwb3J0RGFzaGJvYXJkTGlzdCA9IHRoaXMuZHVwbGljYXRlcmVwb3J0RGFzaGJvYXJkTGlzdDtcbiAgfVxuXG4gIGFkZFJvbGUoKSB7XG4gICAgdGhpcy5mb3JtU3VibWl0ID0gdHJ1ZTtcbiAgICBsZXQgZGF0YSA9IHRoaXMucm9sZUZvcm0uZ2V0UmF3VmFsdWUoKTtcbiAgICBpZiAodGhpcy5yb2xlRm9ybS52YWxpZCkge1xuICAgICAgY29uc3QgZG9zc2llckNvbmZpZyA9IHRoaXMucmVwb3J0RGFzaGJvYXJkTGlzdD8uZmlsdGVyKChkb3NzaWVyOiBhbnkpID0+IGRvc3NpZXIuaWQgPT09IGRhdGEuZG9zc2llcmlkKT8ubWFwKChhOiBhbnkpID0+ICh7XG4gICAgICAgIGlkOiBhLmlkLFxuICAgICAgICBwcm9qZWN0SWQ6IGEucHJvamVjdElkXG4gICAgICB9KSlbMF07XG4gICAgICBkYXRhLnByaW9yaXR5ID0gdGhpcy5lbnZpcm9ubWVudC5wcmlvcml0eTtcbiAgICAgIGRhdGEuYXBwbGljYXRpb25pZCA9IHRoaXMuZW52aXJvbm1lbnQuYXBwbGljYXRpb25pZDtcbiAgICAgIGRhdGEucGFyZW50aWQgPSAyO1xuICAgICAgZGF0YS5wZXJtaXNzaW9ucyA9IHRoaXMuc2VsZWN0ZWRQZXJtaXNzaW9uc0dyb3VwO1xuICAgICAgZGF0YS5kb3NzaWVyaWQgPSBKU09OLnN0cmluZ2lmeShkb3NzaWVyQ29uZmlnKTtcbiAgICAgIGRhdGEgPSBPYmplY3QuYXNzaWduKHsgb3JnYW5pemF0aW9uaWQ6IHRoaXMub3JnSWQgfSwgZGF0YSk7XG4gICAgICBpZiAodGhpcy5yb2xlSWQpIHtcbiAgICAgICAgZGF0YS5pZCA9IE51bWJlcih0aGlzLnJvbGVJZCk7XG4gICAgICAgIHRoaXMucm9sZXNTZXJ2aWNlLnVwZGF0ZVJvbGUodGhpcy5yb2xlSWQsIGRhdGEpLnN1YnNjcmliZShcbiAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmdldFJvbGVMaXN0KCk7XG4gICAgICAgICAgICB0aGlzLm1hcFBvbGljeUdyb3VwVG9Sb2xlKHRoaXMucm9sZUlkLCBkYXRhLnBvbGljeUdyb3VwSWQpO1xuICAgICAgICAgICAgdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnUm9sZSB1cGRhdGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgKGVycjogYW55KSA9PiB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcihlcnIuZXJyb3IubWVzc2FnZSlcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGEuaWQgPSAwO1xuICAgICAgICBkYXRhLnByaW9yaXR5ID0gdGhpcy5lbnZpcm9ubWVudC5wcmlvcml0eTtcbiAgICAgICAgdGhpcy5yb2xlc1NlcnZpY2UuY3JlYXRlUm9sZShkYXRhKS5zdWJzY3JpYmUoXG4gICAgICAgICAgKHJlczogYW55KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbCgpO1xuICAgICAgICAgICAgaWYgKGRhdGEucG9saWN5R3JvdXBJZCkge1xuICAgICAgICAgICAgICB0aGlzLm1hcFBvbGljeUdyb3VwVG9Sb2xlKHJlc1snZGF0YSddLCBkYXRhLnBvbGljeUdyb3VwSWQsICdhZGQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLnN1Y2Nlc3MoJ1JvbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgICB0aGlzLmdldFJvbGVMaXN0KCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICAoZXJyOiBhbnkpID0+IHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKGVyci5lcnJvci5tZXNzYWdlKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIG1hcFBvbGljeUdyb3VwVG9Sb2xlKGlkOiBudW1iZXIsIGRhdGE6IFtdLCBhY3Rpb24/OiBzdHJpbmcpIHtcbiAgICBpZiAoYWN0aW9uID09PSAnYWRkJykge1xuICAgICAgdGhpcy5yb2xlc1NlcnZpY2UuY3JlYXRlUG9saWN5R3JvdXBGb3JSb2xlKGlkLCBkYXRhKS5zdWJzY3JpYmUoXG4gICAgICAgICgpID0+IGNvbnNvbGUubG9nKCdwb2xpY3kgZ3JvdXAgbWFwcGVkIHRvIHJvbGUgc3VjY2Vzc2Z1bGx5JyksXG4gICAgICAgIChfZXJyOiBhbnkpID0+IHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKEFwcENvbnN0YW50cy5lcnJvck1lc3NhZ2UpXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnJvbGVzU2VydmljZS51cGRhdGVQb2xpY3lHcm91cEZvclJvbGUoaWQsIGRhdGEpLnN1YnNjcmliZShcbiAgICAgICAgKCkgPT4gY29uc29sZS5sb2coJ3BvbGljeSBncm91cCBtYXBwZWQgdG8gcm9sZSBzdWNjZXNzZnVsbHknKSxcbiAgICAgICAgKF9lcnI6IGFueSkgPT4gdGhpcy5hbGVydFNlcnZpY2UuZXJyb3IoQXBwQ29uc3RhbnRzLmVycm9yTWVzc2FnZSlcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgZ2V0UmV0dXJuVmFsdWUoYXJyYXk6IEFycmF5PGFueT4gPSBbXSwgdHlwZT86IHN0cmluZykge1xuICAgIHJldHVybiB0eXBlID09PSAnaWQnXG4gICAgICA/IGFycmF5Lm1hcCgoeyBpZCB9KSA9PiBpZClcbiAgICAgIDogYXJyYXkubWFwKGlkID0+IHtcbiAgICAgICAgcmV0dXJuIHsgaWQgfTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZ2V0Q2hlY2tlZChpdGVtOiBBcnJheTxhbnk+KSB7XG4gICAgcmV0dXJuIGl0ZW0uZmlsdGVyKCh7IGNoZWNrZWQgfSkgPT4gY2hlY2tlZCkubGVuZ3RoID4gMDtcbiAgfVxuICBnZXRDaGVja2VkV3JpdGUoaXRlbTogQXJyYXk8YW55Pikge1xuICAgIHJldHVybiBpdGVtLmZpbHRlcigoeyBjaGVja2Vkd3JpdGUgfSkgPT4gY2hlY2tlZHdyaXRlKS5sZW5ndGggPiAwO1xuICB9XG5cbiAgY2FuY2VsKCkge1xuICAgIHRoaXMucm9sZUZvcm0ucmVzZXQoKTtcbiAgICB0aGlzLnJvbGVGb3JtLmVuYWJsZSgpO1xuICAgIHRoaXMucGVybWlzc2lvbnMgPSBbXTtcbiAgICB0aGlzLmZvcm1TdWJtaXQgPSBmYWxzZTtcbiAgICB0aGlzLnBlcm1pc3Npb25BbGxvdyA9IGZhbHNlO1xuICAgIHRoaXMucm9sZUlkID0gMDtcbiAgICB0aGlzLnZhbGlkYXRpb25FcnJvcnMgPSB7fTtcbiAgICB0aGlzLmZpbHRlcmVkUm9sZUxpc3QgPSB0aGlzLnJvbGVMaXN0O1xuICAgIHRoaXMucG9saWN5R3JvdXBzTGVuZ3RoID0gMDtcbiAgfVxuXG4gIGRlbGV0ZShldmVudDogRXZlbnQsIGlkOiBhbnksIGl0ZW06IGFueSkge1xuICAgIGlmIChpdGVtPy5hY3RpdmVfdXNlciAhPT0gbnVsbCkge1xuICAgICAgdGhpcy5kZWxldGVhY3RpdmVfdXNlciA9IGZhbHNlO1xuICAgICAgdGhpcy5kZWxldGVhY3RpdmVfYnV0dG9ub2sgPSBmYWxzZTtcbiAgICAgIC8vIFBlcmZvcm0gYWN0aW9uIHdoZW4gYWN0aXZlX3VzZXIgaXMgbm90IG51bGxcbiAgICAgIGNvbnNvbGUubG9nKCdEZWxldGluZyBSb2xlIHdpdGggYWN0aXZlIHVzZXInKTtcbiAgICAgIHRoaXMubW9kYWxDb250ZW50ID0gJ1RoaXMgUm9sZSBpcyBjdXJyZW50bHkgYXNzb2NpYXRlZCB3aXRoIGFjdGl2ZSB1c2Vycy4gRGUtbGluayB1c2VycyBmcm9tIHRoaXMgUm9sZSwgdG8gcHJvY2VlZCB3aXRoIGRlbGV0aW5nLic7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFBlcmZvcm0gYWN0aW9uIHdoZW4gYWN0aXZlX3VzZXIgaXMgbnVsbFxuICAgICAgY29uc29sZS5sb2coJ0RlbGV0aW5nIFJvbGUnKTtcbiAgICAgIHRoaXMubW9kYWxDb250ZW50ID0gJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhlIFJvbGU/JztcbiAgICAgIHRoaXMuZGVsZXRlYWN0aXZlX3VzZXIgPSB0cnVlO1xuICAgICAgdGhpcy5kZWxldGVhY3RpdmVfYnV0dG9ub2sgPSB0cnVlO1xuICAgIH1cbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB0aGlzLmRlbGV0ZWRJZCA9IGlkO1xuICAgICQoJyNEZWxldGV1c2VyJykubW9kYWwoJ3Nob3cnKTtcbiAgfVxuXG4gIGRlbGV0ZVJvbGUoKSB7XG4gICAgdGhpcy5yb2xlc1NlcnZpY2UuZGVsZXRlUm9sZSh0aGlzLmRlbGV0ZWRJZCkuc3Vic2NyaWJlKFxuICAgICAgKCkgPT4ge1xuICAgICAgICB0aGlzLmNhbmNlbCgpO1xuICAgICAgICB0aGlzLmFsZXJ0U2VydmljZS5zdWNjZXNzKCdSb2xlIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICQoJyNEZWxldGV1c2VyJykubW9kYWwoJ2hpZGUnKTtcbiAgICAgICAgdGhpcy5nZXRSb2xlTGlzdCgpO1xuICAgICAgfSxcbiAgICAgIChfZXJyOiBhbnkpID0+IHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKCdGYWlsZWQgdG8gZGVsZXRlIFJvbGUnKVxuICAgICk7XG4gIH1cblxuICBhc3luYyBnZXRSZXBvcnREYXNoYm9hcmQoKSB7XG4gICAgdGhpcy5yZXBvcnREYXNoYm9hcmRMaXN0ID0gYXdhaXQgdGhpcy5tc3RyU2VydmljZS5nZXRMaWJyYXJ5RGV0YWlscygpO1xuICAgIHRoaXMuZHVwbGljYXRlcmVwb3J0RGFzaGJvYXJkTGlzdCA9IGF3YWl0IHRoaXMubXN0clNlcnZpY2UuZ2V0TGlicmFyeURldGFpbHMoKTtcbiAgfVxuXG4gIC8vIHJvbGVWYWxpZGF0aW9uKCk6IGFueSB7XG4gIC8vICAgaWYgKCF0aGlzLnJvbGVGb3JtLnZhbHVlLmRvc3NpZXJpZCkge1xuICAvLyAgICAgdGhpcy5hbGVydFNlcnZpY2Uud2FybignUGxlYXNlIGZpbGwgYWxsIHJlcXVpcmVkIGZpZWxkcycpO1xuICAvLyAgICAgcmV0dXJuIGZhbHNlO1xuICAvLyAgIH1cbiAgLy8gICByZXR1cm4gdHJ1ZTtcbiAgLy8gfVxuICBvbk1vZGVsUm9sZSh2YWx1ZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5tb2RlbFJvbGVOYW1lID0gdmFsdWU7XG4gIH1cblxuICBzZWFyY2hMYW5kaW5nUGFnZUxpc3QoZXZlbnQ6IEV2ZW50KSB7XG4gICAgY29uc3QgdmFsdWUgPSAoZXZlbnQudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgdGhpcy5kdWJsaWNhdGVMYW5kaW5nUGFnZSA9IHRoaXMubGFuZGluZ1BhZ2UuZmlsdGVyKChhOiBhbnkpID0+IGE/Lm5hbWU/LnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCh2YWx1ZSkpO1xuICB9XG5cbiAgcmVzZXRMYW5kaW5nUGFnZUxpc3QoKSB7XG4gICAgdGhpcy5kdWJsaWNhdGVMYW5kaW5nUGFnZSA9IHRoaXMubGFuZGluZ1BhZ2U7XG4gIH1cblxuICBhY3RpdmF0ZU1lbnUoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQuaXRlbS5sYWJlbCA9PSAnUGVybWlzc2lvbnMnKSB7XG4gICAgICB0aGlzLmZpcnN0VGFiID0gdHJ1ZTtcbiAgICAgIHRoaXMuY2xlYXJQZXJtaXNzaW9uKClcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5maXJzdFRhYiA9IGZhbHNlO1xuICAgICAgdGhpcy5nZXRQYWdlSW5mb3JtYXRpb24oKTtcbiAgICB9XG4gIH1cblxuICBnZXRQYWdlSW5mb3JtYXRpb24oKSB7XG4gICAgdGhpcy5wZXJtaXNzaW9uU2VydmljZS5nZXRBbGxQYWdlcyh0aGlzLnJvbGVJZCkuc3Vic2NyaWJlKChyZXM6IGFueSkgPT4ge1xuICAgICAgdGhpcy5tZW51TGlzdCA9IHJlcz8uZGF0YTtcbiAgICAgIHJlcy5kYXRhLm1hcCgoaXRlbSwgaW5kZXgpID0+IHtcbiAgICAgICAgaXRlbS5sYWJlbCA9IGl0ZW0ubmFtZVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMubmVzdGVkRGF0YSgpO1xuICAgICAgY29uc29sZS5sb2codGhpcy5tYWluTWVudUxpc3QpO1xuICAgICAgLy8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Jlc3VsdCcpLmlubmVySFRNTCA9IHRoaXMuYnVpbGROYXZpZ2F0aW9uKHRoaXMubWVudUxpc3QpO1xuXG4gICAgICAvLyByZXMuZGF0YS5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7XG4gICAgICAvLyAgIGlmIChpdGVtLnBhcmVudGlkID09IG51bGwpIHtcbiAgICAgIC8vICAgICBsZXQgb2JqID0ge1xuICAgICAgLy8gICAgICAga2V5IDogMSxcbiAgICAgIC8vICAgICAgIGlkOiBpdGVtLmlkLFxuICAgICAgLy8gICAgICAgcGFyZW50aWQ6IGl0ZW0ucGFyZW50aWQsXG4gICAgICAvLyAgICAgICBsYWJlbDogaXRlbS5uYW1lLFxuICAgICAgLy8gICAgICAgZGF0YTogJ0RvY3VtZW50cyBGb2xkZXInLFxuICAgICAgLy8gICAgICAgaWNvbjogJ3BpIHBpLWZ3IHBpLWluYm94JyxcbiAgICAgIC8vICAgICAgIGNoaWxkcmVuOiBbXVxuICAgICAgLy8gICAgIH1cbiAgICAgIC8vICAgICB0aGlzLm1haW5NZW51TGlzdC5wdXNoKG9iailcbiAgICAgIC8vICAgfVxuICAgICAgLy8gfSk7XG5cbiAgICAgIC8vIHRoaXMubWFpbk1lbnVMaXN0Lm1hcCgobWVudSwgaW5kZXgxKSA9PiB7XG4gICAgICAvLyAgIHRoaXMubWVudUxpc3QubWFwKChsaXN0LCBpbmRleCkgPT4ge1xuICAgICAgLy8gICAgIGlmIChsaXN0Py5wYXJlbnRpZCA9PSBtZW51Py5pZCkge1xuICAgICAgLy8gICAgICAgbGV0IG9iaiA9IHtcbiAgICAgIC8vICAgICAgICAga2V5IDogMixcbiAgICAgIC8vICAgICAgICAgaWQ6IGxpc3QuaWQsXG4gICAgICAvLyAgICAgICAgIHBhcmVudGlkOiBsaXN0LnBhcmVudGlkLFxuICAgICAgLy8gICAgICAgICBsYWJlbDogbGlzdC5uYW1lLFxuICAgICAgLy8gICAgICAgICBkYXRhOiAnRG9jdW1lbnRzIEZvbGRlcicsXG4gICAgICAvLyAgICAgICAgIGljb246ICdwaSBwaS1mdyBwaS1pbmJveCcsXG4gICAgICAvLyAgICAgICAgIGNoaWxkcmVuOiBbXVxuICAgICAgLy8gICAgICAgfVxuICAgICAgLy8gICAgICAgdGhpcy5tYWluTWVudUxpc3RbaW5kZXgxXS5jaGlsZHJlbi5wdXNoKG9iaik7XG4gICAgICAvLyAgICAgfVxuICAgICAgLy8gICB9KVxuICAgICAgLy8gfSlcblxuICAgICAgLy8gdGhpcy5tYWluTWVudUxpc3QubWFwKChtZW51LCBpbmRleDEpID0+IHtcbiAgICAgIC8vICAgbWVudS5jaGlsZHJlbi5tYXAoKHN1Yml0ZW0sIHN1YmluZGV4KSA9PiB7XG4gICAgICAvLyAgICAgdGhpcy5tZW51TGlzdC5tYXAoKGxpc3QsIGluZGV4KSA9PiB7XG4gICAgICAvLyAgICAgICBpZihsaXN0LnBhcmVudGlkID09IHN1Yml0ZW0uaWQpXG4gICAgICAvLyAgICAgICB7XG4gICAgICAvLyAgICAgICAgIGxldCBvYmogPSB7XG4gICAgICAvLyAgICAgICAgICAgICBrZXkgOiAzLFxuICAgICAgLy8gICAgICAgICAgICAgaWQ6IGxpc3QuaWQsXG4gICAgICAvLyAgICAgICAgICAgICBwYXJlbnRpZDogbGlzdC5wYXJlbnRpZCxcbiAgICAgIC8vICAgICAgICAgICAgIGxhYmVsOiBsaXN0Lm5hbWUsXG4gICAgICAvLyAgICAgICAgICAgICBkYXRhOiAnRG9jdW1lbnRzIEZvbGRlcicsXG4gICAgICAvLyAgICAgICAgICAgICBpY29uOiAncGkgcGktZncgcGktaW5ib3gnLFxuICAgICAgLy8gICAgICAgICAgIH1cbiAgICAgIC8vICAgICAgICAgICBzdWJpdGVtLmNoaWxkcmVuLnB1c2gob2JqKTtcbiAgICAgIC8vICAgICAgIH1cblxuICAgICAgLy8gICAgIH0pXG4gICAgICAvLyAgIH0pXG4gICAgICAvLyB9KVxuXG5cblxuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlTWVudU9yZGVyKCkge1xuICAgIHRoaXMubWFpbk1lbnVMaXN0LmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBsZXQgZGF0YSA9IHtcbiAgICAgICAgJ21lbnVvcmRlcic6IGluZGV4ICsgMSxcbiAgICAgICAgJ2lkJzogZWxlbWVudC5yb2xlcGVybWlzc2lvbmlkLFxuICAgICAgICAncm9sZWlkJzogdGhpcy5yb2xlSWRcblxuICAgICAgfVxuICAgICAgdGhpcy5yZUFycmFuZ2VkTGlzdC5wdXNoKGRhdGEpXG4gICAgICBpZiAoZWxlbWVudD8uY2hpbGRyZW4/Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgZWxlbWVudD8uY2hpbGRyZW4/LmZvckVhY2goKGNoaWxkZWxlbWVudCwgY2hpbGRpbmRleCkgPT4ge1xuICAgICAgICAgIGxldCBjaGlsZGRhdGEgPSB7XG4gICAgICAgICAgICAnbWVudW9yZGVyJzogY2hpbGRpbmRleCArIDEsXG4gICAgICAgICAgICAnaWQnOiBjaGlsZGVsZW1lbnQucm9sZXBlcm1pc3Npb25pZCxcbiAgICAgICAgICAgICdyb2xlaWQnOiB0aGlzLnJvbGVJZFxuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnJlQXJyYW5nZWRMaXN0LnB1c2goY2hpbGRkYXRhKVxuICAgICAgICAgIGlmIChjaGlsZGVsZW1lbnQ/LmNoaWxkcmVuPy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjaGlsZGVsZW1lbnQ/LmNoaWxkcmVuPy5mb3JFYWNoKChjaGlsZHJlbmVsZW1lbnQsIGNoaWxkcmVuaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgbGV0IGNoaWxkcmVuZGF0YSA9IHtcbiAgICAgICAgICAgICAgICAnbWVudW9yZGVyJzogY2hpbGRyZW5pbmRleCArIDEsXG4gICAgICAgICAgICAgICAgJ2lkJzogY2hpbGRyZW5lbGVtZW50LnJvbGVwZXJtaXNzaW9uaWQsXG4gICAgICAgICAgICAgICAgJ3JvbGVpZCc6IHRoaXMucm9sZUlkXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhpcy5yZUFycmFuZ2VkTGlzdC5wdXNoKGNoaWxkcmVuZGF0YSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc29sZS5sb2coJ3RoaXMucmVhcnJhbmdlbGlzdCcsIHRoaXMucmVBcnJhbmdlZExpc3QpO1xuICAgIHRoaXMucGVybWlzc2lvblNlcnZpY2UudXBkYXRlTWVudU9yZGVyKHsgcGFnZXM6IHRoaXMucmVBcnJhbmdlZExpc3QgfSkuc3Vic2NyaWJlKChyZXM6IGFueSkgPT4ge1xuICAgICAgLy8gdGhpcy5hbGVydFNlcnZpY2Uuc3VjY2VzcygnVXBkYXRlZCBTdWNjZXNzZnVsbHkhJyk7XG4gICAgICAvLyB0aGlzLlNlcnZpY2Uuc2VuZFVwZGF0ZSgnVXBkYXRlZCBTdWNjZXNzZnVsbHknKTtcbiAgICAgIC8vIHRoaXMuZ2V0UGFnZUluZm9ybWF0aW9uKCk7XG4gICAgICAvLyBmb3Igcm9sZSBkZXRhaWxzIHVwZGF0ZVxuICAgICAgdGhpcy5hZGRSb2xlKCk7XG4gICAgICBjb25zdCB1c2VyUm9sZSA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3JvbGVfaWQnKTtcbiAgICAgIGlmIChOdW1iZXIodXNlclJvbGUpID09PSB0aGlzLnJvbGVJZCkge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBub2RlRHJvcChldmVudCkge1xuICAgIGlmIChldmVudC5vcmlnaW5hbEV2ZW50LnRhcmdldC5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaWYgKGV2ZW50LmRyYWdOb2RlLnBhcmVudGlkID09IGV2ZW50LmRyb3BOb2RlLnBhcmVudGlkKSB7XG4gICAgICAgIGV2ZW50LmFjY2VwdCgpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHRoaXMuYWxlcnRTZXJ2aWNlLmVycm9yKCdOb3QgQWxsb3dlZCB0byBEcm9wJyk7XG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZygndGhpcy5tYWluTWVudUxpc3QnLCB0aGlzLm1haW5NZW51TGlzdClcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0aGlzLmFsZXJ0U2VydmljZS5lcnJvcignTm90IEFsbG93ZWQgdG8gRHJvcCcpO1xuICAgIH1cbiAgfVxuXG4gIHNlbGVjdFBvbGljeUdyb3VwKCkge1xuICAgIHRoaXMucG9saWN5R3JvdXBzTGVuZ3RoID0gdGhpcy5yb2xlRm9ybS52YWx1ZS5wb2xpY3lHcm91cElkLmxlbmd0aDtcbiAgfVxufVxuIiwiPGFwcC1hbGVydD48L2FwcC1hbGVydD5cbjxkaXYgY2xhc3M9XCJwZXJtaXNzaW9uXCI+XG4gIDxkaXYgY2xhc3M9XCJyb3dcIiBbZm9ybUdyb3VwXT1cInJvbGVGb3JtXCI+XG4gICAgPGRpdiBjbGFzcz1cImNvbC1sZy00IGNvbC1tZC02IGNvbC0xMlwiPlxuICAgICAgPGRpdiBjbGFzcz1cImNsZWFyZml4XCI+PC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwidGFiLWNvbnRlbnQgcHktMiBweC0yIHB4LXNtLTBcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInRhYi1wYW5lIGZhZGUgc2hvdyBhY3RpdmVcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBiZ2ljb25zZWFyY2ggZC1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiPiA8IS0tIE1vZGlmaWVkIGxpbmUgLS0+XG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInAtaW5wdXQtaWNvbi1yaWdodCB3LTEwMFwiPlxuICAgICAgICAgICAgICA8aSBjbGFzcz1cInBpIHBpLXRpbWVzLWNpcmNsZVwiIChjbGljayk9XCJjbGVhclNlYXJjaCgkZXZlbnQpXCI+PC9pPlxuICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIiBmaWVsZEtleT1cIlNFVFRJTkdTX1JPTF9TRUFSQ0hfQllfTkFNRVwiIHBsYWNlaG9sZGVyPVwiU2VhcmNoIGJ5IFJvbGUgbmFtZVwiXG4gICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIiAoa2V5dXApPVwic2VhcmNoUm9sZSgkZXZlbnQpXCIgLz5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGJ0bmNvbW1vbiBtbC0yXCIgZmllbGRLZXk9XCJTRVRUSU5HU19ST0xfQUREX05FV1wiXG4gICAgICAgICAgICAgIChjbGljayk9XCJvbkNsaWNrQWRkUm9sZSgpXCI+QWRkPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNsZWFyZml4XCI+PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInVzZXJhY2Vzc1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBoLTEwMCB3LTEwMCBuZy1zdGFyLWluc2VydGVkXCJcbiAgICAgICAgICAgICAgKm5nSWY9XCIhZmlsdGVyZWRSb2xlTGlzdC5sZW5ndGhcIj5cbiAgICAgICAgICAgICAgPHA+Tm8gUmVjb3JkIEZvdW5kPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBpdGVtIG9mIGZpbHRlcmVkUm9sZUxpc3RcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvdyB1c2VyZGF0YSBhbGlnbi1pdGVtcy1jZW50ZXJcIiAoY2xpY2spPVwiZ2V0Um9sZUluZm8oaXRlbS5pZClcIlxuICAgICAgICAgICAgICAgIFtuZ0NsYXNzXT1cInsgYWN0aXZlOiAraXRlbS5pZCA9PT0gcm9sZUlkIH1cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTEwIGNvbC1zbS0xMCBjb2wtMTAgb3ZlcmZsb3dfdHh0XCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm5hbWV1c2VyXCI+e3sgaXRlbS5uYW1lIH19PC9zcGFuPiA8YnIgLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLW1kLTIgdGV4dC1yaWdodFwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJyaWdodC1pY29uc1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZW0gY2xhc3M9XCJmYSBmYS10cmFzaCB0ZXh0LXByaW1hcnlcIiAqc2hvd0ZpZWxkPVwiJ1NFVFRJTkdTX1JPTF9ERUxFVEUnXCJcbiAgICAgICAgICAgICAgICAgICAgICAoY2xpY2spPVwiZGVsZXRlKCRldmVudCwgaXRlbS5pZCwgaXRlbSlcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2VtPlxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJjb2wtbGctOCBjb2wtbWQtNiBjb2wtMTIgcm9sZXMtcmlnaHQgZ3JvdXAtcm9sZSBtdC0yXCI+XG4gICAgICA8cC1jYXJkIGNsYXNzPVwicmJhYy1jYXJkXCIgW3N0eWxlXT1cInsgd2lkdGg6ICcxMDAlJywgJ21hcmdpbi1ib3R0b20nOiAnMmVtJyB9XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzdHJpcF9oZWFkIHRvZ2dsZWxlZnRcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlcG9ydF9oZWFkIGZvbnQtd2VpZ2h0LWJvbGRcIj5Sb2xlIERldGFpbHM8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwicC1mbHVpZCBwLWZvcm1ncmlkIHJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLWZpZWxkIGNvbC1sZy00IGNvbC1tZC0xMiBjb2wtMTJcIj5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJyb2xlc05hbWVcIiBjbGFzcz1cInJlZmVycmFsLWZvcm0tbGFiZWxzXCI+Um9sZSBOYW1lXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicmVxdWlyZWRmaWVsZCB0ZXh0LWRhbmdlclwiPio8L3NwYW4+XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0IGlkPVwicm9sZXNOYW1lXCIgdHlwZT1cInRleHRcIiBmaWVsZEtleT1cIlNFVFRJTkdTX1JPTF9ST0xFX05BTUVcIiBmb3JtQ29udHJvbE5hbWU9XCJuYW1lXCJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciBSb2xlIE5hbWVcIiBhcmlhLWRlc2NyaWJlZGJ5PVwicm9sZXNOYW1lXCIgWyhuZ01vZGVsKV09XCJtb2RlbFJvbGVOYW1lXCJcbiAgICAgICAgICAgICAgKG5nTW9kZWxDaGFuZ2UpPVwib25Nb2RlbFJvbGUoJGV2ZW50KVwiIChpbnB1dCk9XCJvbklucHV0KCRldmVudCwgJ25hbWUnLCAnUm9sZSBOYW1lJywgdHJ1ZSlcIiBwSW5wdXRUZXh0IC8+XG4gICAgICAgICAgICA8ZGl2ICpuZ0lmPVwidmFsaWRhdGlvbkVycm9yc1snUm9sZSBOYW1lJ11cIiBjbGFzcz1cInAtZXJyb3IgYmxvY2sgbXQtMVwiPnt7dmFsaWRhdGlvbkVycm9yc1snUm9sZSBOYW1lJ119fVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiIXZhbGlkYXRpb25FcnJvcnNbJ1JvbGUgTmFtZSddICYmIGZvcm1WYWxpZGF0ZVsnbmFtZSddLmVycm9ycyAmJiBmb3JtU3VibWl0XCI+XG4gICAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJmb3JtVmFsaWRhdGVbJ25hbWUnXS5pbnZhbGlkXCIgY2xhc3M9XCJwLWVycm9yIGJsb2NrIG10LTFcIj5Sb2xlIE5hbWUgaXMgcmVxdWlyZWQgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicC1maWVsZCBjb2wtbGctNCBjb2wtbWQtMTIgY29sLTEyXCI+XG4gICAgICAgICAgICA8bGFiZWwgYXJpYS1sYWJlbGxlZGJ5PVwibGFuZGluZ1BhZ2VcIiBmb3I9XCJsYW5kaW5nUGFnZVwiIGNsYXNzPVwicmVmZXJyYWwtZm9ybS1sYWJlbHNcIj5MYW5kaW5nIFBhZ2UgTWVudVxuICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlcXVpcmVkZmllbGQgdGV4dC1kYW5nZXJcIj4qPC9zcGFuPlxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxwLWRyb3Bkb3duIG5hbWU9XCJsYW5kaW5nUGFnZVwiIFtvcHRpb25zXT1cImR1YmxpY2F0ZUxhbmRpbmdQYWdlXCIgcGxhY2Vob2xkZXI9XCJTZWxlY3QgTGFuZGluZyBQYWdlIE1lbnVcIlxuICAgICAgICAgICAgICBmb3JtQ29udHJvbE5hbWU9XCJkZWZhdWx0cGFnZWlkXCIgZGVmYXVsdExhYmVsPVwiU2VsZWN0IExhbmRpbmcgUGFnZSBNZW51XCIgKG9uSGlkZSk9XCJyZXNldExhbmRpbmdQYWdlTGlzdCgpXCJcbiAgICAgICAgICAgICAgW3Jlc2V0RmlsdGVyT25IaWRlXT1cInRydWVcIiBbZmlsdGVyXT1cInRydWVcIiBmaWx0ZXJCeT1cIm5hbWVcIiAoa2V5dXApPVwic2VhcmNoTGFuZGluZ1BhZ2VMaXN0KCRldmVudClcIlxuICAgICAgICAgICAgICBbc2hvd0NsZWFyXT1cInRydWVcIiBmaWVsZEtleT1cIlNFVFRJTkdTX1JPTF9MQU5ESU5HX1BBR0VcIiBvcHRpb25MYWJlbD1cIm5hbWVcIiBvcHRpb25WYWx1ZT1cImlkXCJcbiAgICAgICAgICAgICAgaW5wdXRJZD1cImxhbmRpbmdQYWdlXCI+XG4gICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSBsZXQtaXRlbSBwVGVtcGxhdGU9XCJzZWxlY3RlZEl0ZW1cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IHBUb29sdGlwPVwie3tpdGVtPy5uYW1lfX1cIiB0b29sdGlwUG9zaXRpb249XCJ0b3BcIiBjbGFzcz1cInRleHQtdHJ1bmNhdGVcIj4ge3sgaXRlbT8ubmFtZSB9fTwvZGl2PlxuICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgbGV0LW9iamVjdCBwVGVtcGxhdGU9XCJpdGVtXCI+XG4gICAgICAgICAgICAgICAge3sgb2JqZWN0Lm5hbWUgfX1cbiAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICAgICAgICAgIDwvcC1kcm9wZG93bj5cbiAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJmb3JtVmFsaWRhdGVbJ2RlZmF1bHRwYWdlaWQnXS5lcnJvcnMgJiYgZm9ybVN1Ym1pdFwiPlxuICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiZm9ybVZhbGlkYXRlWydkZWZhdWx0cGFnZWlkJ10uaW52YWxpZFwiIGNsYXNzPVwicC1lcnJvciBibG9jayBtdC0xXCI+TGFuZGluZyBQYWdlIE1lbnUgaXNcbiAgICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLWZpZWxkIGNvbC1sZy00IGNvbC1tZC0xMiBjb2wtMTJcIj5cbiAgICAgICAgICAgIDxsYWJlbCBhcmlhLWxhYmVsbGVkYnk9XCJkb3NzaWVySWRcIiBmb3I9XCJkb3NzaWVySWRcIiBjbGFzcz1cInJlZmVycmFsLWZvcm0tbGFiZWxzXCI+UmVwb3J0IERhc2hib2FyZDwvbGFiZWw+XG4gICAgICAgICAgICA8cC1kcm9wZG93biBbb3B0aW9uc109XCJyZXBvcnREYXNoYm9hcmRMaXN0XCIgb3B0aW9uTGFiZWw9XCJuYW1lXCIgaWQ9XCJkb3NzaWVyaWRcIiBbcmVzZXRGaWx0ZXJPbkhpZGVdPVwidHJ1ZVwiXG4gICAgICAgICAgICAgIFtmaWx0ZXJdPVwidHJ1ZVwiIFtzaG93Q2xlYXJdPVwidHJ1ZVwiIG9wdGlvblZhbHVlPVwiaWRcIiBwbGFjZWhvbGRlcj1cIlNlbGVjdCBJRFwiIGZvcm1Db250cm9sTmFtZT1cImRvc3NpZXJpZFwiPlxuICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgbGV0LWl0ZW0gcFRlbXBsYXRlPVwic2VsZWN0ZWRJdGVtXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBwVG9vbHRpcD1cInt7aXRlbT8ubmFtZX19XCIgdG9vbHRpcFBvc2l0aW9uPVwidG9wXCIgY2xhc3M9XCJ0ZXh0LXRydW5jYXRlXCI+IHt7IGl0ZW0/Lm5hbWUgfX08L2Rpdj5cbiAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlIGxldC1vYmplY3QgcFRlbXBsYXRlPVwiaXRlbVwiPlxuICAgICAgICAgICAgICAgIHt7IG9iamVjdC5uYW1lIH19XG4gICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgICAgICAgICA8L3AtZHJvcGRvd24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPCEtLSA8ZGl2IGNsYXNzPVwicC1maWVsZCBjb2wtbGctNCBjb2wtbWQtMTIgY29sLTEyXCI+PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicC1maWVsZCBjb2wtbGctNCBjb2wtbWQtMTIgY29sLTEyXCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBidG4gYnRuLXByaW1hcnkgYnRuY29tbW9uIHJlcG9ydF9idXR0b25cIlxuICAgICAgICAgICAgICAgIGZpZWxkS2V5PVwiU0VUVElOR1NfUk9MX0NPTkZJR1VSRV9QRVJNSVNTSU9OXCJcbiAgICAgICAgICAgICAgICAoY2xpY2spPVwiYWRkTmV3Um9sZSgnMScpXCI+XG4gICAgICAgICAgICAgICAgQ29uZmlndXJlIFBlcm1pc3Npb25cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj4gLS0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwicC1mbHVpZCBwLWZvcm1ncmlkIHJvd1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJwLWZpZWxkIGNvbC1tZC0xMiBjb2wtMTJcIj5cbiAgICAgICAgICAgIDxwLWFjY29yZGlvbiBjbGFzcz1cInctZnVsbCBwb2xpY3lncm91cC1hY2NvcmRpb25cIiBpY29uUG9zPVwiZW5kVmFsXCI+XG4gICAgICAgICAgICAgIDxwLWFjY29yZGlvblRhYj5cbiAgICAgICAgICAgICAgICA8bmctdGVtcGxhdGUgcFRlbXBsYXRlPVwiaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImZsZXggYWxpZ24taXRlbXMtY2VudGVyIGhlYWQtdGV4dCBnYXAtMiB3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJmb250LWJvbGRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgYXJpYS1sYWJlbGxlZGJ5PVwicG9saWN5R3JvdXBMaXN0XCIgZm9yPVwicG9saWN5R3JvdXBMaXN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWItMCByZWZlcnJhbC1mb3JtLWxhYmVsc1wiPlBvbGljeVxuICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBzXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInJlcXVpcmVkZmllbGQgdGV4dC1kYW5nZXJcIj4qPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCJwb2xpY3lHcm91cHNMZW5ndGggPiAwXCIgY2xhc3M9XCJwZy1jb3VudCBtbC0yXCI+e3twb2xpY3lHcm91cHNMZW5ndGh9fTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9uZy10ZW1wbGF0ZT5cblxuICAgICAgICAgICAgICAgIDxwLW11bHRpU2VsZWN0IG5hbWU9XCJwb2xpY3lHcm91cExpc3RcIiBbb3B0aW9uc109XCJwb2xpY3lHcm91cExpc3RcIiBmb3JtQ29udHJvbE5hbWU9XCJwb2xpY3lHcm91cElkXCJcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHRMYWJlbD1cIlNlbGVjdCBQb2xpY3kgR3JvdXBzXCIgb3B0aW9uTGFiZWw9XCJwb2xpY3lncm91cG5hbWVcIiBvcHRpb25WYWx1ZT1cImlkXCJcbiAgICAgICAgICAgICAgICAgIChvbkhpZGUpPVwicmVzZXRSZXBvcnREYXNoYm9hcmRMaXN0KClcIiBbcmVzZXRGaWx0ZXJPbkhpZGVdPVwidHJ1ZVwiIGlucHV0SWQ9XCJwb2xpY3lHcm91cExpc3RcIlxuICAgICAgICAgICAgICAgICAgYXJpYUZpbHRlckxhYmVsPVwibnVsbFwiIGZpZWxkS2V5PVwiU0VUVElOR1NfUk9MX1BPTElDWV9HUk9VUFwiIGRpc3BsYXk9XCJjaGlwXCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlQ2xhc3M9XCJwb2xpY3lncm91cC12MiB3LTEwMFwiIChvbkNoYW5nZSk9XCJzZWxlY3RQb2xpY3lHcm91cCgpXCI+XG4gICAgICAgICAgICAgICAgPC9wLW11bHRpU2VsZWN0PlxuICAgICAgICAgICAgICA8L3AtYWNjb3JkaW9uVGFiPlxuICAgICAgICAgICAgPC9wLWFjY29yZGlvbj5cbiAgICAgICAgICAgIDxkaXYgKm5nSWY9XCJmb3JtVmFsaWRhdGVbJ3BvbGljeUdyb3VwSWQnXS5lcnJvcnMgJiYgZm9ybVN1Ym1pdFwiPlxuICAgICAgICAgICAgICA8ZGl2ICpuZ0lmPVwiZm9ybVZhbGlkYXRlWydwb2xpY3lHcm91cElkJ10uaW52YWxpZFwiIGNsYXNzPVwicC1lcnJvciBibG9jayBtdC0xXCI+UG9saWN5IEdyb3VwIGlzIHJlcXVpcmVkXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm10LTJcIiAqbmdJZj1cInBlcm1pc3Npb25BbGxvd1wiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJwdWxsLXJpZ2h0IG1iLTIgbXItMiBidG4gYnRuLXByaW1hcnkgYnRuY29tbW9uXCIgZmllbGRLZXk9XCJTRVRUSU5HU19ST0xfU0VMRUNUX0FMTFwiXG4gICAgICAgICAgICAoY2xpY2spPVwic2VsZWN0QWxsQWNjZXNzKHRydWUpXCI+XG4gICAgICAgICAgICBTZWxlY3QgQWxsXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBmaWVsZEtleT1cIlNFVFRJTkdTX1JPTF9SRVNFVFwiIGNsYXNzPVwicHVsbC1yaWdodCBtYi0yIG1yLTIgYnRuIGJnLXdoaXRlIHRleHQtcHJpbWFyeSBidG5jYW5jZWxcIlxuICAgICAgICAgICAgKGNsaWNrKT1cInNlbGVjdEFsbEFjY2VzcyhmYWxzZSlcIiBbZGlzYWJsZWRdPVwiY2hlY2tlZFJvbGVzQXJyLmxlbmd0aCA9PT0gMFwiPlxuICAgICAgICAgICAgUmVzZXRcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8IS0tIDxiciAvPiAtLT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJzdHJpcF9oZWFkIHRvZ2dsZWxlZnQgYWRqdXN0dG9wXCIgKm5nSWY9XCJwZXJtaXNzaW9uQWxsb3dcIj5cbiAgICAgICAgICA8IS0tIDxzcGFuIGNsYXNzPVwicmVwb3J0X2hlYWQgZm9udC13ZWlnaHQtYm9sZFwiPlBlcm1pc3Npb25zPC9zcGFuPiAtLT5cbiAgICAgICAgICA8cC10YWJNZW51IFttb2RlbF09XCJpdGVtc1wiIFthY3RpdmVJdGVtXT1cImFjdGl2ZUl0ZW1cIj48L3AtdGFiTWVudT5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiAqbmdJZj1cImZpcnN0VGFiXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNsZWFyZml4XCI+PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTIgbWItM1wiPlxuICAgICAgICAgICAgPGRpdiAqbmdJZj1cInBlcm1pc3Npb25BbGxvd1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGVybWlzc2lvbi1maWx0ZXJcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmb3JtLWNvbnRyb2wgY2xlYXJib3hcIiBwbGFjZWhvbGRlcj1cIlNlYXJjaCBieSBQZXJtaXNzaW9ucyBuYW1lXCIgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgKGtleXVwKT1cInNlYXJjaFJvbGVQZXJtaXNzaW9uKCRldmVudClcIiAvPlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwicGkgcGktdGltZXMtY2lyY2xlXCIgKGNsaWNrKT1cImNsZWFyUGVybWlzc2lvbigkZXZlbnQpXCI+PC9pPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImQtZmxleCBhbGlnbi1pdGVtcy1jZW50ZXIganVzdGlmeS1jb250ZW50LWNlbnRlciBoLTEwMCB3LTEwMCBuZy1zdGFyLWluc2VydGVkXCJcbiAgICAgICAgICAgICAgICAqbmdJZj1cIiFmaWx0ZXJQZXJtaXNzaW9ucy5sZW5ndGhcIj5cbiAgICAgICAgICAgICAgICA8cD5ObyBSZWNvcmQgRm91bmQ8L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8cC1hY2NvcmRpb24gY2xhc3M9XCJ3LTEwMFwiPlxuICAgICAgICAgICAgICA8cC1hY2NvcmRpb25UYWIgY2xhc3M9XCJ3LTEwMFwiICpuZ0Zvcj1cImxldCBwYWdlIG9mIHBlcm1pc3Npb25zOyBsZXQgaSA9IGluZGV4XCI+XG4gICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlIHBUZW1wbGF0ZT1cImhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAge3sgcGFnZS5kZXNjcmlwdGlvbiB9fVxuICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlIHBUZW1wbGF0ZT1cImNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkaW5nX2FuYWx5c2lzIGRhdGFtYXJnaW5cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImctY2hlY2tib3ggcGwtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cInN0eWxlZC1jaGVja2JveFwiIGlkPVwiY3VzdG9te3sgaSB9fVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAoY2hhbmdlKT1cInNlbGVjdEFsbFBhZ2UoaSwgJGV2ZW50KVwiIFtjaGVja2VkXT1cInBhZ2U/LmNoZWNrZWRcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJjdXN0b217eyBpIH19XCIgY2xhc3M9XCJoZWFkaW5nX3JvbGVcIj57eyBwYWdlLmRlc2NyaXB0aW9uIH19PC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwibWFyZ2ludWxfbGlzdCBlY21zX3JvbGVzY3JvbGxcIj5cbiAgICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgcGVybWlzc2lvbiBvZiBwYWdlPy5wZXJtaXNzaW9uczsgbGV0IGogPSBpbmRleFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJpc1ByaXZpbGFnZShwZXJtaXNzaW9uKTsgZWxzZSBwZXJtaXNzaW9uT25seVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5uZXJfY2hpbGRhY2Nlc3MgZC1mbGV4IG10LTAgcHktMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWlubGluZS1mbGV4IGFsaWduLWl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZy1jaGVja2JveCBwbC0xIG1iLTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIFtjaGVja2VkXT1cInBlcm1pc3Npb24/LmNoZWNrZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjaGFuZ2UpPVwic2VsZWN0QWxsUHJpdmlsYWdlKGksIGosICRldmVudClcIiBpZD1cImRlc2NyaXB0aW9ue3sgaiB9fVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2hlY2ttYXJrXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJkZXNjcmlwdGlvbnt7IGogfX1cIiBjbGFzcz1cImhlYWRpbmdfcm9sZSBtYi0wXCI+e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbi5kZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cIm1sLTFcIiAqbmdGb3I9XCJsZXQgcHJpdmlsZWdlIG9mIHBlcm1pc3Npb24/LnBlcm1pc3Npb25zOyBsZXQgayA9IGluZGV4XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXhcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wgY3VzdG9tLXN3aXRjaFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIFtjaGVja2VkXT1cInByaXZpbGVnZT8uY2hlY2tlZFwiIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtaW5wdXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cImN1c3RvbVN3aXRjaGVzcm9sZXNze3sgaSB9fXt7IGogfX17eyBrIH19XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cInNlbGVjdFByaXZpbGVnZShpLCBqLCBrLCAkZXZlbnQpXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImN1c3RvbS1jb250cm9sLWxhYmVsXCIgZm9yPVwiY3VzdG9tU3dpdGNoZXNyb2xlc3N7eyBpIH19e3sgaiB9fXt7IGsgfX1cIj57e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcml2aWxlZ2UuZGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX08L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgICAgICAgICAgPG5nLXRlbXBsYXRlICNwZXJtaXNzaW9uT25seT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImN1c3RvbS1jb250cm9sIGN1c3RvbS1zd2l0Y2hcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgW2NoZWNrZWRdPVwicGVybWlzc2lvbj8uY2hlY2tlZFwiIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtaW5wdXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cInNlbGVjdFBhZ2UoaSwgaiwgJGV2ZW50KVwiIGlkPVwiY3VzdG9tU3dpdGNoZXNyb2xlc3t7IGkgfX17eyBqIH19XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjdXN0b20tY29udHJvbC1sYWJlbFwiIGZvcj1cImN1c3RvbVN3aXRjaGVzcm9sZXN7eyBpIH19e3sgaiB9fVwiPnt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJtaXNzaW9uLmRlc2NyaXB0aW9uIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgICAgICAgICA8L3AtYWNjb3JkaW9uVGFiPlxuICAgICAgICAgICAgPC9wLWFjY29yZGlvbj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtbWQtMTIgYm94IGQtbm9uZVwiICpuZ0Zvcj1cImxldCBwYWdlIG9mIHBlcm1pc3Npb25zOyBsZXQgaSA9IGluZGV4XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkaW5nX2FuYWx5c2lzIGRhdGFtYXJnaW5cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiQ3VzdG9tY2hlY2tib3hcIj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cInN0eWxlZC1jaGVja2JveFwiIGlkPVwiY3VzdG9te3sgaSB9fVwiIChjaGFuZ2UpPVwic2VsZWN0QWxsUGFnZShpLCAkZXZlbnQpXCJcbiAgICAgICAgICAgICAgICAgICAgW2NoZWNrZWRdPVwicGFnZT8uY2hlY2tlZFwiIC8+XG4gICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiY3VzdG9te3sgaSB9fVwiIGNsYXNzPVwiaGVhZGluZ19yb2xlXCI+e3sgcGFnZS5kZXNjcmlwdGlvbiB9fTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDx1bCBjbGFzcz1cIm1hcmdpbnVsX2xpc3QgZWNtc19yb2xlc2Nyb2xsXCI+XG4gICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgcGVybWlzc2lvbiBvZiBwYWdlPy5wZXJtaXNzaW9uczsgbGV0IGogPSBpbmRleFwiPlxuICAgICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImlzUHJpdmlsYWdlKHBlcm1pc3Npb24pOyBlbHNlIHBlcm1pc3Npb25Pbmx5XCI+XG4gICAgICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5uZXJfY2hpbGRhY2Nlc3NcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cIkN1c3RvbWNoZWNrYm94XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBbY2hlY2tlZF09XCJwZXJtaXNzaW9uPy5jaGVja2VkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY2hhbmdlKT1cInNlbGVjdEFsbFByaXZpbGFnZShpLCBqLCAkZXZlbnQpXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjaGVja21hcmtcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJoZWFkaW5nX3JvbGVcIj57eyBwZXJtaXNzaW9uLmRlc2NyaXB0aW9uIH19PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICA8bGkgKm5nRm9yPVwibGV0IHByaXZpbGVnZSBvZiBwZXJtaXNzaW9uPy5wZXJtaXNzaW9uczsgbGV0IGsgPSBpbmRleFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjdXN0b20tY29udHJvbCBjdXN0b20tc3dpdGNoXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgW2NoZWNrZWRdPVwicHJpdmlsZWdlPy5jaGVja2VkXCIgY2xhc3M9XCJjdXN0b20tY29udHJvbC1pbnB1dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwiY3VzdG9tU3dpdGNoZXNyb2xlc3N7eyBpIH19e3sgaiB9fXt7IGsgfX1cIiAoY2xpY2spPVwic2VsZWN0UHJpdmlsZWdlKGksIGosIGssICRldmVudClcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtbGFiZWxcIiBmb3I9XCJjdXN0b21Td2l0Y2hlc3JvbGVzc3t7IGkgfX17eyBqIH19e3sgayB9fVwiPnt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByaXZpbGVnZS5kZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICB9fTwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgICAgICAgIDxuZy10ZW1wbGF0ZSAjcGVybWlzc2lvbk9ubHk+XG4gICAgICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wgY3VzdG9tLXN3aXRjaFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIFtjaGVja2VkXT1cInBlcm1pc3Npb24/LmNoZWNrZWRcIiBjbGFzcz1cImN1c3RvbS1jb250cm9sLWlucHV0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKGNsaWNrKT1cInNlbGVjdFBhZ2UoaSwgaiwgJGV2ZW50KVwiIGlkPVwiY3VzdG9tU3dpdGNoZXNyb2xlc3t7IGkgfX17eyBqIH19XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImN1c3RvbS1jb250cm9sLWxhYmVsXCIgZm9yPVwiY3VzdG9tU3dpdGNoZXNyb2xlc3t7IGkgfX17eyBqIH19XCI+e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbi5kZXNjcmlwdGlvbiB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgYnRuIGJ0bi1wcmltYXJ5IGJ0bmNvbW1vblwiIGZpZWxkS2V5PVwiU0VUVElOR1NfUk9MX0FERF9ST0xFXCIgKGNsaWNrKT1cImFkZFJvbGUoKVwiPlxuICAgICAgICAgICAgICB7eyByb2xlSWQgPyAnVXBkYXRlJyA6ICdBZGQnIH19IFJvbGVcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgbXItMiBidG4gYmctd2hpdGUgdGV4dC1wcmltYXJ5IGJ0bmNhbmNlbFwiIGZpZWxkS2V5PVwiU0VUVElOR1NfUk9MX0NBTkNFTFwiXG4gICAgICAgICAgICAgIChjbGljayk9XCJjYW5jZWwoKVwiIFtkaXNhYmxlZF09XCIhZW5hYmxlQnV0dG9uXCI+XG4gICAgICAgICAgICAgIENsZWFyXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiAqbmdJZj1cIiFmaXJzdFRhYlwiPlxuXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQgZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIG10LTRcIj5cbiAgICAgICAgICAgIDxwLXRyZWUgW3ZhbHVlXT1cIm1haW5NZW51TGlzdFwiIFtkcmFnZ2FibGVOb2Rlc109XCJ0cnVlXCIgW2Ryb3BwYWJsZU5vZGVzXT1cInRydWVcIiBkcmFnZ2FibGVTY29wZT1cInNlbGZcIlxuICAgICAgICAgICAgICBkcm9wcGFibGVTY29wZT1cInNlbGZcIiBjbGFzcz1cInctZnVsbCBtZDp3LTMwcmVtXCIgc2VsZWN0aW9uTW9kZT1cInNpbmdsZVwiIFsoc2VsZWN0aW9uKV09XCJzZWxlY3RlZEZpbGVcIlxuICAgICAgICAgICAgICBbdmFsaWRhdGVEcm9wXT1cInRydWVcIiAob25Ob2RlRHJvcCk9XCJub2RlRHJvcCgkZXZlbnQpXCI+PC9wLXRyZWU+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMlwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBidG4gYnRuLXByaW1hcnkgYnRuY29tbW9uXCIgZmllbGRLZXk9XCJTRVRUSU5HU19ST0xfQUREX1JPTEVcIlxuICAgICAgICAgICAgICAoY2xpY2spPVwidXBkYXRlTWVudU9yZGVyKClcIj5cbiAgICAgICAgICAgICAgU3VibWl0XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGJyIC8+XG4gICAgICA8L3AtY2FyZD5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cblxuPGRpdiBjbGFzcz1cIm1vZGFsXCIgaWQ9XCJEZWxldGV1c2VyXCIgdGFiaW5kZXg9XCItMVwiIHJvbGU9XCJkaWFsb2dcIj5cbiAgPGRpdiBjbGFzcz1cIm1vZGFsLWRpYWxvZ1wiIHJvbGU9XCJkb2N1bWVudFwiPlxuICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICA8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPlxuICAgICAgICA8cD57eyBtb2RhbENvbnRlbnQgfX08L3A+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjbGVhcmZpeFwiPjwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMlwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJwdWxsLXJpZ2h0IG1iLTIgYnRuIGJ0bi1wcmltYXJ5IGJ0bmNvbW1vbiBkZWxldGVcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiIChjbGljayk9XCJkZWxldGVSb2xlKClcIlxuICAgICAgICAgICAgKm5nSWY9XCJkZWxldGVhY3RpdmVfdXNlclwiPlxuICAgICAgICAgICAgRGVsZXRlXG4gICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicHVsbC1yaWdodCBtYi0yIG1yLTIgYnRuIGJnLXdoaXRlIHRleHQtcHJpbWFyeSBidG5jYW5jZWxcIiBkYXRhLWRpc21pc3M9XCJtb2RhbFwiXG4gICAgICAgICAgICAqbmdJZj1cImRlbGV0ZWFjdGl2ZV9idXR0b25va1wiPlxuICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInB1bGwtcmlnaHQgbWItMiBtci0yIGJ0biBiZy13aGl0ZSB0ZXh0LXByaW1hcnkgYnRuY2FuY2VsXCIgZGF0YS1kaXNtaXNzPVwibW9kYWxcIlxuICAgICAgICAgICAgKm5nSWY9XCIhZGVsZXRlYWN0aXZlX2J1dHRvbm9rXCI+XG4gICAgICAgICAgICBPS1xuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2xlYXJmaXhcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbjwvZGl2PlxuIl19